{"ast":null,"code":"import { defineComponent, computed, ref, openBlock, createElementBlock, normalizeClass, unref, normalizeStyle, renderSlot, createBlock, resolveDynamicComponent, createCommentVNode, createElementVNode } from 'vue';\nimport { ArrowLeft, ArrowUp, ArrowRight, ArrowDown } from '@element-plus/icons-vue';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nconst __default__ = defineComponent({\n  name: \"ElSplitterBar\"\n});\nconst _sfc_main = /* @__PURE__ */defineComponent({\n  ...__default__,\n  props: {\n    index: {\n      type: Number,\n      required: true\n    },\n    layout: {\n      type: String,\n      values: [\"horizontal\", \"vertical\"],\n      default: \"horizontal\"\n    },\n    resizable: {\n      type: Boolean,\n      default: true\n    },\n    lazy: Boolean,\n    startCollapsible: Boolean,\n    endCollapsible: Boolean\n  },\n  emits: [\"moveStart\", \"moving\", \"moveEnd\", \"collapse\"],\n  setup(__props, {\n    emit\n  }) {\n    const props = __props;\n    const ns = useNamespace(\"splitter-bar\");\n    const isHorizontal = computed(() => props.layout === \"horizontal\");\n    const barWrapStyles = computed(() => {\n      if (isHorizontal.value) {\n        return {\n          width: 0\n        };\n      }\n      return {\n        height: 0\n      };\n    });\n    const draggerStyles = computed(() => {\n      return {\n        width: isHorizontal.value ? \"16px\" : \"100%\",\n        height: isHorizontal.value ? \"100%\" : \"16px\",\n        cursor: !props.resizable ? \"auto\" : isHorizontal.value ? \"ew-resize\" : \"ns-resize\",\n        touchAction: \"none\"\n      };\n    });\n    const draggerPseudoClass = computed(() => {\n      const prefix = ns.e(\"dragger\");\n      return {\n        [`${prefix}-horizontal`]: isHorizontal.value,\n        [`${prefix}-vertical`]: !isHorizontal.value,\n        [`${prefix}-active`]: !!startPos.value\n      };\n    });\n    const startPos = ref(null);\n    const onMousedown = e => {\n      if (!props.resizable) return;\n      startPos.value = [e.pageX, e.pageY];\n      emit(\"moveStart\", props.index);\n      window.addEventListener(\"mouseup\", onMouseUp);\n      window.addEventListener(\"mousemove\", onMouseMove);\n    };\n    const onTouchStart = e => {\n      if (props.resizable && e.touches.length === 1) {\n        e.preventDefault();\n        const touch = e.touches[0];\n        startPos.value = [touch.pageX, touch.pageY];\n        emit(\"moveStart\", props.index);\n        window.addEventListener(\"touchend\", onTouchEnd);\n        window.addEventListener(\"touchmove\", onTouchMove);\n      }\n    };\n    const onMouseMove = e => {\n      const {\n        pageX,\n        pageY\n      } = e;\n      const offsetX = pageX - startPos.value[0];\n      const offsetY = pageY - startPos.value[1];\n      const offset = isHorizontal.value ? offsetX : offsetY;\n      emit(\"moving\", props.index, offset);\n    };\n    const onTouchMove = e => {\n      if (e.touches.length === 1) {\n        e.preventDefault();\n        const touch = e.touches[0];\n        const offsetX = touch.pageX - startPos.value[0];\n        const offsetY = touch.pageY - startPos.value[1];\n        const offset = isHorizontal.value ? offsetX : offsetY;\n        emit(\"moving\", props.index, offset);\n      }\n    };\n    const onMouseUp = () => {\n      startPos.value = null;\n      window.removeEventListener(\"mouseup\", onMouseUp);\n      window.removeEventListener(\"mousemove\", onMouseMove);\n      emit(\"moveEnd\", props.index);\n    };\n    const onTouchEnd = () => {\n      startPos.value = null;\n      window.removeEventListener(\"touchend\", onTouchEnd);\n      window.removeEventListener(\"touchmove\", onTouchMove);\n      emit(\"moveEnd\", props.index);\n    };\n    const StartIcon = computed(() => isHorizontal.value ? ArrowLeft : ArrowUp);\n    const EndIcon = computed(() => isHorizontal.value ? ArrowRight : ArrowDown);\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: normalizeClass([unref(ns).b()]),\n        style: normalizeStyle(unref(barWrapStyles))\n      }, [__props.startCollapsible ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        class: normalizeClass([unref(ns).e(\"collapse-icon\"), unref(ns).e(`${__props.layout}-collapse-icon-start`)]),\n        onClick: $event => emit(\"collapse\", __props.index, \"start\")\n      }, [renderSlot(_ctx.$slots, \"start-collapsible\", {}, () => [(openBlock(), createBlock(resolveDynamicComponent(unref(StartIcon)), {\n        style: {\n          \"width\": \"12px\",\n          \"height\": \"12px\"\n        }\n      }))])], 10, [\"onClick\"])) : createCommentVNode(\"v-if\", true), createElementVNode(\"div\", {\n        class: normalizeClass([unref(ns).e(\"dragger\"), unref(draggerPseudoClass), unref(ns).is(\"disabled\", !__props.resizable), unref(ns).is(\"lazy\", __props.resizable && __props.lazy)]),\n        style: normalizeStyle(unref(draggerStyles)),\n        onMousedown,\n        onTouchstart: onTouchStart\n      }, null, 38), __props.endCollapsible ? (openBlock(), createElementBlock(\"div\", {\n        key: 1,\n        class: normalizeClass([unref(ns).e(\"collapse-icon\"), unref(ns).e(`${__props.layout}-collapse-icon-end`)]),\n        onClick: $event => emit(\"collapse\", __props.index, \"end\")\n      }, [renderSlot(_ctx.$slots, \"end-collapsible\", {}, () => [(openBlock(), createBlock(resolveDynamicComponent(unref(EndIcon)), {\n        style: {\n          \"width\": \"12px\",\n          \"height\": \"12px\"\n        }\n      }))])], 10, [\"onClick\"])) : createCommentVNode(\"v-if\", true)], 6);\n    };\n  }\n});\nvar SplitBar = /* @__PURE__ */_export_sfc(_sfc_main, [[\"__file\", \"split-bar.vue\"]]);\nexport { SplitBar as default };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}