{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"dji-dashboard h-screen flex flex-col grid-bg\"\n};\nconst _hoisted_2 = {\n  class: \"header bg-gray-900 border-b border-gray-800 flex items-center justify-between px-4 h-16 flex-shrink-0 glass-effect\"\n};\nconst _hoisted_3 = {\n  class: \"flex items-center gap-2\"\n};\nconst _hoisted_4 = {\n  class: \"main-content flex flex-1 overflow-hidden\"\n};\nconst _hoisted_5 = {\n  class: \"left-panel w-60 bg-gray-900 border-r border-gray-800 p-4 overflow-y-auto flex-shrink-0 tech-border\"\n};\nconst _hoisted_6 = {\n  class: \"panel-section mb-6 tech-border\"\n};\nconst _hoisted_7 = {\n  class: \"space-y-2\"\n};\nconst _hoisted_8 = {\n  key: 1,\n  class: \"text-sm text-gray-400\"\n};\nconst _hoisted_9 = {\n  class: \"model-view flex-1 flex flex-col tech-border\"\n};\nconst _hoisted_10 = {\n  class: \"progress-container bg-gray-900 border-b border-gray-800 p-4 glass-effect\"\n};\nconst _hoisted_11 = {\n  ref: \"cesiumWrapper\",\n  class: \"cesium-wrapper flex-1 relative\"\n};\nconst _hoisted_12 = {\n  key: 0,\n  class: \"absolute inset-0 flex items-center justify-center bg-black bg-opacity-70 z-10 glass-effect\"\n};\nconst _hoisted_13 = {\n  key: 1,\n  class: \"absolute inset-0 flex items-center justify-center bg-black bg-opacity-70 z-10 glass-effect\"\n};\nconst _hoisted_14 = {\n  class: \"right-panel w-60 bg-gray-900 border-l border-gray-800 p-4 overflow-y-auto flex-shrink-0 tech-border\"\n};\nconst _hoisted_15 = {\n  class: \"panel-section mb-6 tech-border\"\n};\nconst _hoisted_16 = {\n  class: \"mb-2 text-sm\"\n};\nconst _hoisted_17 = {\n  key: 0,\n  class: \"text-blue-300\"\n};\nconst _hoisted_18 = {\n  key: 1,\n  class: \"text-gray-400\"\n};\nconst _hoisted_19 = {\n  key: 0,\n  class: \"loading-container h-64 flex items-center justify-center tech-border\"\n};\nconst _hoisted_20 = {\n  style: {\n    \"height\": \"70vh\"\n  }\n};\nconst _hoisted_21 = {\n  key: 0,\n  class: \"alarm-detail-container\"\n};\nconst _hoisted_22 = {\n  class: \"detail-row\"\n};\nconst _hoisted_23 = {\n  class: \"detail-value\"\n};\nconst _hoisted_24 = {\n  class: \"detail-row\"\n};\nconst _hoisted_25 = {\n  class: \"detail-value\"\n};\nconst _hoisted_26 = {\n  class: \"detail-row\"\n};\nconst _hoisted_27 = {\n  class: \"detail-value\"\n};\nconst _hoisted_28 = {\n  class: \"detail-row\"\n};\nconst _hoisted_29 = {\n  class: \"detail-value\"\n};\nconst _hoisted_30 = {\n  class: \"detail-row\"\n};\nconst _hoisted_31 = {\n  class: \"detail-value\"\n};\nconst _hoisted_32 = {\n  class: \"detail-row\"\n};\nconst _hoisted_33 = {\n  class: \"detail-value\"\n};\nconst _hoisted_34 = {\n  class: \"detail-row\"\n};\nconst _hoisted_35 = {\n  class: \"detail-value full-width\"\n};\nconst _hoisted_36 = {\n  key: 0,\n  class: \"detail-row\"\n};\nconst _hoisted_37 = {\n  class: \"detail-value full-width\"\n};\nconst _hoisted_38 = {\n  key: 1,\n  class: \"detail-row\"\n};\nconst _hoisted_39 = {\n  class: \"detail-value full-width\"\n};\nconst _hoisted_40 = {\n  slot: \"footer\",\n  class: \"dialog-footer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_WaylineFallback = _resolveComponent(\"WaylineFallback\");\n  const _component_TaskProgressBar = _resolveComponent(\"TaskProgressBar\");\n  const _component_el_alert = _resolveComponent(\"el-alert\");\n  const _component_el_spinner = _resolveComponent(\"el-spinner\");\n  const _component_AlarmPanel = _resolveComponent(\"AlarmPanel\");\n  const _component_DjiWaylineCreation = _resolveComponent(\"DjiWaylineCreation\");\n  const _component_el_dialog = _resolveComponent(\"el-dialog\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_image = _resolveComponent(\"el-image\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 顶部导航 \"), _createElementVNode(\"div\", _hoisted_2, [_cache[4] || (_cache[4] = _createElementVNode(\"div\", {\n    class: \"flex items-center\"\n  }, [_createElementVNode(\"h1\", {\n    class: \"text-xl font-bold text-blue-400\"\n  }, \"无人机巡检主控台\")], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_button, {\n    onClick: $options.resetView,\n    class: \"tech-button\"\n  }, {\n    default: _withCtx(() => [...(_cache[3] || (_cache[3] = [_createTextVNode(\"重置视角\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_button, {\n    onClick: $options.toggleWireframe,\n    class: \"tech-button\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString($data.wireframe ? '实体模式' : '线框模式'), 1 /* TEXT */)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"])])]), _createCommentVNode(\" 主内容区 \"), _createElementVNode(\"div\", _hoisted_4, [_createCommentVNode(\" 左侧控制面板 \"), _createElementVNode(\"div\", _hoisted_5, [_createCommentVNode(\" 航线管理 \"), _createElementVNode(\"div\", _hoisted_6, [_cache[6] || (_cache[6] = _createElementVNode(\"h3\", {\n    class: \"text-base font-medium mb-3 text-blue-400\"\n  }, \"航线管理\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_7, [_createCommentVNode(\" <el-button type=\\\"primary\\\" @click=\\\"openWaylineCreation\\\" class=\\\"w-full\\\" :disabled=\\\"!fh2Loaded\\\">新增航线</el-button> \"), _createCommentVNode(\" 当FH2未加载时，显示我们的备用航线列表组件 \"), !$data.fh2Loaded ? (_openBlock(), _createBlock(_component_WaylineFallback, {\n    key: 0,\n    class: \"mt-4\",\n    \"current-selected-id\": $data.selectedWayline?.id,\n    onWaylineSelected: $options.handleWaylineSelected\n  }, null, 8 /* PROPS */, [\"current-selected-id\", \"onWaylineSelected\"])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [...(_cache[5] || (_cache[5] = [_createElementVNode(\"p\", null, \"航线列表将在这里显示（由大疆组件提供）\", -1 /* CACHED */)]))]))])])]), _createCommentVNode(\" 3D模型视图区域 \"), _createElementVNode(\"div\", _hoisted_9, [_createCommentVNode(\" 任务进度条 \"), _createElementVNode(\"div\", _hoisted_10, [_cache[7] || (_cache[7] = _createElementVNode(\"h3\", {\n    class: \"text-base font-medium mb-2 text-blue-400\"\n  }, \"任务进度\", -1 /* CACHED */)), _createVNode(_component_TaskProgressBar, {\n    progress: $data.taskProgress,\n    \"current-task\": $data.currentTask,\n    \"remaining-time\": $data.remainingTime,\n    \"completed-tasks\": $data.completedTasks,\n    \"total-tasks\": $data.totalTasks\n  }, null, 8 /* PROPS */, [\"progress\", \"current-task\", \"remaining-time\", \"completed-tasks\", \"total-tasks\"])]), _createCommentVNode(\" Cesium容器 \"), _createElementVNode(\"div\", _hoisted_11, [_createCommentVNode(\" 加载指示器 \"), $data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [...(_cache[8] || (_cache[8] = [_createElementVNode(\"div\", {\n    class: \"flex flex-col items-center\"\n  }, [_createElementVNode(\"div\", {\n    class: \"w-12 h-12 border-4 border-blue-400 border-t-transparent rounded-full animate-spin mb-2 glow-blue\"\n  }), _createElementVNode(\"span\", {\n    class: \"text-blue-300\"\n  }, \"正在加载模型...\")], -1 /* CACHED */)]))])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 错误信息 \"), $data.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [_createVNode(_component_el_alert, {\n    title: $data.error,\n    type: \"error\",\n    \"show-icon\": \"\",\n    class: \"w-96 tech-border\"\n  }, null, 8 /* PROPS */, [\"title\"])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 显示FH2加载状态提示\\r\\n            <div v-if=\\\"!fh2Loaded && !loading && !error\\\" class=\\\"absolute top-4 right-4 z-10\\\">\\r\\n              <el-alert\\r\\n                title=\\\"大疆组件未正确加载，使用备用功能\\\"\\r\\n                type=\\\"warning\\\"\\r\\n                show-icon\\r\\n                :closable=\\\"false\\\"\\r\\n                class=\\\"max-w-xs tech-border\\\"\\r\\n              />\\r\\n            </div> \")], 512 /* NEED_PATCH */)]), _createCommentVNode(\" 右侧控制面板 \"), _createElementVNode(\"div\", _hoisted_14, [_createCommentVNode(\" 报警信息 \"), _createElementVNode(\"div\", _hoisted_15, [_cache[9] || (_cache[9] = _createElementVNode(\"h3\", {\n    class: \"text-base font-medium mb-3 text-blue-400\"\n  }, \"报警信息\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_16, [$data.selectedWayline ? (_openBlock(), _createElementBlock(\"span\", _hoisted_17, \" 当前航线: \" + _toDisplayString($data.selectedWayline.name), 1 /* TEXT */)) : (_openBlock(), _createElementBlock(\"span\", _hoisted_18, \" 未选择航线 \"))]), $data.loadingAlarms ? (_openBlock(), _createElementBlock(\"div\", _hoisted_19, [_createVNode(_component_el_spinner, {\n    type: \"primary\"\n  })])) : (_openBlock(), _createBlock(_component_AlarmPanel, {\n    key: 1,\n    alarms: $options.getFilteredAlarms(),\n    onRefresh: $options.handleAlarmRefresh,\n    onViewDetail: $options.handleViewAlarmDetail,\n    onProcessAlarm: $options.handleProcessAlarm,\n    class: \"h-64\"\n  }, null, 8 /* PROPS */, [\"alarms\", \"onRefresh\", \"onViewDetail\", \"onProcessAlarm\"]))]), _createCommentVNode(\" 实时监控 \"), _cache[10] || (_cache[10] = _createElementVNode(\"div\", {\n    class: \"panel-section mb-6 tech-border\"\n  }, [_createElementVNode(\"h3\", {\n    class: \"text-base font-medium mb-3 text-blue-400\"\n  }, \"实时监控\"), _createElementVNode(\"div\", {\n    class: \"h-32 flex items-center justify-center tech-border\"\n  }, [_createElementVNode(\"p\", {\n    class: \"text-gray-400 text-sm\"\n  }, \"实时监控将在这里显示（由大疆组件提供）\")])], -1 /* CACHED */)), _createCommentVNode(\" 无人机控制 \"), _cache[11] || (_cache[11] = _createElementVNode(\"div\", {\n    class: \"panel-section mb-6 tech-border\"\n  }, [_createElementVNode(\"h3\", {\n    class: \"text-base font-medium mb-3 text-blue-400\"\n  }, \"无人机控制\"), _createElementVNode(\"div\", {\n    class: \"h-32 flex items-center justify-center tech-border\"\n  }, [_createElementVNode(\"p\", {\n    class: \"text-gray-400 text-sm\"\n  }, \"控制面板将在这里显示（由大疆组件提供）\")])], -1 /* CACHED */))])]), _createCommentVNode(\" 航线创建对话框 \"), _createVNode(_component_el_dialog, {\n    modelValue: $data.showWaylineCreation,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.showWaylineCreation = $event),\n    title: \"创建航线\",\n    width: \"90%\",\n    height: \"90%\",\n    \"destroy-on-close\": \"\",\n    class: \"tech-dialog glass-effect\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_20, [$data.showWaylineCreation ? (_openBlock(), _createBlock(_component_DjiWaylineCreation, {\n      key: 0,\n      ref: \"waylineCreationComponent\",\n      config: $data.djiConfig\n    }, null, 8 /* PROPS */, [\"config\"])) : _createCommentVNode(\"v-if\", true)])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"]), _createCommentVNode(\" 告警详情弹窗 \"), _createVNode(_component_el_dialog, {\n    modelValue: $data.showAlarmDetail,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.showAlarmDetail = $event),\n    title: \"告警详情\",\n    width: \"800px\",\n    \"close-on-click-modal\": false,\n    class: \"tech-dialog glass-effect\"\n  }, {\n    default: _withCtx(() => [$data.currentAlarm ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [_createElementVNode(\"div\", _hoisted_22, [_cache[12] || (_cache[12] = _createElementVNode(\"div\", {\n      class: \"detail-label\"\n    }, \"告警ID：\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_23, _toDisplayString($data.currentAlarm.id), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_24, [_cache[13] || (_cache[13] = _createElementVNode(\"div\", {\n      class: \"detail-label\"\n    }, \"告警类型：\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_25, _toDisplayString($data.currentAlarm.category_details?.name || '未分类'), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_26, [_cache[14] || (_cache[14] = _createElementVNode(\"div\", {\n      class: \"detail-label\"\n    }, \"告警状态：\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_27, [_createVNode(_component_el_tag, {\n      type: $data.currentAlarm.status === 'PENDING' || $data.currentAlarm.status === 'PROCESSING' ? 'warning' : $data.currentAlarm.status === 'COMPLETED' ? 'success' : 'info'\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($options.getStatusText($data.currentAlarm.status)), 1 /* TEXT */)]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"type\"])])]), _createElementVNode(\"div\", _hoisted_28, [_cache[15] || (_cache[15] = _createElementVNode(\"div\", {\n      class: \"detail-label\"\n    }, \"告警时间：\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_29, _toDisplayString($data.currentAlarm.created_at ? new Date($data.currentAlarm.created_at).toLocaleString('zh-CN') : '--'), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_30, [_cache[16] || (_cache[16] = _createElementVNode(\"div\", {\n      class: \"detail-label\"\n    }, \"告警位置：\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_31, \"坐标(\" + _toDisplayString($data.currentAlarm.latitude || '--') + \", \" + _toDisplayString($data.currentAlarm.longitude || '--') + \")\", 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_32, [_cache[17] || (_cache[17] = _createElementVNode(\"div\", {\n      class: \"detail-label\"\n    }, \"航线信息：\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_33, _toDisplayString($data.currentAlarm.wayline?.name || $data.currentAlarm.wayline_details?.name || '未知航线'), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_34, [_cache[18] || (_cache[18] = _createElementVNode(\"div\", {\n      class: \"detail-label\"\n    }, \"告警描述：\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_35, _toDisplayString($data.currentAlarm.content || '--'), 1 /* TEXT */)]), $data.currentAlarm.specific_data ? (_openBlock(), _createElementBlock(\"div\", _hoisted_36, [_cache[19] || (_cache[19] = _createElementVNode(\"div\", {\n      class: \"detail-label\"\n    }, \"特定详情：\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_37, _toDisplayString(JSON.stringify($data.currentAlarm.specific_data, null, 2)), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), $data.currentAlarm.image_url ? (_openBlock(), _createElementBlock(\"div\", _hoisted_38, [_cache[20] || (_cache[20] = _createElementVNode(\"div\", {\n      class: \"detail-label\"\n    }, \"告警图片：\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_39, [_createVNode(_component_el_image, {\n      src: $data.currentAlarm.image_url,\n      \"preview-src-list\": [$data.currentAlarm.image_url],\n      fit: \"contain\",\n      style: {\n        \"max-width\": \"100%\",\n        \"max-height\": \"400px\",\n        \"cursor\": \"zoom-in\"\n      }\n    }, null, 8 /* PROPS */, [\"src\", \"preview-src-list\"])])])) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_40, [_createVNode(_component_el_button, {\n      class: \"tech-button\",\n      onClick: _cache[1] || (_cache[1] = $event => $data.showAlarmDetail = false)\n    }, {\n      default: _withCtx(() => [...(_cache[21] || (_cache[21] = [_createTextVNode(\"关闭\", -1 /* CACHED */)]))]),\n      _: 1 /* STABLE */\n    })])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"])]);\n}","map":{"version":3,"names":["class","ref","style","slot","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","_createVNode","_component_el_button","onClick","$options","resetView","_cache","toggleWireframe","$data","wireframe","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","fh2Loaded","_createBlock","_component_WaylineFallback","selectedWayline","id","onWaylineSelected","handleWaylineSelected","_hoisted_8","_hoisted_9","_hoisted_10","_component_TaskProgressBar","progress","taskProgress","currentTask","remainingTime","completedTasks","totalTasks","_hoisted_11","loading","_hoisted_12","error","_hoisted_13","_component_el_alert","title","type","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_toDisplayString","name","_hoisted_18","loadingAlarms","_hoisted_19","_component_el_spinner","_component_AlarmPanel","alarms","getFilteredAlarms","onRefresh","handleAlarmRefresh","onViewDetail","handleViewAlarmDetail","onProcessAlarm","handleProcessAlarm","_component_el_dialog","showWaylineCreation","$event","width","height","_hoisted_20","_component_DjiWaylineCreation","config","djiConfig","showAlarmDetail","currentAlarm","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","category_details","_hoisted_26","_hoisted_27","_component_el_tag","status","getStatusText","_hoisted_28","_hoisted_29","created_at","Date","toLocaleString","_hoisted_30","_hoisted_31","latitude","longitude","_hoisted_32","_hoisted_33","wayline","wayline_details","_hoisted_34","_hoisted_35","content","specific_data","_hoisted_36","_hoisted_37","JSON","stringify","image_url","_hoisted_38","_hoisted_39","_component_el_image","src","fit","_hoisted_40"],"sources":["D:\\projects\\FlightHub-2-Frontend-Standalone-Component\\frontend\\src\\views\\DjiDashboard.vue"],"sourcesContent":["<template>\r\n  <div class=\"dji-dashboard h-screen flex flex-col grid-bg\">\r\n    <!-- 顶部导航 -->\r\n    <div class=\"header bg-gray-900 border-b border-gray-800 flex items-center justify-between px-4 h-16 flex-shrink-0 glass-effect\">\r\n      <div class=\"flex items-center\">\r\n        <h1 class=\"text-xl font-bold text-blue-400\">无人机巡检主控台</h1>\r\n      </div>\r\n      <div class=\"flex items-center gap-2\">\r\n        <el-button @click=\"resetView\" class=\"tech-button\">重置视角</el-button>\r\n        <el-button @click=\"toggleWireframe\" class=\"tech-button\">{{ wireframe ? '实体模式' : '线框模式' }}</el-button>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- 主内容区 -->\r\n    <div class=\"main-content flex flex-1 overflow-hidden\">\r\n      <!-- 左侧控制面板 -->\r\n      <div class=\"left-panel w-60 bg-gray-900 border-r border-gray-800 p-4 overflow-y-auto flex-shrink-0 tech-border\">\r\n        <!-- 航线管理 -->\r\n        <div class=\"panel-section mb-6 tech-border\">\r\n          <h3 class=\"text-base font-medium mb-3 text-blue-400\">航线管理</h3>\r\n          <div class=\"space-y-2\">\r\n            <!-- <el-button type=\"primary\" @click=\"openWaylineCreation\" class=\"w-full\" :disabled=\"!fh2Loaded\">新增航线</el-button> -->\r\n            \r\n            <!-- 当FH2未加载时，显示我们的备用航线列表组件 -->\r\n            <WaylineFallback \r\n              v-if=\"!fh2Loaded\" \r\n              class=\"mt-4\" \r\n              :current-selected-id=\"selectedWayline?.id\"\r\n              @wayline-selected=\"handleWaylineSelected\"\r\n            />\r\n            \r\n            <div v-else class=\"text-sm text-gray-400\">\r\n              <p>航线列表将在这里显示（由大疆组件提供）</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- 3D模型视图区域 -->\r\n        <div class=\"model-view flex-1 flex flex-col tech-border\">\r\n        <!-- 任务进度条 -->\r\n          <div class=\"progress-container bg-gray-900 border-b border-gray-800 p-4 glass-effect\">\r\n            <h3 class=\"text-base font-medium mb-2 text-blue-400\">任务进度</h3>\r\n          <TaskProgressBar \r\n            :progress=\"taskProgress\"\r\n            :current-task=\"currentTask\"\r\n            :remaining-time=\"remainingTime\"\r\n            :completed-tasks=\"completedTasks\"\r\n            :total-tasks=\"totalTasks\"\r\n          />\r\n        </div>\r\n        \r\n        <!-- Cesium容器 -->\r\n          <div ref=\"cesiumWrapper\" class=\"cesium-wrapper flex-1 relative\">\r\n            <!-- 加载指示器 -->\r\n            <div v-if=\"loading\" class=\"absolute inset-0 flex items-center justify-center bg-black bg-opacity-70 z-10 glass-effect\">\r\n              <div class=\"flex flex-col items-center\">\r\n                <div class=\"w-12 h-12 border-4 border-blue-400 border-t-transparent rounded-full animate-spin mb-2 glow-blue\"></div>\r\n                <span class=\"text-blue-300\">正在加载模型...</span>\r\n              </div>\r\n            </div>\r\n            \r\n            <!-- 错误信息 -->\r\n            <div v-if=\"error\" class=\"absolute inset-0 flex items-center justify-center bg-black bg-opacity-70 z-10 glass-effect\">\r\n              <el-alert\r\n                :title=\"error\"\r\n                type=\"error\"\r\n                show-icon\r\n                class=\"w-96 tech-border\"\r\n              />\r\n            </div>\r\n            \r\n            <!-- 显示FH2加载状态提示\r\n            <div v-if=\"!fh2Loaded && !loading && !error\" class=\"absolute top-4 right-4 z-10\">\r\n              <el-alert\r\n                title=\"大疆组件未正确加载，使用备用功能\"\r\n                type=\"warning\"\r\n                show-icon\r\n                :closable=\"false\"\r\n                class=\"max-w-xs tech-border\"\r\n              />\r\n            </div> -->\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- 右侧控制面板 -->\r\n        <div class=\"right-panel w-60 bg-gray-900 border-l border-gray-800 p-4 overflow-y-auto flex-shrink-0 tech-border\">\r\n        <!-- 报警信息 -->\r\n          <div class=\"panel-section mb-6 tech-border\">\r\n            <h3 class=\"text-base font-medium mb-3 text-blue-400\">报警信息</h3>\r\n          <div class=\"mb-2 text-sm\">\r\n              <span v-if=\"selectedWayline\" class=\"text-blue-300\">\r\n                当前航线: {{ selectedWayline.name }}\r\n              </span>\r\n              <span v-else class=\"text-gray-400\">\r\n                未选择航线\r\n              </span>\r\n            </div>\r\n          <div v-if=\"loadingAlarms\" class=\"loading-container h-64 flex items-center justify-center tech-border\">\r\n              <el-spinner type=\"primary\" />\r\n            </div>\r\n          <AlarmPanel \r\n            v-else\r\n            :alarms=\"getFilteredAlarms()\"\r\n            @refresh=\"handleAlarmRefresh\"\r\n            @view-detail=\"handleViewAlarmDetail\"\r\n            @process-alarm=\"handleProcessAlarm\"\r\n            class=\"h-64\"\r\n          />\r\n        </div>\r\n        \r\n        <!-- 实时监控 -->\r\n          <div class=\"panel-section mb-6 tech-border\">\r\n            <h3 class=\"text-base font-medium mb-3 text-blue-400\">实时监控</h3>\r\n            <div class=\"h-32 flex items-center justify-center tech-border\">\r\n              <p class=\"text-gray-400 text-sm\">实时监控将在这里显示（由大疆组件提供）</p>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- 无人机控制 -->\r\n          <div class=\"panel-section mb-6 tech-border\">\r\n            <h3 class=\"text-base font-medium mb-3 text-blue-400\">无人机控制</h3>\r\n            <div class=\"h-32 flex items-center justify-center tech-border\">\r\n              <p class=\"text-gray-400 text-sm\">控制面板将在这里显示（由大疆组件提供）</p>\r\n            </div>\r\n          </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- 航线创建对话框 -->\r\n    <el-dialog\r\n      v-model=\"showWaylineCreation\"\r\n      title=\"创建航线\"\r\n      width=\"90%\"\r\n      height=\"90%\"\r\n      destroy-on-close\r\n      class=\"tech-dialog glass-effect\"\r\n    >\r\n      <div style=\"height: 70vh\">\r\n        <DjiWaylineCreation \r\n          v-if=\"showWaylineCreation\"\r\n          ref=\"waylineCreationComponent\"\r\n          :config=\"djiConfig\"\r\n        />\r\n      </div>\r\n    </el-dialog>\r\n    \r\n    <!-- 告警详情弹窗 -->\r\n    <el-dialog\r\n      v-model=\"showAlarmDetail\"\r\n      title=\"告警详情\"\r\n      width=\"800px\"\r\n      :close-on-click-modal=\"false\"\r\n      class=\"tech-dialog glass-effect\"\r\n    >\r\n      <div v-if=\"currentAlarm\" class=\"alarm-detail-container\">\r\n        <div class=\"detail-row\">\r\n          <div class=\"detail-label\">告警ID：</div>\r\n          <div class=\"detail-value\">{{ currentAlarm.id }}</div>\r\n        </div>\r\n        \r\n        <div class=\"detail-row\">\r\n          <div class=\"detail-label\">告警类型：</div>\r\n          <div class=\"detail-value\">{{ currentAlarm.category_details?.name || '未分类' }}</div>\r\n        </div>\r\n        \r\n        <div class=\"detail-row\">\r\n          <div class=\"detail-label\">告警状态：</div>\r\n          <div class=\"detail-value\">\r\n            <el-tag :type=\"currentAlarm.status === 'PENDING' || currentAlarm.status === 'PROCESSING' ? 'warning' : currentAlarm.status === 'COMPLETED' ? 'success' : 'info'\">\r\n              {{ getStatusText(currentAlarm.status) }}\r\n            </el-tag>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"detail-row\">\r\n          <div class=\"detail-label\">告警时间：</div>\r\n          <div class=\"detail-value\">{{ currentAlarm.created_at ? new Date(currentAlarm.created_at).toLocaleString('zh-CN') : '--' }}</div>\r\n        </div>\r\n        \r\n        <div class=\"detail-row\">\r\n          <div class=\"detail-label\">告警位置：</div>\r\n          <div class=\"detail-value\">坐标({{ currentAlarm.latitude || '--' }}, {{ currentAlarm.longitude || '--' }})</div>\r\n        </div>\r\n        \r\n        <div class=\"detail-row\">\r\n          <div class=\"detail-label\">航线信息：</div>\r\n          <div class=\"detail-value\">{{ currentAlarm.wayline?.name || currentAlarm.wayline_details?.name || '未知航线' }}</div>\r\n        </div>\r\n        \r\n        <div class=\"detail-row\">\r\n          <div class=\"detail-label\">告警描述：</div>\r\n          <div class=\"detail-value full-width\">{{ currentAlarm.content || '--' }}</div>\r\n        </div>\r\n        \r\n        <div v-if=\"currentAlarm.specific_data\" class=\"detail-row\">\r\n          <div class=\"detail-label\">特定详情：</div>\r\n          <div class=\"detail-value full-width\">{{ JSON.stringify(currentAlarm.specific_data, null, 2) }}</div>\r\n        </div>\r\n        \r\n        <div v-if=\"currentAlarm.image_url\" class=\"detail-row\">\r\n          <div class=\"detail-label\">告警图片：</div>\r\n          <div class=\"detail-value full-width\">\r\n            <el-image\r\n              :src=\"currentAlarm.image_url\"\r\n              :preview-src-list=\"[currentAlarm.image_url]\"\r\n              fit=\"contain\"\r\n              style=\"max-width: 100%; max-height: 400px; cursor: zoom-in\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button class=\"tech-button\" @click=\"showAlarmDetail = false\">关闭</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.alarm-detail-container {\r\n  padding: 10px 0;\r\n}\r\n\r\n.detail-row {\r\n  margin-bottom: 20px;\r\n  display: flex;\r\n  align-items: flex-start;\r\n  border-bottom: 1px solid rgba(75, 85, 99, 0.3);\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.detail-row:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.detail-label {\r\n  width: 100px;\r\n  font-weight: bold;\r\n  color: #93c5fd;\r\n  margin-right: 10px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.detail-value {\r\n  flex: 1;\r\n  color: #d1d5db;\r\n  font-family: 'JetBrains Mono', monospace;\r\n}\r\n\r\n.full-width {\r\n  word-break: break-all;\r\n  line-height: 1.8;\r\n  background: rgba(31, 41, 55, 0.5);\r\n  padding: 8px;\r\n  border-radius: 4px;\r\n  border-left: 3px solid #3b82f6;\r\n}\r\n  /* 科技风格对话框 */\r\n  .tech-dialog {\r\n    background-color: #1f2937;\r\n    border: 1px solid #374151;\r\n    border-radius: 8px;\r\n    box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);\r\n  }\r\n\r\n  .tech-dialog :deep(.el-dialog__header) {\r\n    background-color: #111827;\r\n    border-bottom: 1px solid #374151;\r\n  }\r\n\r\n  .tech-dialog :deep(.el-dialog__title) {\r\n    color: #3b82f6;\r\n    font-weight: 600;\r\n  }\r\n\r\n  .tech-dialog :deep(.el-dialog__body) {\r\n    background-color: #1f2937;\r\n    color: #d1d5db;\r\n  }\r\n\r\n  .tech-dialog :deep(.el-dialog__footer) {\r\n    background-color: #111827;\r\n    border-top: 1px solid #374151;\r\n  }\r\n\r\n  /* 科技风格按钮 */\r\n  .tech-button {\r\n    background-color: #1f2937;\r\n    border: 1px solid #374151;\r\n    color: #d1d5db;\r\n    transition: all 0.3s ease;\r\n  }\r\n\r\n  .tech-button:hover {\r\n    background-color: #374151;\r\n    border-color: #3b82f6;\r\n    box-shadow: 0 0 10px rgba(59, 130, 246, 0.3);\r\n  }\r\n</style>\r\n\r\n<script>\r\nimport { DjiWaylineCreation } from '../djispace-components'\r\nimport TaskProgressBar from '../components/TaskProgressBar.vue'\r\nimport AlarmPanel from '../components/AlarmPanel.vue'\r\nimport WaylineFallback from '../components/WaylineFallback.vue'\r\nimport alarmApi from '../api/alarmApi.js'\r\n\r\nexport default {\r\n  name: 'DjiDashboard',\r\n  components: {\r\n    DjiWaylineCreation,\r\n    TaskProgressBar,\r\n    AlarmPanel,\r\n    WaylineFallback\r\n  },\r\n  data() {\r\n    return {\r\n      showWaylineCreation: false,\r\n      taskProgress: 65,\r\n      currentTask: '变电站设备检查',\r\n      remainingTime: '12:45',\r\n      completedTasks: 8,\r\n      totalTasks: 12,\r\n      // Cesium相关数据\r\n      viewer: null,\r\n      tileset: null,\r\n      loading: false,\r\n      error: '',\r\n      wireframe: false,\r\n      resizeObserver: null,\r\n      debouncedForceResize: null,\r\n      // 大疆组件加载状态\r\n      fh2Loaded: false,\r\n      // 全局变量：当前选中的航线\r\n      selectedWayline: null,\r\n      // 告警信息\r\n      alarms: [],\r\n      // 告警加载状态\r\n      loadingAlarms: false,\r\n      // 告警详情弹窗\r\n      showAlarmDetail: false,\r\n      currentAlarm: null,\r\n      // 配置信息需要根据实际环境进行修改\r\n      djiConfig: {\r\n        serverUrl: 'http://your-dji-server-ip-or-domain:30812',\r\n        wssUrl: 'ws://your-dji-server-ip-or-domain:30812/duplex/web',\r\n        hostUrl: 'http://your-dji-server-ip-or-domain',\r\n        // 复制 prjId 到这里\r\n        prjId: 'cdca2736-8096-4729-9bc7-497ad5b60d5e',\r\n        // 复制 projectToken 到这里\r\n        projectToken: 'your-project-token-here'\r\n      },\r\n      // 模拟报警数据，添加航线ID关联\r\n      mockAlarms: [\r\n        {\r\n          id: 1,\r\n          title: '电力线异常发热',\r\n          description: '在坐标(23.124, 113.235)处检测到电力线温度异常升高，可能存在线路老化或过载情况。',\r\n          timestamp: '2024-01-15T14:22:35',\r\n          location: '变电站A区域-东线路',\r\n          type: '温度异常',\r\n          severity: '高',\r\n          imageUrl: 'https://picsum.photos/800/600?random=1',\r\n          waylineId: 1\r\n        },\r\n        {\r\n          id: 2,\r\n          title: '绝缘子损伤',\r\n          description: '在铁塔#128处发现绝缘子表面有明显裂纹，需要进一步检查。',\r\n          timestamp: '2024-01-15T13:45:12',\r\n          location: '铁塔#128',\r\n          type: '设备损伤',\r\n          severity: '中',\r\n          imageUrl: 'https://picsum.photos/800/600?random=2',\r\n          waylineId: 1\r\n        },\r\n        {\r\n          id: 3,\r\n          title: '无人机信号弱',\r\n          description: '在航线中段区域信号强度明显减弱，建议调整飞行高度。',\r\n          timestamp: '2024-01-15T12:30:45',\r\n          location: '桥梁中部区域',\r\n          type: '信号异常',\r\n          severity: '低',\r\n          imageUrl: 'https://picsum.photos/800/600?random=3',\r\n          waylineId: 2\r\n        },\r\n        {\r\n          id: 4,\r\n          title: '电池电量警告',\r\n          description: '无人机电池电量低于30%，建议尽快返航。',\r\n          timestamp: '2024-01-15T11:15:20',\r\n          location: '河道巡查区段',\r\n          type: '电量警告',\r\n          severity: '中',\r\n          imageUrl: 'https://picsum.photos/800/600?random=4',\r\n          waylineId: 3\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  async mounted() {\r\n    // 检查FH2是否已加载\r\n    this.checkFh2Availability()\r\n    \r\n    // 等待DOM更新完成后再初始化Cesium\r\n    this.$nextTick(async () => {\r\n      // 等待一小段时间确保DOM完全渲染\r\n      setTimeout(async () => {\r\n        // 等待Cesium资源加载完成后再初始化\r\n        await this.initCesium()\r\n        \r\n        // 初始化 ResizeObserver\r\n        this.initResizeObserver()\r\n        \r\n        // 自动加载默认模型\r\n        await this.loadModel()\r\n      }, 200)\r\n    })\r\n  },\r\n  beforeUnmount() {\r\n    if (this.viewer) {\r\n      this.viewer.destroy()\r\n    }\r\n    // 清理 ResizeObserver\r\n    if (this.resizeObserver) {\r\n      this.resizeObserver.disconnect()\r\n    }\r\n    // 移除窗口大小调整事件监听\r\n    window.removeEventListener('resize', this.handleWindowResize)\r\n    // 清理防抖函数的定时器\r\n    if (this.debouncedForceResize && this.debouncedForceResize.timeout) {\r\n      clearTimeout(this.debouncedForceResize.timeout)\r\n    }\r\n  },\r\n  methods: {\r\n    // 检查FH2是否可用\r\n    checkFh2Availability() {\r\n      // 检查全局是否存在FH2对象\r\n      if (typeof window.FH2 !== 'undefined') {\r\n        this.fh2Loaded = true\r\n        console.log('FH2已成功加载')\r\n      } else {\r\n        this.fh2Loaded = false\r\n        console.warn('FH2未正确加载，将使用备用组件')\r\n        \r\n        // 设置一个定时器，再次检查FH2是否加载完成\r\n        setTimeout(() => {\r\n          this.checkFh2Availability()\r\n        }, 1000)\r\n      }\r\n    },\r\n    \r\n    openWaylineCreation() {\r\n      if (!this.fh2Loaded) {\r\n        this.$message.warning('大疆组件未正确加载，无法创建航线')\r\n        return\r\n      }\r\n      this.showWaylineCreation = true\r\n    },\r\n    handleAlarmRefresh() {\r\n      console.log('刷新报警信息')\r\n      // 如果有选中的航线，刷新告警信息\r\n      if (this.selectedWayline) {\r\n        this.fetchAlarmsByWayline(this.selectedWayline.id)\r\n      }\r\n    },\r\n    handleViewAlarmDetail(alarm) {\r\n      console.log('查看报警详情:', alarm)\r\n      this.currentAlarm = alarm\r\n      this.showAlarmDetail = true\r\n    },\r\n    handleProcessAlarm(alarmId) {\r\n      console.log('处理报警:', alarmId)\r\n      // 从alarms数组中移除已处理的报警\r\n      this.alarms = this.alarms.filter(alarm => alarm.id !== alarmId)\r\n      \r\n      // 调用API更新告警状态\r\n      this.updateAlarmStatus(alarmId)\r\n    },\r\n    \r\n    // 更新告警状态\r\n    async updateAlarmStatus(alarmId) {\r\n      try {\r\n        // 根据后端模型，正确的完成状态是'COMPLETED'\r\n        await alarmApi.patchAlarm(alarmId, { status: 'COMPLETED' })\r\n        console.log('告警状态更新成功')\r\n      } catch (error) {\r\n        console.error('更新告警状态失败:', error)\r\n        // 不影响前端显示，仅记录错误\r\n      }\r\n    },\r\n    \r\n    // 处理航线选择事件\r\n    handleWaylineSelected(wayline) {\r\n      console.log('选中航线:', wayline)\r\n      this.selectedWayline = wayline\r\n      // 当选择航线时，获取该航线的告警信息\r\n      this.fetchAlarmsByWayline(wayline.id)\r\n    },\r\n    \r\n    // 根据航线ID获取告警信息\r\n    async fetchAlarmsByWayline(waylineId) {\r\n      if (!waylineId) {\r\n        this.alarms = []\r\n        return\r\n      }\r\n      \r\n      this.loadingAlarms = true\r\n      try {\r\n        // 调用API获取告警信息，使用wayline_id参数过滤\r\n        const response = await alarmApi.getAlarms({ wayline_id: waylineId })\r\n        // 转换API返回的数据格式以适配AlarmPanel组件\r\n        this.alarms = this.transformAlarmData(response)\r\n      } catch (error) {\r\n        console.error('获取告警信息失败:', error)\r\n        this.$message.error('获取告警信息失败，请稍后重试')\r\n        // 出错时使用空数组，避免显示错误数据\r\n        this.alarms = []\r\n      } finally {\r\n        this.loadingAlarms = false\r\n      }\r\n    },\r\n    \r\n    // 转换API返回的告警数据格式\r\n    transformAlarmData(alarmData) {\r\n      // 确保alarmData是数组\r\n      const alarms = Array.isArray(alarmData) ? alarmData : (alarmData.results || [])\r\n      \r\n      // 直接返回后端API的数据，不再转换为旧格式\r\n      // 保留原始字段结构，确保与AlarmPanel组件兼容\r\n      return alarms\r\n    },\r\n    \r\n    // 获取告警严重级别\r\n    getSeverityLevel(level) {\r\n      switch (level) {\r\n        case 3:\r\n        case 'high':\r\n        case '高':\r\n          return '高'\r\n        case 2:\r\n        case 'medium':\r\n        case '中':\r\n          return '中'\r\n        case 1:\r\n        case 'low':\r\n        case '低':\r\n          return '低'\r\n        default:\r\n          return '低'\r\n      }\r\n    },\r\n    \r\n    // 获取当前选中航线的告警信息\r\n    getFilteredAlarms() {\r\n      // 直接返回从API获取的告警信息，因为我们已经根据航线ID过滤过了\r\n      return this.alarms\r\n    },\r\n    async initCesium() {\r\n      try {\r\n        // 动态导入Cesium\r\n        const Cesium = await import('cesium')\r\n        \r\n        // 设置Cesium的access token为空（因为我们使用的是本地资源）\r\n        Cesium.Ion.defaultAccessToken = ''\r\n        \r\n        // 使用引用获取包装器元素\r\n        const wrapper = this.$refs.cesiumWrapper\r\n        if (!wrapper) {\r\n          throw new Error('找不到 cesiumWrapper 元素')\r\n        }\r\n        \r\n        // 移除已存在的Cesium容器（如果有）\r\n        const existingContainer = document.getElementById('cesiumContainer')\r\n        if (existingContainer) {\r\n          existingContainer.remove()\r\n        }\r\n        \r\n        // 使用原生DOM操作创建容器，避免Vue响应式影响\r\n        const container = document.createElement('div')\r\n        container.id = 'cesiumContainer'\r\n        \r\n        // 重要：在添加到DOM前先设置好样式\r\n        container.style.width = '100%'\r\n        container.style.height = '100%'\r\n        container.style.position = 'relative'\r\n        container.style.margin = '0'\r\n        container.style.padding = '0'\r\n        container.style.overflow = 'hidden'\r\n        container.style.zIndex = '1'\r\n        \r\n        // 先将容器添加到DOM中\r\n        wrapper.appendChild(container)\r\n        \r\n        // 等待并确保容器有正确的尺寸\r\n        let attempts = 0;\r\n        const maxAttempts = 20;\r\n        let width, height;\r\n        \r\n        do {\r\n          width = wrapper.offsetWidth\r\n          height = wrapper.offsetHeight\r\n          \r\n          if (width <= 0 || height <= 0) {\r\n            await new Promise(resolve => setTimeout(resolve, 50));\r\n            attempts++;\r\n          } else {\r\n            break;\r\n          }\r\n        } while (attempts < maxAttempts);\r\n        \r\n        if (width <= 0 || height <= 0) {\r\n          throw new Error(`无效的容器尺寸: ${width}x${height}`)\r\n        }\r\n        \r\n        console.log('初始化Cesium容器尺寸:', width, 'x', height)\r\n        \r\n        // 初始化Cesium Viewer - 添加一些关键配置以确保正确的大小调整\r\n        this.viewer = new Cesium.Viewer(container, {\r\n          animation: false,\r\n          baseLayerPicker: false,\r\n          fullscreenButton: false,\r\n          vrButton: false,\r\n          geocoder: false,\r\n          homeButton: false,\r\n          infoBox: false,\r\n          sceneModePicker: false,\r\n          selectionIndicator: false,\r\n          timeline: false,\r\n          navigationHelpButton: false,\r\n          navigationInstructionsInitiallyVisible: false,\r\n          scene3DOnly: true,\r\n          shadows: true,\r\n          shouldAnimate: true,\r\n          creditContainer: document.createElement('div'),\r\n          // 关键配置：避免Cesium自动添加resize监听器，由我们自己控制\r\n          automaticallyTrackDataSourceClocks: false,\r\n          // 提高渲染性能\r\n          orderIndependentTranslucency: true,\r\n          // 确保canvas元素可以正确调整大小\r\n          contextOptions: {\r\n            alpha: true,\r\n            stencil: true\r\n          }\r\n        })\r\n        \r\n        // 确保canvas元素的尺寸正确设置\r\n        if (this.viewer && this.viewer.canvas) {\r\n          this.viewer.canvas.style.width = '100%'\r\n          this.viewer.canvas.style.height = '100%'\r\n        }\r\n\r\n        // 设置初始视角\r\n        this.viewer.camera.setView({\r\n          destination: Cesium.Cartesian3.fromDegrees(116.3913, 39.9075, 1000),\r\n          orientation: {\r\n            heading: Cesium.Math.toRadians(0),\r\n            pitch: Cesium.Math.toRadians(-30),\r\n            roll: 0.0\r\n          }\r\n        })\r\n      } catch (err) {\r\n        this.error = '初始化Cesium失败: ' + err.message\r\n        console.error('Cesium initialization error:', err)\r\n      }\r\n    },\r\n    // 防抖函数\r\n    debounce(func, wait) {\r\n      let timeout;\r\n      return function executedFunction(...args) {\r\n        const later = () => {\r\n          clearTimeout(timeout);\r\n          func(...args);\r\n        };\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(later, wait);\r\n      };\r\n    },\r\n    \r\n    initResizeObserver() {\r\n      const wrapper = this.$refs.cesiumWrapper\r\n      if (!wrapper) return\r\n      \r\n      // 移除任何现有的ResizeObserver，防止多个实例\r\n      if (this.resizeObserver) {\r\n        this.resizeObserver.disconnect()\r\n      }\r\n      \r\n      // 创建更宽松的防抖函数\r\n      this.debouncedForceResize = this.debounce(() => {\r\n        if (this.viewer) {\r\n          console.log('防抖后调用forceResize')\r\n          this.forceResize()\r\n        }\r\n      }, 100) // 增加到100ms，给DOM更多时间稳定\r\n      \r\n      // 创建 ResizeObserver 实例，但避免在回调中立即修改DOM\r\n      this.resizeObserver = new ResizeObserver(entries => {\r\n        // 记录尺寸变化，但不直接在回调中修改\r\n        if (entries.length > 0) {\r\n          const entry = entries[0]\r\n          const width = entry.contentRect.width\r\n          const height = entry.contentRect.height\r\n          console.log(`ResizeObserver检测到尺寸变化: ${width}x${height}`)\r\n        }\r\n        // 使用防抖函数延迟处理\r\n        this.debouncedForceResize()\r\n      })\r\n      \r\n      // 只观察包装器元素\r\n      this.resizeObserver.observe(wrapper, {\r\n        box: 'content-box' // 观察内容盒大小\r\n      })\r\n      \r\n      // 添加窗口调整大小事件监听\r\n      window.addEventListener('resize', this.handleWindowResize)\r\n      \r\n      // 初始时立即调用一次调整大小\r\n      setTimeout(() => {\r\n        this.forceResize()\r\n      }, 100)\r\n    },\r\n    \r\n    handleWindowResize() {\r\n      if (this.viewer) {\r\n        // 利用已定义的防抖函数\r\n        this.debouncedForceResize()\r\n      }\r\n    },\r\n    // 获取状态文本\r\n    getStatusText(status) {\r\n      const statusMap = {\r\n        'PENDING': '待处理',\r\n        'PROCESSING': '处理中',\r\n        'COMPLETED': '已完成',\r\n        'IGNORED': '已忽略'\r\n      }\r\n      return statusMap[status] || status\r\n    },\r\n    // 强制调整Cesium容器大小\r\n    forceResize() {\r\n      try {\r\n        console.log('开始强制调整大小...')\r\n        const wrapper = this.$refs.cesiumWrapper\r\n        const container = document.getElementById('cesiumContainer')\r\n        \r\n        if (!wrapper || !container || !this.viewer) {\r\n          console.warn('无法调整大小：缺少必要元素')\r\n          return\r\n        }\r\n        \r\n        // 强制重新计算布局\r\n        void wrapper.offsetHeight\r\n        \r\n        // 获取包装器的实际尺寸\r\n        const width = wrapper.offsetWidth\r\n        const height = wrapper.offsetHeight\r\n        \r\n        // 避免无效尺寸\r\n        if (width <= 0 || height <= 0) {\r\n          console.warn('无效的容器尺寸，跳过调整:', width, 'x', height)\r\n          return\r\n        }\r\n        \r\n        console.log('获取到的包装器尺寸:', width, 'x', height)\r\n        \r\n        // 更新错误信息\r\n        this.error = ''\r\n        \r\n        // 关键修改：使用百分比而非像素值，让CSS自动处理\r\n        container.style.width = '100%'\r\n        container.style.height = '100%'\r\n        \r\n        // 确保canvas元素也使用百分比\r\n        if (this.viewer && this.viewer.canvas) {\r\n          this.viewer.canvas.style.width = '100%'\r\n          this.viewer.canvas.style.height = '100%'\r\n          console.log('设置canvas样式为100%宽高')\r\n        }\r\n        \r\n        // 直接强制重新创建视图，使用try-catch防止resize方法不存在的错误\r\n        if (this.viewer) {\r\n          console.log('尝试调整视图大小')\r\n          try {\r\n            // 安全调用resize方法\r\n            if (this.viewer.scene && typeof this.viewer.scene.resize === 'function') {\r\n              this.viewer.scene.resize()\r\n            }\r\n            if (typeof this.viewer.resize === 'function') {\r\n              this.viewer.resize()\r\n            }\r\n          } catch (resizeError) {\r\n            console.warn('调整视图大小方法调用失败，但不影响功能:', resizeError)\r\n          }\r\n          \r\n          // 强制重排和重绘\r\n          void container.offsetHeight\r\n        }\r\n      } catch (error) {\r\n        console.error('调整大小失败:', error)\r\n      }\r\n    },\r\n    async loadModel() {\r\n      if (!this.viewer) return\r\n      \r\n      this.loading = true\r\n      this.error = ''\r\n      \r\n      try {\r\n        // 动态导入Cesium\r\n        const Cesium = await import('cesium')\r\n        \r\n        // 如果已有模型，先移除\r\n        if (this.tileset) {\r\n          this.viewer.scene.primitives.remove(this.tileset)\r\n          this.tileset = null\r\n        }\r\n        \r\n        // 加载3D Tiles数据集\r\n        this.tileset = await Cesium.Cesium3DTileset.fromUrl('/models/Model_0/tileset.json')\r\n        \r\n        this.viewer.scene.primitives.add(this.tileset)\r\n        \r\n        // 缩放到模型\r\n        if (this.tileset.readyPromise) {\r\n          this.tileset.readyPromise.then(() => {\r\n            this.flyToModel()\r\n          }).catch(error => {\r\n            this.error = '模型加载失败: ' + error.message\r\n            console.error('Tileset loading error:', error)\r\n          }).finally(() => {\r\n            this.loading = false\r\n          })\r\n        } else {\r\n          // 如果没有readyPromise，直接设置状态\r\n          this.flyToModel()\r\n          this.loading = false\r\n        }\r\n      } catch (err) {\r\n        this.error = '模型加载失败: ' + err.message\r\n        this.loading = false\r\n        console.error('Model loading error:', err)\r\n      }\r\n    },\r\n    flyToModel() {\r\n      if (this.viewer && this.tileset) {\r\n        this.viewer.flyTo(this.tileset)\r\n      }\r\n    },\r\n    async resetView() {\r\n      if (this.viewer) {\r\n        // 重置到初始视角\r\n        const Cesium = await import('cesium')\r\n        this.viewer.camera.setView({\r\n          destination: Cesium.Cartesian3.fromDegrees(116.3913, 39.9075, 1000),\r\n          orientation: {\r\n            heading: Cesium.Math.toRadians(0),\r\n            pitch: Cesium.Math.toRadians(-30),\r\n            roll: 0.0\r\n          }\r\n        })\r\n      }\r\n    },\r\n    toggleWireframe() {\r\n      if (!this.tileset) return\r\n      \r\n      this.wireframe = !this.wireframe\r\n      this.tileset.debugWireframe = this.wireframe\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* 基础布局样式 */\r\n.dji-dashboard {\r\n  width: 100%;\r\n  height: 100vh;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n}\r\n\r\n.header {\r\n  z-index: 10;\r\n}\r\n\r\n.main-content {\r\n  display: flex;\r\n  flex: 1;\r\n  overflow: hidden;\r\n}\r\n\r\n.model-view {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-width: 0; /* 防止flex子元素溢出 */\r\n}\r\n\r\n.cesium-wrapper {\r\n  flex: 1;\r\n  position: relative;\r\n  min-height: 0; /* 防止flex子元素溢出 */\r\n  border: 1px solid #374151;\r\n  border-radius: 4px;\r\n  margin: 8px;\r\n  margin-top: 0;\r\n  background: #0f172a;\r\n}\r\n\r\n.left-panel, .right-panel {\r\n  flex-shrink: 0;\r\n  min-height: 0; /* 防止flex子元素溢出 */\r\n}\r\n\r\n/* 面板部分样式 */\r\n.panel-section {\r\n  padding-bottom: 1rem;\r\n  border-bottom: 1px solid #374151;\r\n}\r\n\r\n.panel-section:last-child {\r\n  border-bottom: none;\r\n  padding-bottom: 0;\r\n}\r\n\r\n/* 进度条容器样式 */\r\n.progress-container {\r\n  flex-shrink: 0;\r\n  border: 1px solid #374151;\r\n  border-radius: 4px;\r\n  margin: 8px;\r\n  margin-bottom: 0;\r\n}\r\n\r\n/* Cesium容器样式 - 通过JS动态设置，这里只设置基础样式 */\r\n#cesiumContainer {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  margin: 0;\r\n  padding: 0;\r\n  overflow: hidden;\r\n  z-index: 1;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n/* 加载状态样式 */\r\n.loading-container {\r\n  background-color: #1f2937;\r\n  border-radius: 4px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n/* 强制所有元素正确计算大小 */\r\n* {\r\n  box-sizing: border-box;\r\n}\r\n\r\n/* Element Plus 暗黑模式覆盖 */\r\n.el-button {\r\n  background-color: #1f2937;\r\n  border: 1px solid #374151;\r\n  color: #d1d5db;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.el-button:hover {\r\n  background-color: #374151;\r\n  border-color: #3b82f6;\r\n  color: #f3f4f6;\r\n  box-shadow: 0 0 10px rgba(59, 130, 246, 0.3);\r\n}\r\n\r\n.el-dialog__header {\r\n  background: #1f2937;\r\n  border-bottom: 1px solid #374151;\r\n}\r\n\r\n.el-dialog__title {\r\n  color: #3b82f6;\r\n}\r\n\r\n.el-dialog__body {\r\n  background: #111827;\r\n  color: #d1d5db;\r\n}\r\n\r\n.el-dialog__footer {\r\n  background: #1f2937;\r\n  border-top: 1px solid #374151;\r\n}\r\n\r\n.el-alert {\r\n  background: rgba(17, 24, 39, 0.9);\r\n  border: 1px solid #374151;\r\n  color: #d1d5db;\r\n}\r\n\r\n.el-alert__description {\r\n  color: #9ca3af;\r\n}\r\n\r\n/* 添加科技感网格线 */\r\n.dji-dashboard::before {\r\n  content: '';\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-image: \r\n    linear-gradient(rgba(59, 130, 246, 0.1) 1px, transparent 1px),\r\n    linear-gradient(90deg, rgba(59, 130, 246, 0.1) 1px, transparent 1px);\r\n  background-size: 30px 30px;\r\n  pointer-events: none;\r\n  z-index: -1;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}