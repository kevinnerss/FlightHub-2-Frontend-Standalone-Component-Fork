{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"monitor-panel\"\n};\nconst _hoisted_2 = {\n  class: \"video-container\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"stream-placeholder\"\n};\nconst _hoisted_4 = {\n  key: 1,\n  class: \"video-stream\"\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = {\n  class: \"stream-overlay\"\n};\nconst _hoisted_7 = {\n  class: \"drone-status\"\n};\nconst _hoisted_8 = {\n  class: \"status-row\"\n};\nconst _hoisted_9 = {\n  class: \"status-row\"\n};\nconst _hoisted_10 = {\n  class: \"battery-value\"\n};\nconst _hoisted_11 = {\n  class: \"status-row\"\n};\nconst _hoisted_12 = {\n  class: \"status-row\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_progress = _resolveComponent(\"el-progress\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [!$props.isStreaming ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_cache[1] || (_cache[1] = _createElementVNode(\"i\", {\n    class: \"el-icon-video-camera\"\n  }, null, -1 /* CACHED */)), _cache[2] || (_cache[2] = _createElementVNode(\"p\", null, \"视频流未连接\", -1 /* CACHED */)), _createVNode(_component_el_button, {\n    size: \"small\",\n    type: \"primary\",\n    onClick: $options.refreshStream\n  }, {\n    default: _withCtx(() => [...(_cache[0] || (_cache[0] = [_createTextVNode(\" 重新连接 \", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"img\", {\n    src: $props.videoStreamUrl,\n    alt: \"视频流\",\n    class: \"stream-image\"\n  }, null, 8 /* PROPS */, _hoisted_5), _createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_el_tag, {\n    type: \"success\"\n  }, {\n    default: _withCtx(() => [...(_cache[3] || (_cache[3] = [_createTextVNode(\"在线\", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  })])]))]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_cache[4] || (_cache[4] = _createElementVNode(\"span\", {\n    class: \"status-label\"\n  }, \"状态:\", -1 /* CACHED */)), _createVNode(_component_el_tag, {\n    type: $options.getStatusType($props.droneStatus)\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString($props.droneStatus), 1 /* TEXT */)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"type\"])]), _createElementVNode(\"div\", _hoisted_9, [_cache[5] || (_cache[5] = _createElementVNode(\"span\", {\n    class: \"status-label\"\n  }, \"电量:\", -1 /* CACHED */)), _createVNode(_component_el_progress, {\n    percentage: $props.batteryLevel,\n    \"stroke-width\": 12,\n    \"show-text\": false,\n    color: $options.batteryColor,\n    class: \"battery-progress\"\n  }, null, 8 /* PROPS */, [\"percentage\", \"color\"]), _createElementVNode(\"span\", _hoisted_10, _toDisplayString($props.batteryLevel) + \"%\", 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_11, [_cache[6] || (_cache[6] = _createElementVNode(\"span\", {\n    class: \"status-label\"\n  }, \"高度:\", -1 /* CACHED */)), _createElementVNode(\"span\", null, _toDisplayString($props.altitude) + \"m\", 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_12, [_cache[7] || (_cache[7] = _createElementVNode(\"span\", {\n    class: \"status-label\"\n  }, \"速度:\", -1 /* CACHED */)), _createElementVNode(\"span\", null, _toDisplayString($props.speed) + \"m/s\", 1 /* TEXT */)])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","$props","isStreaming","_hoisted_3","_createVNode","_component_el_button","size","type","onClick","$options","refreshStream","_cache","_hoisted_4","src","videoStreamUrl","alt","_hoisted_6","_component_el_tag","_hoisted_7","_hoisted_8","getStatusType","droneStatus","_hoisted_9","_component_el_progress","percentage","batteryLevel","color","batteryColor","_hoisted_10","_toDisplayString","_hoisted_11","altitude","_hoisted_12","speed"],"sources":["D:\\projects\\FlightHub-2-Frontend-Standalone-Component\\frontend\\src\\components\\MonitorPanel.vue"],"sourcesContent":["<template>\n  <div class=\"monitor-panel\">\n    <div class=\"video-container\">\n      <div v-if=\"!isStreaming\" class=\"stream-placeholder\">\n        <i class=\"el-icon-video-camera\"></i>\n        <p>视频流未连接</p>\n        <el-button \n          size=\"small\" \n          type=\"primary\" \n          @click=\"refreshStream\"\n        >\n          重新连接\n        </el-button>\n      </div>\n      <div v-else class=\"video-stream\">\n        <img \n          :src=\"videoStreamUrl\" \n          alt=\"视频流\"\n          class=\"stream-image\"\n        >\n        <div class=\"stream-overlay\">\n          <el-tag type=\"success\">在线</el-tag>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"drone-status\">\n      <div class=\"status-row\">\n        <span class=\"status-label\">状态:</span>\n        <el-tag :type=\"getStatusType(droneStatus)\">\n          {{ droneStatus }}\n        </el-tag>\n      </div>\n      \n      <div class=\"status-row\">\n        <span class=\"status-label\">电量:</span>\n        <el-progress \n          :percentage=\"batteryLevel\" \n          :stroke-width=\"12\"\n          :show-text=\"false\"\n          :color=\"batteryColor\"\n          class=\"battery-progress\"\n        />\n        <span class=\"battery-value\">{{ batteryLevel }}%</span>\n      </div>\n      \n      <div class=\"status-row\">\n        <span class=\"status-label\">高度:</span>\n        <span>{{ altitude }}m</span>\n      </div>\n      \n      <div class=\"status-row\">\n        <span class=\"status-label\">速度:</span>\n        <span>{{ speed }}m/s</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'MonitorPanel',\n  props: {\n    videoStreamUrl: {\n      type: String,\n      default: ''\n    },\n    isStreaming: {\n      type: Boolean,\n      default: false\n    },\n    droneStatus: {\n      type: String,\n      default: '待命'\n    },\n    batteryLevel: {\n      type: Number,\n      default: 100\n    },\n    altitude: {\n      type: Number,\n      default: 0\n    },\n    speed: {\n      type: Number,\n      default: 0\n    }\n  },\n  computed: {\n    batteryColor() {\n      if (this.batteryLevel > 70) return '#52c41a'\n      if (this.batteryLevel > 30) return '#faad14'\n      return '#f5222d'\n    }\n  },\n  methods: {\n    getStatusType(status) {\n      const statusMap = {\n        '待命': '',\n        '飞行中': 'success',\n        '悬停中': 'warning',\n        '返回中': 'info',\n        '已停止': 'danger'\n      }\n      return statusMap[status] || ''\n    },\n    \n    refreshStream() {\n      this.$emit('refresh-stream')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.monitor-panel {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.video-container {\n  flex: 1;\n  position: relative;\n  background-color: #000;\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n.stream-placeholder {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  color: #909399;\n}\n\n.stream-placeholder i {\n  font-size: 48px;\n  margin-bottom: 10px;\n}\n\n.stream-placeholder p {\n  margin: 10px 0;\n}\n\n.video-stream {\n  position: relative;\n  height: 100%;\n}\n\n.stream-image {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.stream-overlay {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n}\n\n.drone-status {\n  padding: 15px 10px;\n  background-color: #f5f7fa;\n  border-top: 1px solid #ebeef5;\n}\n\n.status-row {\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n\n.status-row:last-child {\n  margin-bottom: 0;\n}\n\n.status-label {\n  width: 60px;\n  font-size: 14px;\n  color: #606266;\n}\n\n.battery-progress {\n  flex: 1;\n  margin: 0 10px;\n}\n\n.battery-value {\n  width: 40px;\n  font-size: 14px;\n  color: #606266;\n}\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAe;;EACnBA,KAAK,EAAC;AAAiB;;;EACDA,KAAK,EAAC;;;;EAWnBA,KAAK,EAAC;;;;EAMXA,KAAK,EAAC;AAAgB;;EAM1BA,KAAK,EAAC;AAAc;;EAClBA,KAAK,EAAC;AAAY;;EAOlBA,KAAK,EAAC;AAAY;;EASfA,KAAK,EAAC;AAAe;;EAGxBA,KAAK,EAAC;AAAY;;EAKlBA,KAAK,EAAC;AAAY;;;;;uBAlD3BC,mBAAA,CAuDM,OAvDNC,UAuDM,GAtDJC,mBAAA,CAsBM,OAtBNC,UAsBM,G,CArBQC,MAAA,CAAAC,WAAW,I,cAAvBL,mBAAA,CAUM,OAVNM,UAUM,G,0BATJJ,mBAAA,CAAoC;IAAjCH,KAAK,EAAC;EAAsB,4B,0BAC/BG,mBAAA,CAAa,WAAV,QAAM,qBACTK,YAAA,CAMYC,oBAAA;IALVC,IAAI,EAAC,OAAO;IACZC,IAAI,EAAC,SAAS;IACbC,OAAK,EAAEC,QAAA,CAAAC;;sBACT,MAED,KAAAC,MAAA,QAAAA,MAAA,O,iBAFC,QAED,mB;;qDAEFd,mBAAA,CASM,OATNe,UASM,GARJb,mBAAA,CAIC;IAHEc,GAAG,EAAEZ,MAAA,CAAAa,cAAc;IACpBC,GAAG,EAAC,KAAK;IACTnB,KAAK,EAAC;uCAERG,mBAAA,CAEM,OAFNiB,UAEM,GADJZ,YAAA,CAAkCa,iBAAA;IAA1BV,IAAI,EAAC;EAAS;sBAAC,MAAE,KAAAI,MAAA,QAAAA,MAAA,O,iBAAF,IAAE,mB;;aAK/BZ,mBAAA,CA6BM,OA7BNmB,UA6BM,GA5BJnB,mBAAA,CAKM,OALNoB,UAKM,G,0BAJJpB,mBAAA,CAAqC;IAA/BH,KAAK,EAAC;EAAc,GAAC,KAAG,qBAC9BQ,YAAA,CAESa,iBAAA;IAFAV,IAAI,EAAEE,QAAA,CAAAW,aAAa,CAACnB,MAAA,CAAAoB,WAAW;;sBACtC,MAAiB,C,kCAAdpB,MAAA,CAAAoB,WAAW,iB;;iCAIlBtB,mBAAA,CAUM,OAVNuB,UAUM,G,0BATJvB,mBAAA,CAAqC;IAA/BH,KAAK,EAAC;EAAc,GAAC,KAAG,qBAC9BQ,YAAA,CAMEmB,sBAAA;IALCC,UAAU,EAAEvB,MAAA,CAAAwB,YAAY;IACxB,cAAY,EAAE,EAAE;IAChB,WAAS,EAAE,KAAK;IAChBC,KAAK,EAAEjB,QAAA,CAAAkB,YAAY;IACpB/B,KAAK,EAAC;oDAERG,mBAAA,CAAsD,QAAtD6B,WAAsD,EAAAC,gBAAA,CAAvB5B,MAAA,CAAAwB,YAAY,IAAG,GAAC,gB,GAGjD1B,mBAAA,CAGM,OAHN+B,WAGM,G,0BAFJ/B,mBAAA,CAAqC;IAA/BH,KAAK,EAAC;EAAc,GAAC,KAAG,qBAC9BG,mBAAA,CAA4B,cAAA8B,gBAAA,CAAnB5B,MAAA,CAAA8B,QAAQ,IAAG,GAAC,gB,GAGvBhC,mBAAA,CAGM,OAHNiC,WAGM,G,0BAFJjC,mBAAA,CAAqC;IAA/BH,KAAK,EAAC;EAAc,GAAC,KAAG,qBAC9BG,mBAAA,CAA2B,cAAA8B,gBAAA,CAAlB5B,MAAA,CAAAgC,KAAK,IAAG,KAAG,gB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}