{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nimport { computed, ref, watch } from 'vue';\nimport { isString } from '@vue/shared';\nfunction getPct(str) {\n  return Number(str.slice(0, -1)) / 100;\n}\nfunction getPx(str) {\n  return Number(str.slice(0, -2));\n}\nfunction isPct(itemSize) {\n  return isString(itemSize) && itemSize.endsWith(\"%\");\n}\nfunction isPx(itemSize) {\n  return isString(itemSize) && itemSize.endsWith(\"px\");\n}\nfunction useSize(panels, containerSize) {\n  const propSizes = computed(() => panels.value.map(i => i.size));\n  const panelCounts = computed(() => panels.value.length);\n  const percentSizes = ref([]);\n  watch([propSizes, panelCounts, containerSize], () => {\n    var _a;\n    let ptgList = [];\n    let emptyCount = 0;\n    for (let i = 0; i < panelCounts.value; i += 1) {\n      const itemSize = (_a = panels.value[i]) == null ? void 0 : _a.size;\n      if (isPct(itemSize)) {\n        ptgList[i] = getPct(itemSize);\n      } else if (isPx(itemSize)) {\n        ptgList[i] = getPx(itemSize) / containerSize.value;\n      } else if (itemSize || itemSize === 0) {\n        const num = Number(itemSize);\n        if (!Number.isNaN(num)) {\n          ptgList[i] = num / containerSize.value;\n        }\n      } else {\n        emptyCount += 1;\n        ptgList[i] = void 0;\n      }\n    }\n    const totalPtg = ptgList.reduce((acc, ptg) => acc + (ptg || 0), 0);\n    if (totalPtg > 1 || !emptyCount) {\n      const scale = 1 / totalPtg;\n      ptgList = ptgList.map(ptg => ptg === void 0 ? 0 : ptg * scale);\n    } else {\n      const avgRest = (1 - totalPtg) / emptyCount;\n      ptgList = ptgList.map(ptg => ptg === void 0 ? avgRest : ptg);\n    }\n    percentSizes.value = ptgList;\n  });\n  const ptg2px = ptg => ptg * containerSize.value;\n  const pxSizes = computed(() => percentSizes.value.map(ptg2px));\n  return {\n    percentSizes,\n    pxSizes\n  };\n}\nexport { getPct, getPx, isPct, isPx, useSize };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}