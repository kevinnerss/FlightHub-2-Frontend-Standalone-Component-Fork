{"ast":null,"code":"import { Color, defined, destroyObject, DeveloperError, getElement } from \"@cesium/engine\";\nimport subscribeAndEvaluate from \"../subscribeAndEvaluate.js\";\nconst svgNS = \"http://www.w3.org/2000/svg\";\nconst xlinkNS = \"http://www.w3.org/1999/xlink\";\nlet widgetForDrag;\nconst gradientEnabledColor0 = Color.fromCssColorString(\"rgba(247,250,255,0.384)\");\nconst gradientEnabledColor1 = Color.fromCssColorString(\"rgba(143,191,255,0.216)\");\nconst gradientEnabledColor2 = Color.fromCssColorString(\"rgba(153,197,255,0.098)\");\nconst gradientEnabledColor3 = Color.fromCssColorString(\"rgba(255,255,255,0.086)\");\nconst gradientDisabledColor0 = Color.fromCssColorString(\"rgba(255,255,255,0.267)\");\nconst gradientDisabledColor1 = Color.fromCssColorString(\"rgba(255,255,255,0)\");\nconst gradientKnobColor = Color.fromCssColorString(\"rgba(66,67,68,0.3)\");\nconst gradientPointerColor = Color.fromCssColorString(\"rgba(0,0,0,0.5)\");\nfunction getElementColor(element) {\n  return Color.fromCssColorString(window.getComputedStyle(element).getPropertyValue(\"color\"));\n}\nconst svgIconsById = {\n  animation_pathReset: {\n    tagName: \"path\",\n    transform: \"translate(16,16) scale(0.85) translate(-16,-16)\",\n    d: \"M24.316,5.318,9.833,13.682,9.833,5.5,5.5,5.5,5.5,25.5,9.833,25.5,9.833,17.318,24.316,25.682z\"\n  },\n  animation_pathPause: {\n    tagName: \"path\",\n    transform: \"translate(16,16) scale(0.85) translate(-16,-16)\",\n    d: \"M13,5.5,7.5,5.5,7.5,25.5,13,25.5zM24.5,5.5,19,5.5,19,25.5,24.5,25.5z\"\n  },\n  animation_pathPlay: {\n    tagName: \"path\",\n    transform: \"translate(16,16) scale(0.85) translate(-16,-16)\",\n    d: \"M6.684,25.682L24.316,15.5L6.684,5.318V25.682z\"\n  },\n  animation_pathPlayReverse: {\n    tagName: \"path\",\n    transform: \"translate(16,16) scale(-0.85,0.85) translate(-16,-16)\",\n    d: \"M6.684,25.682L24.316,15.5L6.684,5.318V25.682z\"\n  },\n  animation_pathLoop: {\n    tagName: \"path\",\n    transform: \"translate(16,16) scale(0.85) translate(-16,-16)\",\n    d: \"M24.249,15.499c-0.009,4.832-3.918,8.741-8.75,8.75c-2.515,0-4.768-1.064-6.365-2.763l2.068-1.442l-7.901-3.703l0.744,8.694l2.193-1.529c2.244,2.594,5.562,4.242,9.26,4.242c6.767,0,12.249-5.482,12.249-12.249H24.249zM15.499,6.75c2.516,0,4.769,1.065,6.367,2.764l-2.068,1.443l7.901,3.701l-0.746-8.693l-2.192,1.529c-2.245-2.594-5.562-4.245-9.262-4.245C8.734,3.25,3.25,8.734,3.249,15.499H6.75C6.758,10.668,10.668,6.758,15.499,6.75z\"\n  },\n  animation_pathClock: {\n    tagName: \"path\",\n    transform: \"translate(16,16) scale(0.85) translate(-16,-15.5)\",\n    d: \"M15.5,2.374C8.251,2.375,2.376,8.251,2.374,15.5C2.376,22.748,8.251,28.623,15.5,28.627c7.249-0.004,13.124-5.879,13.125-13.127C28.624,8.251,22.749,2.375,15.5,2.374zM15.5,25.623C9.909,25.615,5.385,21.09,5.375,15.5C5.385,9.909,9.909,5.384,15.5,5.374c5.59,0.01,10.115,4.535,10.124,10.125C25.615,21.09,21.091,25.615,15.5,25.623zM8.625,15.5c-0.001-0.552-0.448-0.999-1.001-1c-0.553,0-1,0.448-1,1c0,0.553,0.449,1,1,1C8.176,16.5,8.624,16.053,8.625,15.5zM8.179,18.572c-0.478,0.277-0.642,0.889-0.365,1.367c0.275,0.479,0.889,0.641,1.365,0.365c0.479-0.275,0.643-0.887,0.367-1.367C9.27,18.461,8.658,18.297,8.179,18.572zM9.18,10.696c-0.479-0.276-1.09-0.112-1.366,0.366s-0.111,1.09,0.365,1.366c0.479,0.276,1.09,0.113,1.367-0.366C9.821,11.584,9.657,10.973,9.18,10.696zM22.822,12.428c0.478-0.275,0.643-0.888,0.366-1.366c-0.275-0.478-0.89-0.642-1.366-0.366c-0.479,0.278-0.642,0.89-0.366,1.367C21.732,12.54,22.344,12.705,22.822,12.428zM12.062,21.455c-0.478-0.275-1.089-0.111-1.366,0.367c-0.275,0.479-0.111,1.09,0.366,1.365c0.478,0.277,1.091,0.111,1.365-0.365C12.704,22.344,12.54,21.732,12.062,21.455zM12.062,9.545c0.479-0.276,0.642-0.888,0.366-1.366c-0.276-0.478-0.888-0.642-1.366-0.366s-0.642,0.888-0.366,1.366C10.973,9.658,11.584,9.822,12.062,9.545zM22.823,18.572c-0.48-0.275-1.092-0.111-1.367,0.365c-0.275,0.479-0.112,1.092,0.367,1.367c0.477,0.275,1.089,0.113,1.365-0.365C23.464,19.461,23.3,18.848,22.823,18.572zM19.938,7.813c-0.477-0.276-1.091-0.111-1.365,0.366c-0.275,0.48-0.111,1.091,0.366,1.367s1.089,0.112,1.366-0.366C20.581,8.702,20.418,8.089,19.938,7.813zM23.378,14.5c-0.554,0.002-1.001,0.45-1.001,1c0.001,0.552,0.448,1,1.001,1c0.551,0,1-0.447,1-1C24.378,14.949,23.929,14.5,23.378,14.5zM15.501,6.624c-0.552,0-1,0.448-1,1l-0.466,7.343l-3.004,1.96c-0.478,0.277-0.642,0.889-0.365,1.365c0.275,0.479,0.889,0.643,1.365,0.367l3.305-1.676C15.39,16.99,15.444,17,15.501,17c0.828,0,1.5-0.671,1.5-1.5l-0.5-7.876C16.501,7.072,16.053,6.624,15.501,6.624zM15.501,22.377c-0.552,0-1,0.447-1,1s0.448,1,1,1s1-0.447,1-1S16.053,22.377,15.501,22.377zM18.939,21.455c-0.479,0.277-0.643,0.889-0.366,1.367c0.275,0.477,0.888,0.643,1.366,0.365c0.478-0.275,0.642-0.889,0.366-1.365C20.028,21.344,19.417,21.18,18.939,21.455z\"\n  },\n  animation_pathWingButton: {\n    tagName: \"path\",\n    d: \"m 4.5,0.5 c -2.216,0 -4,1.784 -4,4 l 0,24 c 0,2.216 1.784,4 4,4 l 13.71875,0 C 22.478584,27.272785 27.273681,22.511272 32.5,18.25 l 0,-13.75 c 0,-2.216 -1.784,-4 -4,-4 l -24,0 z\"\n  },\n  animation_pathPointer: {\n    tagName: \"path\",\n    d: \"M-15,-65,-15,-55,15,-55,15,-65,0,-95z\"\n  },\n  animation_pathSwooshFX: {\n    tagName: \"path\",\n    d: \"m 85,0 c 0,16.617 -4.813944,35.356 -13.131081,48.4508 h 6.099803 c 8.317138,-13.0948 13.13322,-28.5955 13.13322,-45.2124 0,-46.94483 -38.402714,-85.00262 -85.7743869,-85.00262 -1.0218522,0 -2.0373001,0.0241 -3.0506131,0.0589 45.958443,1.59437 82.723058,35.77285 82.723058,81.70532 z\"\n  }\n};\n\n//Dynamically builds an SVG element from a JSON object.\nfunction svgFromObject(obj) {\n  const ele = document.createElementNS(svgNS, obj.tagName);\n  for (const field in obj) {\n    if (obj.hasOwnProperty(field) && field !== \"tagName\") {\n      if (field === \"children\") {\n        const len = obj.children.length;\n        for (let i = 0; i < len; ++i) {\n          ele.appendChild(svgFromObject(obj.children[i]));\n        }\n      } else if (field.indexOf(\"xlink:\") === 0) {\n        ele.setAttributeNS(xlinkNS, field.substring(6), obj[field]);\n      } else if (field === \"textContent\") {\n        ele.textContent = obj[field];\n      } else {\n        ele.setAttribute(field, obj[field]);\n      }\n    }\n  }\n  return ele;\n}\nfunction svgText(x, y, msg) {\n  const text = document.createElementNS(svgNS, \"text\");\n  text.setAttribute(\"x\", x);\n  text.setAttribute(\"y\", y);\n  text.setAttribute(\"class\", \"cesium-animation-svgText\");\n  const tspan = document.createElementNS(svgNS, \"tspan\");\n  tspan.textContent = msg;\n  text.appendChild(tspan);\n  return text;\n}\nfunction setShuttleRingPointer(shuttleRingPointer, knobOuter, angle) {\n  shuttleRingPointer.setAttribute(\"transform\", `translate(100,100) rotate(${angle})`);\n  knobOuter.setAttribute(\"transform\", `rotate(${angle})`);\n}\nconst makeColorStringScratch = new Color();\nfunction makeColorString(background, gradient) {\n  const gradientAlpha = gradient.alpha;\n  const backgroundAlpha = 1.0 - gradientAlpha;\n  makeColorStringScratch.red = background.red * backgroundAlpha + gradient.red * gradientAlpha;\n  makeColorStringScratch.green = background.green * backgroundAlpha + gradient.green * gradientAlpha;\n  makeColorStringScratch.blue = background.blue * backgroundAlpha + gradient.blue * gradientAlpha;\n  return makeColorStringScratch.toCssColorString();\n}\nfunction rectButton(x, y, path) {\n  const iconInfo = svgIconsById[path];\n  const button = {\n    tagName: \"g\",\n    class: \"cesium-animation-rectButton\",\n    transform: `translate(${x},${y})`,\n    children: [{\n      tagName: \"rect\",\n      class: \"cesium-animation-buttonGlow\",\n      width: 32,\n      height: 32,\n      rx: 2,\n      ry: 2\n    }, {\n      tagName: \"rect\",\n      class: \"cesium-animation-buttonMain\",\n      width: 32,\n      height: 32,\n      rx: 4,\n      ry: 4\n    }, {\n      class: \"cesium-animation-buttonPath\",\n      id: path,\n      tagName: iconInfo.tagName,\n      transform: iconInfo.transform,\n      d: iconInfo.d\n    }, {\n      tagName: \"title\",\n      textContent: \"\"\n    }]\n  };\n  return svgFromObject(button);\n}\nfunction wingButton(x, y, path) {\n  const buttonIconInfo = svgIconsById[path];\n  const wingIconInfo = svgIconsById[\"animation_pathWingButton\"];\n  const button = {\n    tagName: \"g\",\n    class: \"cesium-animation-rectButton\",\n    transform: `translate(${x},${y})`,\n    children: [{\n      class: \"cesium-animation-buttonGlow\",\n      id: \"animation_pathWingButton\",\n      tagName: wingIconInfo.tagName,\n      d: wingIconInfo.d\n    }, {\n      class: \"cesium-animation-buttonMain\",\n      id: \"animation_pathWingButton\",\n      tagName: wingIconInfo.tagName,\n      d: wingIconInfo.d\n    }, {\n      class: \"cesium-animation-buttonPath\",\n      id: path,\n      tagName: buttonIconInfo.tagName,\n      transform: buttonIconInfo.transform,\n      d: buttonIconInfo.d\n    }, {\n      tagName: \"title\",\n      textContent: \"\"\n    }]\n  };\n  return svgFromObject(button);\n}\nfunction setShuttleRingFromMouseOrTouch(widget, e) {\n  const viewModel = widget._viewModel;\n  const shuttleRingDragging = viewModel.shuttleRingDragging;\n  if (shuttleRingDragging && widgetForDrag !== widget) {\n    return;\n  }\n  if (e.type === \"mousedown\" || shuttleRingDragging && e.type === \"mousemove\" || e.type === \"touchstart\" && e.touches.length === 1 || shuttleRingDragging && e.type === \"touchmove\" && e.touches.length === 1) {\n    const centerX = widget._centerX;\n    const centerY = widget._centerY;\n    const svg = widget._svgNode;\n    const rect = svg.getBoundingClientRect();\n    let clientX;\n    let clientY;\n    if (e.type === \"touchstart\" || e.type === \"touchmove\") {\n      clientX = e.touches[0].clientX;\n      clientY = e.touches[0].clientY;\n    } else {\n      clientX = e.clientX;\n      clientY = e.clientY;\n    }\n    if (!shuttleRingDragging && (clientX > rect.right || clientX < rect.left || clientY < rect.top || clientY > rect.bottom)) {\n      return;\n    }\n    const pointerRect = widget._shuttleRingPointer.getBoundingClientRect();\n    const x = clientX - centerX - rect.left;\n    const y = clientY - centerY - rect.top;\n    let angle = Math.atan2(y, x) * 180 / Math.PI + 90;\n    if (angle > 180) {\n      angle -= 360;\n    }\n    const shuttleRingAngle = viewModel.shuttleRingAngle;\n    if (shuttleRingDragging || clientX < pointerRect.right && clientX > pointerRect.left && clientY > pointerRect.top && clientY < pointerRect.bottom) {\n      widgetForDrag = widget;\n      viewModel.shuttleRingDragging = true;\n      viewModel.shuttleRingAngle = angle;\n    } else if (angle < shuttleRingAngle) {\n      viewModel.slower();\n    } else if (angle > shuttleRingAngle) {\n      viewModel.faster();\n    }\n    e.preventDefault();\n  } else {\n    if (widget === widgetForDrag) {\n      widgetForDrag = undefined;\n    }\n    viewModel.shuttleRingDragging = false;\n  }\n}\n\n//This is a private class for treating an SVG element like a button.\n//If we ever need a general purpose SVG button, we can make this generic.\nfunction SvgButton(svgElement, viewModel) {\n  this._viewModel = viewModel;\n  this.svgElement = svgElement;\n  this._enabled = undefined;\n  this._toggled = undefined;\n  const that = this;\n  this._clickFunction = function () {\n    const command = that._viewModel.command;\n    if (command.canExecute) {\n      command();\n    }\n  };\n  svgElement.addEventListener(\"click\", this._clickFunction, true);\n\n  //TODO: Since the animation widget uses SVG and has no HTML backing,\n  //we need to wire everything up manually.  Knockout can supposedly\n  //bind to SVG, so we we figure that out we can modify our SVG\n  //to include the binding information directly.\n\n  this._subscriptions = [\n  //\n  subscribeAndEvaluate(viewModel, \"toggled\", this.setToggled, this),\n  //\n  subscribeAndEvaluate(viewModel, \"tooltip\", this.setTooltip, this),\n  //\n  subscribeAndEvaluate(viewModel.command, \"canExecute\", this.setEnabled, this)];\n}\nSvgButton.prototype.destroy = function () {\n  this.svgElement.removeEventListener(\"click\", this._clickFunction, true);\n  const subscriptions = this._subscriptions;\n  for (let i = 0, len = subscriptions.length; i < len; i++) {\n    subscriptions[i].dispose();\n  }\n  destroyObject(this);\n};\nSvgButton.prototype.isDestroyed = function () {\n  return false;\n};\nSvgButton.prototype.setEnabled = function (enabled) {\n  if (this._enabled !== enabled) {\n    this._enabled = enabled;\n    if (!enabled) {\n      this.svgElement.setAttribute(\"class\", \"cesium-animation-buttonDisabled\");\n      return;\n    }\n    if (this._toggled) {\n      this.svgElement.setAttribute(\"class\", \"cesium-animation-rectButton cesium-animation-buttonToggled\");\n      return;\n    }\n    this.svgElement.setAttribute(\"class\", \"cesium-animation-rectButton\");\n  }\n};\nSvgButton.prototype.setToggled = function (toggled) {\n  if (this._toggled !== toggled) {\n    this._toggled = toggled;\n    if (this._enabled) {\n      if (toggled) {\n        this.svgElement.setAttribute(\"class\", \"cesium-animation-rectButton cesium-animation-buttonToggled\");\n      } else {\n        this.svgElement.setAttribute(\"class\", \"cesium-animation-rectButton\");\n      }\n    }\n  }\n};\nSvgButton.prototype.setTooltip = function (tooltip) {\n  this.svgElement.getElementsByTagName(\"title\")[0].textContent = tooltip;\n};\n\n/**\n * <span style=\"display: block; text-align: center;\">\n * <img src=\"Images/AnimationWidget.png\" width=\"211\" height=\"142\" alt=\"\" />\n * <br />Animation widget\n * </span>\n * <br /><br />\n * The Animation widget provides buttons for play, pause, and reverse, along with the\n * current time and date, surrounded by a \"shuttle ring\" for controlling the speed of animation.\n * <br /><br />\n * The \"shuttle ring\" concept is borrowed from video editing, where typically a\n * \"jog wheel\" can be rotated to move past individual animation frames very slowly, and\n * a surrounding shuttle ring can be twisted to control direction and speed of fast playback.\n * Cesium typically treats time as continuous (not broken into pre-defined animation frames),\n * so this widget offers no jog wheel.  Instead, the shuttle ring is capable of both fast and\n * very slow playback.  Click and drag the shuttle ring pointer itself (shown above in green),\n * or click in the rest of the ring area to nudge the pointer to the next preset speed in that direction.\n * <br /><br />\n * The Animation widget also provides a \"realtime\" button (in the upper-left) that keeps\n * animation time in sync with the end user's system clock, typically displaying\n * \"today\" or \"right now.\"  This mode is not available in {@link ClockRange.CLAMPED} or\n * {@link ClockRange.LOOP_STOP} mode if the current time is outside of {@link Clock}'s startTime and endTime.\n *\n * @alias Animation\n * @constructor\n *\n * @param {Element|string} container The DOM element or ID that will contain the widget.\n * @param {AnimationViewModel} viewModel The view model used by this widget.\n *\n * @exception {DeveloperError} Element with id \"container\" does not exist in the document.\n *\n *\n * @example\n * // In HTML head, include a link to Animation.css stylesheet,\n * // and in the body, include: <div id=\"animationContainer\"></div>\n *\n * const clock = new Cesium.Clock();\n * const clockViewModel = new Cesium.ClockViewModel(clock);\n * const viewModel = new Cesium.AnimationViewModel(clockViewModel);\n * const widget = new Cesium.Animation('animationContainer', viewModel);\n *\n * function tick() {\n *     clock.tick();\n *     requestAnimationFrame(tick);\n * }\n * requestAnimationFrame(tick);\n *\n * @see AnimationViewModel\n * @see Clock\n */\nfunction Animation(container, viewModel) {\n  //>>includeStart('debug', pragmas.debug);\n  if (!defined(container)) {\n    throw new DeveloperError(\"container is required.\");\n  }\n  if (!defined(viewModel)) {\n    throw new DeveloperError(\"viewModel is required.\");\n  }\n  //>>includeEnd('debug');\n\n  container = getElement(container);\n  this._viewModel = viewModel;\n  this._container = container;\n  this._centerX = 0;\n  this._centerY = 0;\n  this._defsElement = undefined;\n  this._svgNode = undefined;\n  this._topG = undefined;\n  this._lastHeight = undefined;\n  this._lastWidth = undefined;\n  const ownerDocument = container.ownerDocument;\n\n  // Firefox requires SVG references to be included directly, not imported from external CSS.\n  // Also, CSS minifiers get confused by this being in an external CSS file.\n  const cssStyle = document.createElement(\"style\");\n  cssStyle.textContent = \".cesium-animation-rectButton .cesium-animation-buttonGlow { filter: url(#animation_blurred); }\\\n.cesium-animation-rectButton .cesium-animation-buttonMain { fill: url(#animation_buttonNormal); }\\\n.cesium-animation-buttonToggled .cesium-animation-buttonMain { fill: url(#animation_buttonToggled); }\\\n.cesium-animation-rectButton:hover .cesium-animation-buttonMain { fill: url(#animation_buttonHovered); }\\\n.cesium-animation-buttonDisabled .cesium-animation-buttonMain { fill: url(#animation_buttonDisabled); }\\\n.cesium-animation-shuttleRingG .cesium-animation-shuttleRingSwoosh { fill: url(#animation_shuttleRingSwooshGradient); }\\\n.cesium-animation-shuttleRingG:hover .cesium-animation-shuttleRingSwoosh { fill: url(#animation_shuttleRingSwooshHovered); }\\\n.cesium-animation-shuttleRingPointer { fill: url(#animation_shuttleRingPointerGradient); }\\\n.cesium-animation-shuttleRingPausePointer { fill: url(#animation_shuttleRingPointerPaused); }\\\n.cesium-animation-knobOuter { fill: url(#animation_knobOuter); }\\\n.cesium-animation-knobInner { fill: url(#animation_knobInner); }\";\n  ownerDocument.head.insertBefore(cssStyle, ownerDocument.head.childNodes[0]);\n  const themeEle = document.createElement(\"div\");\n  themeEle.className = \"cesium-animation-theme\";\n  themeEle.innerHTML = '<div class=\"cesium-animation-themeNormal\"></div>\\\n<div class=\"cesium-animation-themeHover\"></div>\\\n<div class=\"cesium-animation-themeSelect\"></div>\\\n<div class=\"cesium-animation-themeDisabled\"></div>\\\n<div class=\"cesium-animation-themeKnob\"></div>\\\n<div class=\"cesium-animation-themePointer\"></div>\\\n<div class=\"cesium-animation-themeSwoosh\"></div>\\\n<div class=\"cesium-animation-themeSwooshHover\"></div>';\n  this._theme = themeEle;\n  this._themeNormal = themeEle.childNodes[0];\n  this._themeHover = themeEle.childNodes[1];\n  this._themeSelect = themeEle.childNodes[2];\n  this._themeDisabled = themeEle.childNodes[3];\n  this._themeKnob = themeEle.childNodes[4];\n  this._themePointer = themeEle.childNodes[5];\n  this._themeSwoosh = themeEle.childNodes[6];\n  this._themeSwooshHover = themeEle.childNodes[7];\n  const svg = document.createElementNS(svgNS, \"svg:svg\");\n  this._svgNode = svg;\n\n  // Define the XLink namespace that SVG uses\n  svg.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns:xlink\", xlinkNS);\n  const topG = document.createElementNS(svgNS, \"g\");\n  this._topG = topG;\n  this._realtimeSVG = new SvgButton(wingButton(3, 4, \"animation_pathClock\"), viewModel.playRealtimeViewModel);\n  this._playReverseSVG = new SvgButton(rectButton(44, 99, \"animation_pathPlayReverse\"), viewModel.playReverseViewModel);\n  this._playForwardSVG = new SvgButton(rectButton(124, 99, \"animation_pathPlay\"), viewModel.playForwardViewModel);\n  this._pauseSVG = new SvgButton(rectButton(84, 99, \"animation_pathPause\"), viewModel.pauseViewModel);\n  const buttonsG = document.createElementNS(svgNS, \"g\");\n  buttonsG.appendChild(this._realtimeSVG.svgElement);\n  buttonsG.appendChild(this._playReverseSVG.svgElement);\n  buttonsG.appendChild(this._playForwardSVG.svgElement);\n  buttonsG.appendChild(this._pauseSVG.svgElement);\n  const shuttleRingBackPanel = svgFromObject({\n    tagName: \"circle\",\n    class: \"cesium-animation-shuttleRingBack\",\n    cx: 100,\n    cy: 100,\n    r: 99\n  });\n  this._shuttleRingBackPanel = shuttleRingBackPanel;\n  const swooshIconInfo = svgIconsById[\"animation_pathSwooshFX\"];\n  const shuttleRingPointerIconInfo = svgIconsById[\"animation_pathPointer\"];\n  const shuttleRingSwooshG = svgFromObject({\n    tagName: \"g\",\n    class: \"cesium-animation-shuttleRingSwoosh\",\n    children: [{\n      tagName: swooshIconInfo.tagName,\n      transform: \"translate(100,97) scale(-1,1)\",\n      id: \"animation_pathSwooshFX\",\n      d: swooshIconInfo.d\n    }, {\n      tagName: swooshIconInfo.tagName,\n      transform: \"translate(100,97)\",\n      id: \"animation_pathSwooshFX\",\n      d: swooshIconInfo.d\n    }, {\n      tagName: \"line\",\n      x1: 100,\n      y1: 8,\n      x2: 100,\n      y2: 22\n    }]\n  });\n  this._shuttleRingSwooshG = shuttleRingSwooshG;\n  this._shuttleRingPointer = svgFromObject({\n    class: \"cesium-animation-shuttleRingPointer\",\n    id: \"animation_pathPointer\",\n    tagName: shuttleRingPointerIconInfo.tagName,\n    d: shuttleRingPointerIconInfo.d\n  });\n  const knobG = svgFromObject({\n    tagName: \"g\",\n    transform: \"translate(100,100)\"\n  });\n  this._knobOuter = svgFromObject({\n    tagName: \"circle\",\n    class: \"cesium-animation-knobOuter\",\n    cx: 0,\n    cy: 0,\n    r: 71\n  });\n  const knobInnerAndShieldSize = 61;\n  const knobInner = svgFromObject({\n    tagName: \"circle\",\n    class: \"cesium-animation-knobInner\",\n    cx: 0,\n    cy: 0,\n    r: knobInnerAndShieldSize\n  });\n  this._knobDate = svgText(0, -24, \"\");\n  this._knobTime = svgText(0, -7, \"\");\n  this._knobStatus = svgText(0, -41, \"\");\n\n  // widget shield catches clicks on the knob itself (even while DOM elements underneath are changing).\n  const knobShield = svgFromObject({\n    tagName: \"circle\",\n    class: \"cesium-animation-blank\",\n    cx: 0,\n    cy: 0,\n    r: knobInnerAndShieldSize\n  });\n  const shuttleRingBackG = document.createElementNS(svgNS, \"g\");\n  shuttleRingBackG.setAttribute(\"class\", \"cesium-animation-shuttleRingG\");\n  container.appendChild(themeEle);\n  topG.appendChild(shuttleRingBackG);\n  topG.appendChild(knobG);\n  topG.appendChild(buttonsG);\n  shuttleRingBackG.appendChild(shuttleRingBackPanel);\n  shuttleRingBackG.appendChild(shuttleRingSwooshG);\n  shuttleRingBackG.appendChild(this._shuttleRingPointer);\n  knobG.appendChild(this._knobOuter);\n  knobG.appendChild(knobInner);\n  knobG.appendChild(this._knobDate);\n  knobG.appendChild(this._knobTime);\n  knobG.appendChild(this._knobStatus);\n  knobG.appendChild(knobShield);\n  svg.appendChild(topG);\n  container.appendChild(svg);\n  const that = this;\n  function mouseCallback(e) {\n    setShuttleRingFromMouseOrTouch(that, e);\n  }\n  this._mouseCallback = mouseCallback;\n  shuttleRingBackPanel.addEventListener(\"mousedown\", mouseCallback, true);\n  shuttleRingBackPanel.addEventListener(\"touchstart\", mouseCallback, true);\n  shuttleRingSwooshG.addEventListener(\"mousedown\", mouseCallback, true);\n  shuttleRingSwooshG.addEventListener(\"touchstart\", mouseCallback, true);\n  ownerDocument.addEventListener(\"mousemove\", mouseCallback, true);\n  ownerDocument.addEventListener(\"touchmove\", mouseCallback, true);\n  ownerDocument.addEventListener(\"mouseup\", mouseCallback, true);\n  ownerDocument.addEventListener(\"touchend\", mouseCallback, true);\n  ownerDocument.addEventListener(\"touchcancel\", mouseCallback, true);\n  this._shuttleRingPointer.addEventListener(\"mousedown\", mouseCallback, true);\n  this._shuttleRingPointer.addEventListener(\"touchstart\", mouseCallback, true);\n  this._knobOuter.addEventListener(\"mousedown\", mouseCallback, true);\n  this._knobOuter.addEventListener(\"touchstart\", mouseCallback, true);\n\n  //TODO: Since the animation widget uses SVG and has no HTML backing,\n  //we need to wire everything up manually.  Knockout can supposedly\n  //bind to SVG, so we we figure that out we can modify our SVG\n  //to include the binding information directly.\n\n  const timeNode = this._knobTime.childNodes[0];\n  const dateNode = this._knobDate.childNodes[0];\n  const statusNode = this._knobStatus.childNodes[0];\n  let isPaused;\n  this._subscriptions = [\n  //\n  subscribeAndEvaluate(viewModel.pauseViewModel, \"toggled\", function (value) {\n    if (isPaused !== value) {\n      isPaused = value;\n      if (isPaused) {\n        that._shuttleRingPointer.setAttribute(\"class\", \"cesium-animation-shuttleRingPausePointer\");\n      } else {\n        that._shuttleRingPointer.setAttribute(\"class\", \"cesium-animation-shuttleRingPointer\");\n      }\n    }\n  }), subscribeAndEvaluate(viewModel, \"shuttleRingAngle\", function (value) {\n    setShuttleRingPointer(that._shuttleRingPointer, that._knobOuter, value);\n  }), subscribeAndEvaluate(viewModel, \"dateLabel\", function (value) {\n    if (dateNode.textContent !== value) {\n      dateNode.textContent = value;\n    }\n  }), subscribeAndEvaluate(viewModel, \"timeLabel\", function (value) {\n    if (timeNode.textContent !== value) {\n      timeNode.textContent = value;\n    }\n  }), subscribeAndEvaluate(viewModel, \"multiplierLabel\", function (value) {\n    if (statusNode.textContent !== value) {\n      statusNode.textContent = value;\n    }\n  })];\n  this.applyThemeChanges();\n  this.resize();\n}\nObject.defineProperties(Animation.prototype, {\n  /**\n   * Gets the parent container.\n   *\n   * @memberof Animation.prototype\n   * @type {Element}\n   * @readonly\n   */\n  container: {\n    get: function () {\n      return this._container;\n    }\n  },\n  /**\n   * Gets the view model.\n   *\n   * @memberof Animation.prototype\n   * @type {AnimationViewModel}\n   * @readonly\n   */\n  viewModel: {\n    get: function () {\n      return this._viewModel;\n    }\n  }\n});\n\n/**\n * @returns {boolean} true if the object has been destroyed, false otherwise.\n */\nAnimation.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the animation widget.  Should be called if permanently\n * removing the widget from layout.\n */\nAnimation.prototype.destroy = function () {\n  if (defined(this._observer)) {\n    this._observer.disconnect();\n    this._observer = undefined;\n  }\n  const doc = this._container.ownerDocument;\n  const mouseCallback = this._mouseCallback;\n  this._shuttleRingBackPanel.removeEventListener(\"mousedown\", mouseCallback, true);\n  this._shuttleRingBackPanel.removeEventListener(\"touchstart\", mouseCallback, true);\n  this._shuttleRingSwooshG.removeEventListener(\"mousedown\", mouseCallback, true);\n  this._shuttleRingSwooshG.removeEventListener(\"touchstart\", mouseCallback, true);\n  doc.removeEventListener(\"mousemove\", mouseCallback, true);\n  doc.removeEventListener(\"touchmove\", mouseCallback, true);\n  doc.removeEventListener(\"mouseup\", mouseCallback, true);\n  doc.removeEventListener(\"touchend\", mouseCallback, true);\n  doc.removeEventListener(\"touchcancel\", mouseCallback, true);\n  this._shuttleRingPointer.removeEventListener(\"mousedown\", mouseCallback, true);\n  this._shuttleRingPointer.removeEventListener(\"touchstart\", mouseCallback, true);\n  this._knobOuter.removeEventListener(\"mousedown\", mouseCallback, true);\n  this._knobOuter.removeEventListener(\"touchstart\", mouseCallback, true);\n  this._container.removeChild(this._svgNode);\n  this._container.removeChild(this._theme);\n  this._realtimeSVG.destroy();\n  this._playReverseSVG.destroy();\n  this._playForwardSVG.destroy();\n  this._pauseSVG.destroy();\n  const subscriptions = this._subscriptions;\n  for (let i = 0, len = subscriptions.length; i < len; i++) {\n    subscriptions[i].dispose();\n  }\n  return destroyObject(this);\n};\n\n/**\n * Resizes the widget to match the container size.\n * This function should be called whenever the container size is changed.\n */\nAnimation.prototype.resize = function () {\n  const parentWidth = this._container.clientWidth;\n  const parentHeight = this._container.clientHeight;\n  if (parentWidth === this._lastWidth && parentHeight === this._lastHeight) {\n    return;\n  }\n  const svg = this._svgNode;\n\n  //The width and height as the SVG was originally drawn.\n  const baseWidth = 200;\n  const baseHeight = 132;\n  let width = parentWidth;\n  let height = parentHeight;\n  if (parentWidth === 0 && parentHeight === 0) {\n    width = baseWidth;\n    height = baseHeight;\n  } else if (parentWidth === 0) {\n    height = parentHeight;\n    width = baseWidth * (parentHeight / baseHeight);\n  } else if (parentHeight === 0) {\n    width = parentWidth;\n    height = baseHeight * (parentWidth / baseWidth);\n  }\n  const scaleX = width / baseWidth;\n  const scaleY = height / baseHeight;\n  svg.style.cssText = `width: ${width}px; height: ${height}px; position: absolute; bottom: 0; left: 0; overflow: hidden;`;\n  svg.setAttribute(\"width\", width);\n  svg.setAttribute(\"height\", height);\n  svg.setAttribute(\"viewBox\", `0 0 ${width} ${height}`);\n  this._topG.setAttribute(\"transform\", `scale(${scaleX},${scaleY})`);\n  this._centerX = Math.max(1, 100.0 * scaleX);\n  this._centerY = Math.max(1, 100.0 * scaleY);\n  this._lastHeight = parentWidth;\n  this._lastWidth = parentHeight;\n};\n\n/**\n * Updates the widget to reflect any modified CSS rules for theming.\n *\n * @example\n * //Switch to the cesium-lighter theme.\n * document.body.className = 'cesium-lighter';\n * animation.applyThemeChanges();\n */\nAnimation.prototype.applyThemeChanges = function () {\n  // Since we rely on computed styles for themeing, we can't actually\n  // do anything if the container has not yet been added to the DOM.\n  // Set up an observer to be notified when it is added and apply\n  // the changes at that time.\n\n  const doc = this._container.ownerDocument;\n  if (!doc.body.contains(this._container)) {\n    if (defined(this._observer)) {\n      //Already listening.\n      return;\n    }\n    const that = this;\n    that._observer = new MutationObserver(function () {\n      if (doc.body.contains(that._container)) {\n        that._observer.disconnect();\n        that._observer = undefined;\n        that.applyThemeChanges();\n      }\n    });\n    that._observer.observe(doc, {\n      childList: true,\n      subtree: true\n    });\n    return;\n  }\n  const buttonNormalBackColor = getElementColor(this._themeNormal);\n  const buttonHoverBackColor = getElementColor(this._themeHover);\n  const buttonToggledBackColor = getElementColor(this._themeSelect);\n  const buttonDisabledBackColor = getElementColor(this._themeDisabled);\n  const knobBackColor = getElementColor(this._themeKnob);\n  const pointerColor = getElementColor(this._themePointer);\n  const swooshColor = getElementColor(this._themeSwoosh);\n  const swooshHoverColor = getElementColor(this._themeSwooshHover);\n  const defsElement = svgFromObject({\n    tagName: \"defs\",\n    children: [{\n      id: \"animation_buttonNormal\",\n      tagName: \"linearGradient\",\n      x1: \"50%\",\n      y1: \"0%\",\n      x2: \"50%\",\n      y2: \"100%\",\n      children: [\n      //add a 'stop-opacity' field to make translucent.\n      {\n        tagName: \"stop\",\n        offset: \"0%\",\n        \"stop-color\": makeColorString(buttonNormalBackColor, gradientEnabledColor0)\n      }, {\n        tagName: \"stop\",\n        offset: \"12%\",\n        \"stop-color\": makeColorString(buttonNormalBackColor, gradientEnabledColor1)\n      }, {\n        tagName: \"stop\",\n        offset: \"46%\",\n        \"stop-color\": makeColorString(buttonNormalBackColor, gradientEnabledColor2)\n      }, {\n        tagName: \"stop\",\n        offset: \"81%\",\n        \"stop-color\": makeColorString(buttonNormalBackColor, gradientEnabledColor3)\n      }]\n    }, {\n      id: \"animation_buttonHovered\",\n      tagName: \"linearGradient\",\n      x1: \"50%\",\n      y1: \"0%\",\n      x2: \"50%\",\n      y2: \"100%\",\n      children: [{\n        tagName: \"stop\",\n        offset: \"0%\",\n        \"stop-color\": makeColorString(buttonHoverBackColor, gradientEnabledColor0)\n      }, {\n        tagName: \"stop\",\n        offset: \"12%\",\n        \"stop-color\": makeColorString(buttonHoverBackColor, gradientEnabledColor1)\n      }, {\n        tagName: \"stop\",\n        offset: \"46%\",\n        \"stop-color\": makeColorString(buttonHoverBackColor, gradientEnabledColor2)\n      }, {\n        tagName: \"stop\",\n        offset: \"81%\",\n        \"stop-color\": makeColorString(buttonHoverBackColor, gradientEnabledColor3)\n      }]\n    }, {\n      id: \"animation_buttonToggled\",\n      tagName: \"linearGradient\",\n      x1: \"50%\",\n      y1: \"0%\",\n      x2: \"50%\",\n      y2: \"100%\",\n      children: [{\n        tagName: \"stop\",\n        offset: \"0%\",\n        \"stop-color\": makeColorString(buttonToggledBackColor, gradientEnabledColor0)\n      }, {\n        tagName: \"stop\",\n        offset: \"12%\",\n        \"stop-color\": makeColorString(buttonToggledBackColor, gradientEnabledColor1)\n      }, {\n        tagName: \"stop\",\n        offset: \"46%\",\n        \"stop-color\": makeColorString(buttonToggledBackColor, gradientEnabledColor2)\n      }, {\n        tagName: \"stop\",\n        offset: \"81%\",\n        \"stop-color\": makeColorString(buttonToggledBackColor, gradientEnabledColor3)\n      }]\n    }, {\n      id: \"animation_buttonDisabled\",\n      tagName: \"linearGradient\",\n      x1: \"50%\",\n      y1: \"0%\",\n      x2: \"50%\",\n      y2: \"100%\",\n      children: [{\n        tagName: \"stop\",\n        offset: \"0%\",\n        \"stop-color\": makeColorString(buttonDisabledBackColor, gradientDisabledColor0)\n      }, {\n        tagName: \"stop\",\n        offset: \"75%\",\n        \"stop-color\": makeColorString(buttonDisabledBackColor, gradientDisabledColor1)\n      }]\n    }, {\n      id: \"animation_blurred\",\n      tagName: \"filter\",\n      width: \"200%\",\n      height: \"200%\",\n      x: \"-50%\",\n      y: \"-50%\",\n      children: [{\n        tagName: \"feGaussianBlur\",\n        stdDeviation: 4,\n        in: \"SourceGraphic\"\n      }]\n    }, {\n      id: \"animation_shuttleRingSwooshGradient\",\n      tagName: \"linearGradient\",\n      x1: \"50%\",\n      y1: \"0%\",\n      x2: \"50%\",\n      y2: \"100%\",\n      children: [{\n        tagName: \"stop\",\n        offset: \"0%\",\n        \"stop-opacity\": 0.2,\n        \"stop-color\": swooshColor.toCssColorString()\n      }, {\n        tagName: \"stop\",\n        offset: \"85%\",\n        \"stop-opacity\": 0.85,\n        \"stop-color\": swooshColor.toCssColorString()\n      }, {\n        tagName: \"stop\",\n        offset: \"95%\",\n        \"stop-opacity\": 0.05,\n        \"stop-color\": swooshColor.toCssColorString()\n      }]\n    }, {\n      id: \"animation_shuttleRingSwooshHovered\",\n      tagName: \"linearGradient\",\n      x1: \"50%\",\n      y1: \"0%\",\n      x2: \"50%\",\n      y2: \"100%\",\n      children: [{\n        tagName: \"stop\",\n        offset: \"0%\",\n        \"stop-opacity\": 0.2,\n        \"stop-color\": swooshHoverColor.toCssColorString()\n      }, {\n        tagName: \"stop\",\n        offset: \"85%\",\n        \"stop-opacity\": 0.85,\n        \"stop-color\": swooshHoverColor.toCssColorString()\n      }, {\n        tagName: \"stop\",\n        offset: \"95%\",\n        \"stop-opacity\": 0.05,\n        \"stop-color\": swooshHoverColor.toCssColorString()\n      }]\n    }, {\n      id: \"animation_shuttleRingPointerGradient\",\n      tagName: \"linearGradient\",\n      x1: \"0%\",\n      y1: \"50%\",\n      x2: \"100%\",\n      y2: \"50%\",\n      children: [{\n        tagName: \"stop\",\n        offset: \"0%\",\n        \"stop-color\": pointerColor.toCssColorString()\n      }, {\n        tagName: \"stop\",\n        offset: \"40%\",\n        \"stop-color\": pointerColor.toCssColorString()\n      }, {\n        tagName: \"stop\",\n        offset: \"60%\",\n        \"stop-color\": makeColorString(pointerColor, gradientPointerColor)\n      }, {\n        tagName: \"stop\",\n        offset: \"100%\",\n        \"stop-color\": makeColorString(pointerColor, gradientPointerColor)\n      }]\n    }, {\n      id: \"animation_shuttleRingPointerPaused\",\n      tagName: \"linearGradient\",\n      x1: \"0%\",\n      y1: \"50%\",\n      x2: \"100%\",\n      y2: \"50%\",\n      children: [{\n        tagName: \"stop\",\n        offset: \"0%\",\n        \"stop-color\": \"#CCC\"\n      }, {\n        tagName: \"stop\",\n        offset: \"40%\",\n        \"stop-color\": \"#CCC\"\n      }, {\n        tagName: \"stop\",\n        offset: \"60%\",\n        \"stop-color\": \"#555\"\n      }, {\n        tagName: \"stop\",\n        offset: \"100%\",\n        \"stop-color\": \"#555\"\n      }]\n    }, {\n      id: \"animation_knobOuter\",\n      tagName: \"linearGradient\",\n      x1: \"20%\",\n      y1: \"0%\",\n      x2: \"90%\",\n      y2: \"100%\",\n      children: [{\n        tagName: \"stop\",\n        offset: \"5%\",\n        \"stop-color\": makeColorString(knobBackColor, gradientEnabledColor0)\n      }, {\n        tagName: \"stop\",\n        offset: \"60%\",\n        \"stop-color\": makeColorString(knobBackColor, gradientKnobColor)\n      }, {\n        tagName: \"stop\",\n        offset: \"85%\",\n        \"stop-color\": makeColorString(knobBackColor, gradientEnabledColor1)\n      }]\n    }, {\n      id: \"animation_knobInner\",\n      tagName: \"linearGradient\",\n      x1: \"20%\",\n      y1: \"0%\",\n      x2: \"90%\",\n      y2: \"100%\",\n      children: [{\n        tagName: \"stop\",\n        offset: \"5%\",\n        \"stop-color\": makeColorString(knobBackColor, gradientKnobColor)\n      }, {\n        tagName: \"stop\",\n        offset: \"60%\",\n        \"stop-color\": makeColorString(knobBackColor, gradientEnabledColor0)\n      }, {\n        tagName: \"stop\",\n        offset: \"85%\",\n        \"stop-color\": makeColorString(knobBackColor, gradientEnabledColor3)\n      }]\n    }]\n  });\n  if (!defined(this._defsElement)) {\n    this._svgNode.appendChild(defsElement);\n  } else {\n    this._svgNode.replaceChild(defsElement, this._defsElement);\n  }\n  this._defsElement = defsElement;\n};\nexport default Animation;","map":{"version":3,"names":["Color","defined","destroyObject","DeveloperError","getElement","subscribeAndEvaluate","svgNS","xlinkNS","widgetForDrag","gradientEnabledColor0","fromCssColorString","gradientEnabledColor1","gradientEnabledColor2","gradientEnabledColor3","gradientDisabledColor0","gradientDisabledColor1","gradientKnobColor","gradientPointerColor","getElementColor","element","window","getComputedStyle","getPropertyValue","svgIconsById","animation_pathReset","tagName","transform","d","animation_pathPause","animation_pathPlay","animation_pathPlayReverse","animation_pathLoop","animation_pathClock","animation_pathWingButton","animation_pathPointer","animation_pathSwooshFX","svgFromObject","obj","ele","document","createElementNS","field","hasOwnProperty","len","children","length","i","appendChild","indexOf","setAttributeNS","substring","textContent","setAttribute","svgText","x","y","msg","text","tspan","setShuttleRingPointer","shuttleRingPointer","knobOuter","angle","makeColorStringScratch","makeColorString","background","gradient","gradientAlpha","alpha","backgroundAlpha","red","green","blue","toCssColorString","rectButton","path","iconInfo","button","class","width","height","rx","ry","id","wingButton","buttonIconInfo","wingIconInfo","setShuttleRingFromMouseOrTouch","widget","e","viewModel","_viewModel","shuttleRingDragging","type","touches","centerX","_centerX","centerY","_centerY","svg","_svgNode","rect","getBoundingClientRect","clientX","clientY","right","left","top","bottom","pointerRect","_shuttleRingPointer","Math","atan2","PI","shuttleRingAngle","slower","faster","preventDefault","undefined","SvgButton","svgElement","_enabled","_toggled","that","_clickFunction","command","canExecute","addEventListener","_subscriptions","setToggled","setTooltip","setEnabled","prototype","destroy","removeEventListener","subscriptions","dispose","isDestroyed","enabled","toggled","tooltip","getElementsByTagName","Animation","container","_container","_defsElement","_topG","_lastHeight","_lastWidth","ownerDocument","cssStyle","createElement","head","insertBefore","childNodes","themeEle","className","innerHTML","_theme","_themeNormal","_themeHover","_themeSelect","_themeDisabled","_themeKnob","_themePointer","_themeSwoosh","_themeSwooshHover","topG","_realtimeSVG","playRealtimeViewModel","_playReverseSVG","playReverseViewModel","_playForwardSVG","playForwardViewModel","_pauseSVG","pauseViewModel","buttonsG","shuttleRingBackPanel","cx","cy","r","_shuttleRingBackPanel","swooshIconInfo","shuttleRingPointerIconInfo","shuttleRingSwooshG","x1","y1","x2","y2","_shuttleRingSwooshG","knobG","_knobOuter","knobInnerAndShieldSize","knobInner","_knobDate","_knobTime","_knobStatus","knobShield","shuttleRingBackG","mouseCallback","_mouseCallback","timeNode","dateNode","statusNode","isPaused","value","applyThemeChanges","resize","Object","defineProperties","get","_observer","disconnect","doc","removeChild","parentWidth","clientWidth","parentHeight","clientHeight","baseWidth","baseHeight","scaleX","scaleY","style","cssText","max","body","contains","MutationObserver","observe","childList","subtree","buttonNormalBackColor","buttonHoverBackColor","buttonToggledBackColor","buttonDisabledBackColor","knobBackColor","pointerColor","swooshColor","swooshHoverColor","defsElement","offset","stdDeviation","in","replaceChild"],"sources":["D:/projects/FlightHub-2-Frontend-Standalone-Component/frontend/node_modules/@cesium/widgets/Source/Animation/Animation.js"],"sourcesContent":["import {\n  Color,\n  defined,\n  destroyObject,\n  DeveloperError,\n  getElement,\n} from \"@cesium/engine\";\nimport subscribeAndEvaluate from \"../subscribeAndEvaluate.js\";\n\nconst svgNS = \"http://www.w3.org/2000/svg\";\nconst xlinkNS = \"http://www.w3.org/1999/xlink\";\n\nlet widgetForDrag;\n\nconst gradientEnabledColor0 = Color.fromCssColorString(\n  \"rgba(247,250,255,0.384)\",\n);\nconst gradientEnabledColor1 = Color.fromCssColorString(\n  \"rgba(143,191,255,0.216)\",\n);\nconst gradientEnabledColor2 = Color.fromCssColorString(\n  \"rgba(153,197,255,0.098)\",\n);\nconst gradientEnabledColor3 = Color.fromCssColorString(\n  \"rgba(255,255,255,0.086)\",\n);\n\nconst gradientDisabledColor0 = Color.fromCssColorString(\n  \"rgba(255,255,255,0.267)\",\n);\nconst gradientDisabledColor1 = Color.fromCssColorString(\"rgba(255,255,255,0)\");\n\nconst gradientKnobColor = Color.fromCssColorString(\"rgba(66,67,68,0.3)\");\nconst gradientPointerColor = Color.fromCssColorString(\"rgba(0,0,0,0.5)\");\n\nfunction getElementColor(element) {\n  return Color.fromCssColorString(\n    window.getComputedStyle(element).getPropertyValue(\"color\"),\n  );\n}\n\nconst svgIconsById = {\n  animation_pathReset: {\n    tagName: \"path\",\n    transform: \"translate(16,16) scale(0.85) translate(-16,-16)\",\n    d: \"M24.316,5.318,9.833,13.682,9.833,5.5,5.5,5.5,5.5,25.5,9.833,25.5,9.833,17.318,24.316,25.682z\",\n  },\n  animation_pathPause: {\n    tagName: \"path\",\n    transform: \"translate(16,16) scale(0.85) translate(-16,-16)\",\n    d: \"M13,5.5,7.5,5.5,7.5,25.5,13,25.5zM24.5,5.5,19,5.5,19,25.5,24.5,25.5z\",\n  },\n  animation_pathPlay: {\n    tagName: \"path\",\n    transform: \"translate(16,16) scale(0.85) translate(-16,-16)\",\n    d: \"M6.684,25.682L24.316,15.5L6.684,5.318V25.682z\",\n  },\n  animation_pathPlayReverse: {\n    tagName: \"path\",\n    transform: \"translate(16,16) scale(-0.85,0.85) translate(-16,-16)\",\n    d: \"M6.684,25.682L24.316,15.5L6.684,5.318V25.682z\",\n  },\n  animation_pathLoop: {\n    tagName: \"path\",\n    transform: \"translate(16,16) scale(0.85) translate(-16,-16)\",\n    d: \"M24.249,15.499c-0.009,4.832-3.918,8.741-8.75,8.75c-2.515,0-4.768-1.064-6.365-2.763l2.068-1.442l-7.901-3.703l0.744,8.694l2.193-1.529c2.244,2.594,5.562,4.242,9.26,4.242c6.767,0,12.249-5.482,12.249-12.249H24.249zM15.499,6.75c2.516,0,4.769,1.065,6.367,2.764l-2.068,1.443l7.901,3.701l-0.746-8.693l-2.192,1.529c-2.245-2.594-5.562-4.245-9.262-4.245C8.734,3.25,3.25,8.734,3.249,15.499H6.75C6.758,10.668,10.668,6.758,15.499,6.75z\",\n  },\n  animation_pathClock: {\n    tagName: \"path\",\n    transform: \"translate(16,16) scale(0.85) translate(-16,-15.5)\",\n    d: \"M15.5,2.374C8.251,2.375,2.376,8.251,2.374,15.5C2.376,22.748,8.251,28.623,15.5,28.627c7.249-0.004,13.124-5.879,13.125-13.127C28.624,8.251,22.749,2.375,15.5,2.374zM15.5,25.623C9.909,25.615,5.385,21.09,5.375,15.5C5.385,9.909,9.909,5.384,15.5,5.374c5.59,0.01,10.115,4.535,10.124,10.125C25.615,21.09,21.091,25.615,15.5,25.623zM8.625,15.5c-0.001-0.552-0.448-0.999-1.001-1c-0.553,0-1,0.448-1,1c0,0.553,0.449,1,1,1C8.176,16.5,8.624,16.053,8.625,15.5zM8.179,18.572c-0.478,0.277-0.642,0.889-0.365,1.367c0.275,0.479,0.889,0.641,1.365,0.365c0.479-0.275,0.643-0.887,0.367-1.367C9.27,18.461,8.658,18.297,8.179,18.572zM9.18,10.696c-0.479-0.276-1.09-0.112-1.366,0.366s-0.111,1.09,0.365,1.366c0.479,0.276,1.09,0.113,1.367-0.366C9.821,11.584,9.657,10.973,9.18,10.696zM22.822,12.428c0.478-0.275,0.643-0.888,0.366-1.366c-0.275-0.478-0.89-0.642-1.366-0.366c-0.479,0.278-0.642,0.89-0.366,1.367C21.732,12.54,22.344,12.705,22.822,12.428zM12.062,21.455c-0.478-0.275-1.089-0.111-1.366,0.367c-0.275,0.479-0.111,1.09,0.366,1.365c0.478,0.277,1.091,0.111,1.365-0.365C12.704,22.344,12.54,21.732,12.062,21.455zM12.062,9.545c0.479-0.276,0.642-0.888,0.366-1.366c-0.276-0.478-0.888-0.642-1.366-0.366s-0.642,0.888-0.366,1.366C10.973,9.658,11.584,9.822,12.062,9.545zM22.823,18.572c-0.48-0.275-1.092-0.111-1.367,0.365c-0.275,0.479-0.112,1.092,0.367,1.367c0.477,0.275,1.089,0.113,1.365-0.365C23.464,19.461,23.3,18.848,22.823,18.572zM19.938,7.813c-0.477-0.276-1.091-0.111-1.365,0.366c-0.275,0.48-0.111,1.091,0.366,1.367s1.089,0.112,1.366-0.366C20.581,8.702,20.418,8.089,19.938,7.813zM23.378,14.5c-0.554,0.002-1.001,0.45-1.001,1c0.001,0.552,0.448,1,1.001,1c0.551,0,1-0.447,1-1C24.378,14.949,23.929,14.5,23.378,14.5zM15.501,6.624c-0.552,0-1,0.448-1,1l-0.466,7.343l-3.004,1.96c-0.478,0.277-0.642,0.889-0.365,1.365c0.275,0.479,0.889,0.643,1.365,0.367l3.305-1.676C15.39,16.99,15.444,17,15.501,17c0.828,0,1.5-0.671,1.5-1.5l-0.5-7.876C16.501,7.072,16.053,6.624,15.501,6.624zM15.501,22.377c-0.552,0-1,0.447-1,1s0.448,1,1,1s1-0.447,1-1S16.053,22.377,15.501,22.377zM18.939,21.455c-0.479,0.277-0.643,0.889-0.366,1.367c0.275,0.477,0.888,0.643,1.366,0.365c0.478-0.275,0.642-0.889,0.366-1.365C20.028,21.344,19.417,21.18,18.939,21.455z\",\n  },\n  animation_pathWingButton: {\n    tagName: \"path\",\n    d: \"m 4.5,0.5 c -2.216,0 -4,1.784 -4,4 l 0,24 c 0,2.216 1.784,4 4,4 l 13.71875,0 C 22.478584,27.272785 27.273681,22.511272 32.5,18.25 l 0,-13.75 c 0,-2.216 -1.784,-4 -4,-4 l -24,0 z\",\n  },\n  animation_pathPointer: {\n    tagName: \"path\",\n    d: \"M-15,-65,-15,-55,15,-55,15,-65,0,-95z\",\n  },\n  animation_pathSwooshFX: {\n    tagName: \"path\",\n    d: \"m 85,0 c 0,16.617 -4.813944,35.356 -13.131081,48.4508 h 6.099803 c 8.317138,-13.0948 13.13322,-28.5955 13.13322,-45.2124 0,-46.94483 -38.402714,-85.00262 -85.7743869,-85.00262 -1.0218522,0 -2.0373001,0.0241 -3.0506131,0.0589 45.958443,1.59437 82.723058,35.77285 82.723058,81.70532 z\",\n  },\n};\n\n//Dynamically builds an SVG element from a JSON object.\nfunction svgFromObject(obj) {\n  const ele = document.createElementNS(svgNS, obj.tagName);\n  for (const field in obj) {\n    if (obj.hasOwnProperty(field) && field !== \"tagName\") {\n      if (field === \"children\") {\n        const len = obj.children.length;\n        for (let i = 0; i < len; ++i) {\n          ele.appendChild(svgFromObject(obj.children[i]));\n        }\n      } else if (field.indexOf(\"xlink:\") === 0) {\n        ele.setAttributeNS(xlinkNS, field.substring(6), obj[field]);\n      } else if (field === \"textContent\") {\n        ele.textContent = obj[field];\n      } else {\n        ele.setAttribute(field, obj[field]);\n      }\n    }\n  }\n  return ele;\n}\n\nfunction svgText(x, y, msg) {\n  const text = document.createElementNS(svgNS, \"text\");\n  text.setAttribute(\"x\", x);\n  text.setAttribute(\"y\", y);\n  text.setAttribute(\"class\", \"cesium-animation-svgText\");\n\n  const tspan = document.createElementNS(svgNS, \"tspan\");\n  tspan.textContent = msg;\n  text.appendChild(tspan);\n  return text;\n}\n\nfunction setShuttleRingPointer(shuttleRingPointer, knobOuter, angle) {\n  shuttleRingPointer.setAttribute(\n    \"transform\",\n    `translate(100,100) rotate(${angle})`,\n  );\n  knobOuter.setAttribute(\"transform\", `rotate(${angle})`);\n}\n\nconst makeColorStringScratch = new Color();\nfunction makeColorString(background, gradient) {\n  const gradientAlpha = gradient.alpha;\n  const backgroundAlpha = 1.0 - gradientAlpha;\n  makeColorStringScratch.red =\n    background.red * backgroundAlpha + gradient.red * gradientAlpha;\n  makeColorStringScratch.green =\n    background.green * backgroundAlpha + gradient.green * gradientAlpha;\n  makeColorStringScratch.blue =\n    background.blue * backgroundAlpha + gradient.blue * gradientAlpha;\n  return makeColorStringScratch.toCssColorString();\n}\n\nfunction rectButton(x, y, path) {\n  const iconInfo = svgIconsById[path];\n\n  const button = {\n    tagName: \"g\",\n    class: \"cesium-animation-rectButton\",\n    transform: `translate(${x},${y})`,\n    children: [\n      {\n        tagName: \"rect\",\n        class: \"cesium-animation-buttonGlow\",\n        width: 32,\n        height: 32,\n        rx: 2,\n        ry: 2,\n      },\n      {\n        tagName: \"rect\",\n        class: \"cesium-animation-buttonMain\",\n        width: 32,\n        height: 32,\n        rx: 4,\n        ry: 4,\n      },\n      {\n        class: \"cesium-animation-buttonPath\",\n        id: path,\n        tagName: iconInfo.tagName,\n        transform: iconInfo.transform,\n        d: iconInfo.d,\n      },\n      {\n        tagName: \"title\",\n        textContent: \"\",\n      },\n    ],\n  };\n  return svgFromObject(button);\n}\n\nfunction wingButton(x, y, path) {\n  const buttonIconInfo = svgIconsById[path];\n  const wingIconInfo = svgIconsById[\"animation_pathWingButton\"];\n\n  const button = {\n    tagName: \"g\",\n    class: \"cesium-animation-rectButton\",\n    transform: `translate(${x},${y})`,\n    children: [\n      {\n        class: \"cesium-animation-buttonGlow\",\n        id: \"animation_pathWingButton\",\n        tagName: wingIconInfo.tagName,\n        d: wingIconInfo.d,\n      },\n      {\n        class: \"cesium-animation-buttonMain\",\n        id: \"animation_pathWingButton\",\n        tagName: wingIconInfo.tagName,\n        d: wingIconInfo.d,\n      },\n      {\n        class: \"cesium-animation-buttonPath\",\n        id: path,\n        tagName: buttonIconInfo.tagName,\n        transform: buttonIconInfo.transform,\n        d: buttonIconInfo.d,\n      },\n      {\n        tagName: \"title\",\n        textContent: \"\",\n      },\n    ],\n  };\n  return svgFromObject(button);\n}\n\nfunction setShuttleRingFromMouseOrTouch(widget, e) {\n  const viewModel = widget._viewModel;\n  const shuttleRingDragging = viewModel.shuttleRingDragging;\n\n  if (shuttleRingDragging && widgetForDrag !== widget) {\n    return;\n  }\n\n  if (\n    e.type === \"mousedown\" ||\n    (shuttleRingDragging && e.type === \"mousemove\") ||\n    (e.type === \"touchstart\" && e.touches.length === 1) ||\n    (shuttleRingDragging && e.type === \"touchmove\" && e.touches.length === 1)\n  ) {\n    const centerX = widget._centerX;\n    const centerY = widget._centerY;\n    const svg = widget._svgNode;\n    const rect = svg.getBoundingClientRect();\n    let clientX;\n    let clientY;\n    if (e.type === \"touchstart\" || e.type === \"touchmove\") {\n      clientX = e.touches[0].clientX;\n      clientY = e.touches[0].clientY;\n    } else {\n      clientX = e.clientX;\n      clientY = e.clientY;\n    }\n\n    if (\n      !shuttleRingDragging &&\n      (clientX > rect.right ||\n        clientX < rect.left ||\n        clientY < rect.top ||\n        clientY > rect.bottom)\n    ) {\n      return;\n    }\n\n    const pointerRect = widget._shuttleRingPointer.getBoundingClientRect();\n\n    const x = clientX - centerX - rect.left;\n    const y = clientY - centerY - rect.top;\n\n    let angle = (Math.atan2(y, x) * 180) / Math.PI + 90;\n    if (angle > 180) {\n      angle -= 360;\n    }\n    const shuttleRingAngle = viewModel.shuttleRingAngle;\n    if (\n      shuttleRingDragging ||\n      (clientX < pointerRect.right &&\n        clientX > pointerRect.left &&\n        clientY > pointerRect.top &&\n        clientY < pointerRect.bottom)\n    ) {\n      widgetForDrag = widget;\n      viewModel.shuttleRingDragging = true;\n      viewModel.shuttleRingAngle = angle;\n    } else if (angle < shuttleRingAngle) {\n      viewModel.slower();\n    } else if (angle > shuttleRingAngle) {\n      viewModel.faster();\n    }\n    e.preventDefault();\n  } else {\n    if (widget === widgetForDrag) {\n      widgetForDrag = undefined;\n    }\n    viewModel.shuttleRingDragging = false;\n  }\n}\n\n//This is a private class for treating an SVG element like a button.\n//If we ever need a general purpose SVG button, we can make this generic.\nfunction SvgButton(svgElement, viewModel) {\n  this._viewModel = viewModel;\n  this.svgElement = svgElement;\n  this._enabled = undefined;\n  this._toggled = undefined;\n\n  const that = this;\n  this._clickFunction = function () {\n    const command = that._viewModel.command;\n    if (command.canExecute) {\n      command();\n    }\n  };\n\n  svgElement.addEventListener(\"click\", this._clickFunction, true);\n\n  //TODO: Since the animation widget uses SVG and has no HTML backing,\n  //we need to wire everything up manually.  Knockout can supposedly\n  //bind to SVG, so we we figure that out we can modify our SVG\n  //to include the binding information directly.\n\n  this._subscriptions = [\n    //\n    subscribeAndEvaluate(viewModel, \"toggled\", this.setToggled, this), //\n    subscribeAndEvaluate(viewModel, \"tooltip\", this.setTooltip, this), //\n    subscribeAndEvaluate(\n      viewModel.command,\n      \"canExecute\",\n      this.setEnabled,\n      this,\n    ),\n  ];\n}\n\nSvgButton.prototype.destroy = function () {\n  this.svgElement.removeEventListener(\"click\", this._clickFunction, true);\n  const subscriptions = this._subscriptions;\n  for (let i = 0, len = subscriptions.length; i < len; i++) {\n    subscriptions[i].dispose();\n  }\n  destroyObject(this);\n};\n\nSvgButton.prototype.isDestroyed = function () {\n  return false;\n};\n\nSvgButton.prototype.setEnabled = function (enabled) {\n  if (this._enabled !== enabled) {\n    this._enabled = enabled;\n\n    if (!enabled) {\n      this.svgElement.setAttribute(\"class\", \"cesium-animation-buttonDisabled\");\n      return;\n    }\n\n    if (this._toggled) {\n      this.svgElement.setAttribute(\n        \"class\",\n        \"cesium-animation-rectButton cesium-animation-buttonToggled\",\n      );\n      return;\n    }\n\n    this.svgElement.setAttribute(\"class\", \"cesium-animation-rectButton\");\n  }\n};\n\nSvgButton.prototype.setToggled = function (toggled) {\n  if (this._toggled !== toggled) {\n    this._toggled = toggled;\n\n    if (this._enabled) {\n      if (toggled) {\n        this.svgElement.setAttribute(\n          \"class\",\n          \"cesium-animation-rectButton cesium-animation-buttonToggled\",\n        );\n      } else {\n        this.svgElement.setAttribute(\"class\", \"cesium-animation-rectButton\");\n      }\n    }\n  }\n};\n\nSvgButton.prototype.setTooltip = function (tooltip) {\n  this.svgElement.getElementsByTagName(\"title\")[0].textContent = tooltip;\n};\n\n/**\n * <span style=\"display: block; text-align: center;\">\n * <img src=\"Images/AnimationWidget.png\" width=\"211\" height=\"142\" alt=\"\" />\n * <br />Animation widget\n * </span>\n * <br /><br />\n * The Animation widget provides buttons for play, pause, and reverse, along with the\n * current time and date, surrounded by a \"shuttle ring\" for controlling the speed of animation.\n * <br /><br />\n * The \"shuttle ring\" concept is borrowed from video editing, where typically a\n * \"jog wheel\" can be rotated to move past individual animation frames very slowly, and\n * a surrounding shuttle ring can be twisted to control direction and speed of fast playback.\n * Cesium typically treats time as continuous (not broken into pre-defined animation frames),\n * so this widget offers no jog wheel.  Instead, the shuttle ring is capable of both fast and\n * very slow playback.  Click and drag the shuttle ring pointer itself (shown above in green),\n * or click in the rest of the ring area to nudge the pointer to the next preset speed in that direction.\n * <br /><br />\n * The Animation widget also provides a \"realtime\" button (in the upper-left) that keeps\n * animation time in sync with the end user's system clock, typically displaying\n * \"today\" or \"right now.\"  This mode is not available in {@link ClockRange.CLAMPED} or\n * {@link ClockRange.LOOP_STOP} mode if the current time is outside of {@link Clock}'s startTime and endTime.\n *\n * @alias Animation\n * @constructor\n *\n * @param {Element|string} container The DOM element or ID that will contain the widget.\n * @param {AnimationViewModel} viewModel The view model used by this widget.\n *\n * @exception {DeveloperError} Element with id \"container\" does not exist in the document.\n *\n *\n * @example\n * // In HTML head, include a link to Animation.css stylesheet,\n * // and in the body, include: <div id=\"animationContainer\"></div>\n *\n * const clock = new Cesium.Clock();\n * const clockViewModel = new Cesium.ClockViewModel(clock);\n * const viewModel = new Cesium.AnimationViewModel(clockViewModel);\n * const widget = new Cesium.Animation('animationContainer', viewModel);\n *\n * function tick() {\n *     clock.tick();\n *     requestAnimationFrame(tick);\n * }\n * requestAnimationFrame(tick);\n *\n * @see AnimationViewModel\n * @see Clock\n */\nfunction Animation(container, viewModel) {\n  //>>includeStart('debug', pragmas.debug);\n  if (!defined(container)) {\n    throw new DeveloperError(\"container is required.\");\n  }\n  if (!defined(viewModel)) {\n    throw new DeveloperError(\"viewModel is required.\");\n  }\n  //>>includeEnd('debug');\n\n  container = getElement(container);\n  this._viewModel = viewModel;\n  this._container = container;\n  this._centerX = 0;\n  this._centerY = 0;\n  this._defsElement = undefined;\n  this._svgNode = undefined;\n  this._topG = undefined;\n  this._lastHeight = undefined;\n  this._lastWidth = undefined;\n\n  const ownerDocument = container.ownerDocument;\n\n  // Firefox requires SVG references to be included directly, not imported from external CSS.\n  // Also, CSS minifiers get confused by this being in an external CSS file.\n  const cssStyle = document.createElement(\"style\");\n  cssStyle.textContent =\n    \".cesium-animation-rectButton .cesium-animation-buttonGlow { filter: url(#animation_blurred); }\\\n.cesium-animation-rectButton .cesium-animation-buttonMain { fill: url(#animation_buttonNormal); }\\\n.cesium-animation-buttonToggled .cesium-animation-buttonMain { fill: url(#animation_buttonToggled); }\\\n.cesium-animation-rectButton:hover .cesium-animation-buttonMain { fill: url(#animation_buttonHovered); }\\\n.cesium-animation-buttonDisabled .cesium-animation-buttonMain { fill: url(#animation_buttonDisabled); }\\\n.cesium-animation-shuttleRingG .cesium-animation-shuttleRingSwoosh { fill: url(#animation_shuttleRingSwooshGradient); }\\\n.cesium-animation-shuttleRingG:hover .cesium-animation-shuttleRingSwoosh { fill: url(#animation_shuttleRingSwooshHovered); }\\\n.cesium-animation-shuttleRingPointer { fill: url(#animation_shuttleRingPointerGradient); }\\\n.cesium-animation-shuttleRingPausePointer { fill: url(#animation_shuttleRingPointerPaused); }\\\n.cesium-animation-knobOuter { fill: url(#animation_knobOuter); }\\\n.cesium-animation-knobInner { fill: url(#animation_knobInner); }\";\n\n  ownerDocument.head.insertBefore(cssStyle, ownerDocument.head.childNodes[0]);\n\n  const themeEle = document.createElement(\"div\");\n  themeEle.className = \"cesium-animation-theme\";\n  themeEle.innerHTML =\n    '<div class=\"cesium-animation-themeNormal\"></div>\\\n<div class=\"cesium-animation-themeHover\"></div>\\\n<div class=\"cesium-animation-themeSelect\"></div>\\\n<div class=\"cesium-animation-themeDisabled\"></div>\\\n<div class=\"cesium-animation-themeKnob\"></div>\\\n<div class=\"cesium-animation-themePointer\"></div>\\\n<div class=\"cesium-animation-themeSwoosh\"></div>\\\n<div class=\"cesium-animation-themeSwooshHover\"></div>';\n\n  this._theme = themeEle;\n  this._themeNormal = themeEle.childNodes[0];\n  this._themeHover = themeEle.childNodes[1];\n  this._themeSelect = themeEle.childNodes[2];\n  this._themeDisabled = themeEle.childNodes[3];\n  this._themeKnob = themeEle.childNodes[4];\n  this._themePointer = themeEle.childNodes[5];\n  this._themeSwoosh = themeEle.childNodes[6];\n  this._themeSwooshHover = themeEle.childNodes[7];\n\n  const svg = document.createElementNS(svgNS, \"svg:svg\");\n  this._svgNode = svg;\n\n  // Define the XLink namespace that SVG uses\n  svg.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns:xlink\", xlinkNS);\n\n  const topG = document.createElementNS(svgNS, \"g\");\n  this._topG = topG;\n\n  this._realtimeSVG = new SvgButton(\n    wingButton(3, 4, \"animation_pathClock\"),\n    viewModel.playRealtimeViewModel,\n  );\n  this._playReverseSVG = new SvgButton(\n    rectButton(44, 99, \"animation_pathPlayReverse\"),\n    viewModel.playReverseViewModel,\n  );\n  this._playForwardSVG = new SvgButton(\n    rectButton(124, 99, \"animation_pathPlay\"),\n    viewModel.playForwardViewModel,\n  );\n  this._pauseSVG = new SvgButton(\n    rectButton(84, 99, \"animation_pathPause\"),\n    viewModel.pauseViewModel,\n  );\n\n  const buttonsG = document.createElementNS(svgNS, \"g\");\n  buttonsG.appendChild(this._realtimeSVG.svgElement);\n  buttonsG.appendChild(this._playReverseSVG.svgElement);\n  buttonsG.appendChild(this._playForwardSVG.svgElement);\n  buttonsG.appendChild(this._pauseSVG.svgElement);\n\n  const shuttleRingBackPanel = svgFromObject({\n    tagName: \"circle\",\n    class: \"cesium-animation-shuttleRingBack\",\n    cx: 100,\n    cy: 100,\n    r: 99,\n  });\n  this._shuttleRingBackPanel = shuttleRingBackPanel;\n\n  const swooshIconInfo = svgIconsById[\"animation_pathSwooshFX\"];\n  const shuttleRingPointerIconInfo = svgIconsById[\"animation_pathPointer\"];\n\n  const shuttleRingSwooshG = svgFromObject({\n    tagName: \"g\",\n    class: \"cesium-animation-shuttleRingSwoosh\",\n    children: [\n      {\n        tagName: swooshIconInfo.tagName,\n        transform: \"translate(100,97) scale(-1,1)\",\n        id: \"animation_pathSwooshFX\",\n        d: swooshIconInfo.d,\n      },\n      {\n        tagName: swooshIconInfo.tagName,\n        transform: \"translate(100,97)\",\n        id: \"animation_pathSwooshFX\",\n        d: swooshIconInfo.d,\n      },\n      {\n        tagName: \"line\",\n        x1: 100,\n        y1: 8,\n        x2: 100,\n        y2: 22,\n      },\n    ],\n  });\n  this._shuttleRingSwooshG = shuttleRingSwooshG;\n\n  this._shuttleRingPointer = svgFromObject({\n    class: \"cesium-animation-shuttleRingPointer\",\n    id: \"animation_pathPointer\",\n    tagName: shuttleRingPointerIconInfo.tagName,\n    d: shuttleRingPointerIconInfo.d,\n  });\n\n  const knobG = svgFromObject({\n    tagName: \"g\",\n    transform: \"translate(100,100)\",\n  });\n\n  this._knobOuter = svgFromObject({\n    tagName: \"circle\",\n    class: \"cesium-animation-knobOuter\",\n    cx: 0,\n    cy: 0,\n    r: 71,\n  });\n\n  const knobInnerAndShieldSize = 61;\n\n  const knobInner = svgFromObject({\n    tagName: \"circle\",\n    class: \"cesium-animation-knobInner\",\n    cx: 0,\n    cy: 0,\n    r: knobInnerAndShieldSize,\n  });\n\n  this._knobDate = svgText(0, -24, \"\");\n  this._knobTime = svgText(0, -7, \"\");\n  this._knobStatus = svgText(0, -41, \"\");\n\n  // widget shield catches clicks on the knob itself (even while DOM elements underneath are changing).\n  const knobShield = svgFromObject({\n    tagName: \"circle\",\n    class: \"cesium-animation-blank\",\n    cx: 0,\n    cy: 0,\n    r: knobInnerAndShieldSize,\n  });\n\n  const shuttleRingBackG = document.createElementNS(svgNS, \"g\");\n  shuttleRingBackG.setAttribute(\"class\", \"cesium-animation-shuttleRingG\");\n\n  container.appendChild(themeEle);\n  topG.appendChild(shuttleRingBackG);\n  topG.appendChild(knobG);\n  topG.appendChild(buttonsG);\n\n  shuttleRingBackG.appendChild(shuttleRingBackPanel);\n  shuttleRingBackG.appendChild(shuttleRingSwooshG);\n  shuttleRingBackG.appendChild(this._shuttleRingPointer);\n\n  knobG.appendChild(this._knobOuter);\n  knobG.appendChild(knobInner);\n  knobG.appendChild(this._knobDate);\n  knobG.appendChild(this._knobTime);\n  knobG.appendChild(this._knobStatus);\n  knobG.appendChild(knobShield);\n\n  svg.appendChild(topG);\n  container.appendChild(svg);\n\n  const that = this;\n  function mouseCallback(e) {\n    setShuttleRingFromMouseOrTouch(that, e);\n  }\n  this._mouseCallback = mouseCallback;\n\n  shuttleRingBackPanel.addEventListener(\"mousedown\", mouseCallback, true);\n  shuttleRingBackPanel.addEventListener(\"touchstart\", mouseCallback, true);\n  shuttleRingSwooshG.addEventListener(\"mousedown\", mouseCallback, true);\n  shuttleRingSwooshG.addEventListener(\"touchstart\", mouseCallback, true);\n  ownerDocument.addEventListener(\"mousemove\", mouseCallback, true);\n  ownerDocument.addEventListener(\"touchmove\", mouseCallback, true);\n  ownerDocument.addEventListener(\"mouseup\", mouseCallback, true);\n  ownerDocument.addEventListener(\"touchend\", mouseCallback, true);\n  ownerDocument.addEventListener(\"touchcancel\", mouseCallback, true);\n  this._shuttleRingPointer.addEventListener(\"mousedown\", mouseCallback, true);\n  this._shuttleRingPointer.addEventListener(\"touchstart\", mouseCallback, true);\n  this._knobOuter.addEventListener(\"mousedown\", mouseCallback, true);\n  this._knobOuter.addEventListener(\"touchstart\", mouseCallback, true);\n\n  //TODO: Since the animation widget uses SVG and has no HTML backing,\n  //we need to wire everything up manually.  Knockout can supposedly\n  //bind to SVG, so we we figure that out we can modify our SVG\n  //to include the binding information directly.\n\n  const timeNode = this._knobTime.childNodes[0];\n  const dateNode = this._knobDate.childNodes[0];\n  const statusNode = this._knobStatus.childNodes[0];\n  let isPaused;\n  this._subscriptions = [\n    //\n    subscribeAndEvaluate(viewModel.pauseViewModel, \"toggled\", function (value) {\n      if (isPaused !== value) {\n        isPaused = value;\n        if (isPaused) {\n          that._shuttleRingPointer.setAttribute(\n            \"class\",\n            \"cesium-animation-shuttleRingPausePointer\",\n          );\n        } else {\n          that._shuttleRingPointer.setAttribute(\n            \"class\",\n            \"cesium-animation-shuttleRingPointer\",\n          );\n        }\n      }\n    }),\n\n    subscribeAndEvaluate(viewModel, \"shuttleRingAngle\", function (value) {\n      setShuttleRingPointer(that._shuttleRingPointer, that._knobOuter, value);\n    }),\n\n    subscribeAndEvaluate(viewModel, \"dateLabel\", function (value) {\n      if (dateNode.textContent !== value) {\n        dateNode.textContent = value;\n      }\n    }),\n\n    subscribeAndEvaluate(viewModel, \"timeLabel\", function (value) {\n      if (timeNode.textContent !== value) {\n        timeNode.textContent = value;\n      }\n    }),\n\n    subscribeAndEvaluate(viewModel, \"multiplierLabel\", function (value) {\n      if (statusNode.textContent !== value) {\n        statusNode.textContent = value;\n      }\n    }),\n  ];\n\n  this.applyThemeChanges();\n  this.resize();\n}\n\nObject.defineProperties(Animation.prototype, {\n  /**\n   * Gets the parent container.\n   *\n   * @memberof Animation.prototype\n   * @type {Element}\n   * @readonly\n   */\n  container: {\n    get: function () {\n      return this._container;\n    },\n  },\n\n  /**\n   * Gets the view model.\n   *\n   * @memberof Animation.prototype\n   * @type {AnimationViewModel}\n   * @readonly\n   */\n  viewModel: {\n    get: function () {\n      return this._viewModel;\n    },\n  },\n});\n\n/**\n * @returns {boolean} true if the object has been destroyed, false otherwise.\n */\nAnimation.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the animation widget.  Should be called if permanently\n * removing the widget from layout.\n */\nAnimation.prototype.destroy = function () {\n  if (defined(this._observer)) {\n    this._observer.disconnect();\n    this._observer = undefined;\n  }\n\n  const doc = this._container.ownerDocument;\n\n  const mouseCallback = this._mouseCallback;\n  this._shuttleRingBackPanel.removeEventListener(\n    \"mousedown\",\n    mouseCallback,\n    true,\n  );\n  this._shuttleRingBackPanel.removeEventListener(\n    \"touchstart\",\n    mouseCallback,\n    true,\n  );\n  this._shuttleRingSwooshG.removeEventListener(\n    \"mousedown\",\n    mouseCallback,\n    true,\n  );\n  this._shuttleRingSwooshG.removeEventListener(\n    \"touchstart\",\n    mouseCallback,\n    true,\n  );\n  doc.removeEventListener(\"mousemove\", mouseCallback, true);\n  doc.removeEventListener(\"touchmove\", mouseCallback, true);\n  doc.removeEventListener(\"mouseup\", mouseCallback, true);\n  doc.removeEventListener(\"touchend\", mouseCallback, true);\n  doc.removeEventListener(\"touchcancel\", mouseCallback, true);\n  this._shuttleRingPointer.removeEventListener(\n    \"mousedown\",\n    mouseCallback,\n    true,\n  );\n  this._shuttleRingPointer.removeEventListener(\n    \"touchstart\",\n    mouseCallback,\n    true,\n  );\n  this._knobOuter.removeEventListener(\"mousedown\", mouseCallback, true);\n  this._knobOuter.removeEventListener(\"touchstart\", mouseCallback, true);\n\n  this._container.removeChild(this._svgNode);\n  this._container.removeChild(this._theme);\n  this._realtimeSVG.destroy();\n  this._playReverseSVG.destroy();\n  this._playForwardSVG.destroy();\n  this._pauseSVG.destroy();\n\n  const subscriptions = this._subscriptions;\n  for (let i = 0, len = subscriptions.length; i < len; i++) {\n    subscriptions[i].dispose();\n  }\n\n  return destroyObject(this);\n};\n\n/**\n * Resizes the widget to match the container size.\n * This function should be called whenever the container size is changed.\n */\nAnimation.prototype.resize = function () {\n  const parentWidth = this._container.clientWidth;\n  const parentHeight = this._container.clientHeight;\n  if (parentWidth === this._lastWidth && parentHeight === this._lastHeight) {\n    return;\n  }\n\n  const svg = this._svgNode;\n\n  //The width and height as the SVG was originally drawn.\n  const baseWidth = 200;\n  const baseHeight = 132;\n\n  let width = parentWidth;\n  let height = parentHeight;\n\n  if (parentWidth === 0 && parentHeight === 0) {\n    width = baseWidth;\n    height = baseHeight;\n  } else if (parentWidth === 0) {\n    height = parentHeight;\n    width = baseWidth * (parentHeight / baseHeight);\n  } else if (parentHeight === 0) {\n    width = parentWidth;\n    height = baseHeight * (parentWidth / baseWidth);\n  }\n\n  const scaleX = width / baseWidth;\n  const scaleY = height / baseHeight;\n\n  svg.style.cssText = `width: ${width}px; height: ${height}px; position: absolute; bottom: 0; left: 0; overflow: hidden;`;\n  svg.setAttribute(\"width\", width);\n  svg.setAttribute(\"height\", height);\n  svg.setAttribute(\"viewBox\", `0 0 ${width} ${height}`);\n\n  this._topG.setAttribute(\"transform\", `scale(${scaleX},${scaleY})`);\n\n  this._centerX = Math.max(1, 100.0 * scaleX);\n  this._centerY = Math.max(1, 100.0 * scaleY);\n\n  this._lastHeight = parentWidth;\n  this._lastWidth = parentHeight;\n};\n\n/**\n * Updates the widget to reflect any modified CSS rules for theming.\n *\n * @example\n * //Switch to the cesium-lighter theme.\n * document.body.className = 'cesium-lighter';\n * animation.applyThemeChanges();\n */\nAnimation.prototype.applyThemeChanges = function () {\n  // Since we rely on computed styles for themeing, we can't actually\n  // do anything if the container has not yet been added to the DOM.\n  // Set up an observer to be notified when it is added and apply\n  // the changes at that time.\n\n  const doc = this._container.ownerDocument;\n\n  if (!doc.body.contains(this._container)) {\n    if (defined(this._observer)) {\n      //Already listening.\n      return;\n    }\n    const that = this;\n    that._observer = new MutationObserver(function () {\n      if (doc.body.contains(that._container)) {\n        that._observer.disconnect();\n        that._observer = undefined;\n        that.applyThemeChanges();\n      }\n    });\n    that._observer.observe(doc, { childList: true, subtree: true });\n    return;\n  }\n\n  const buttonNormalBackColor = getElementColor(this._themeNormal);\n  const buttonHoverBackColor = getElementColor(this._themeHover);\n  const buttonToggledBackColor = getElementColor(this._themeSelect);\n  const buttonDisabledBackColor = getElementColor(this._themeDisabled);\n  const knobBackColor = getElementColor(this._themeKnob);\n  const pointerColor = getElementColor(this._themePointer);\n  const swooshColor = getElementColor(this._themeSwoosh);\n  const swooshHoverColor = getElementColor(this._themeSwooshHover);\n\n  const defsElement = svgFromObject({\n    tagName: \"defs\",\n    children: [\n      {\n        id: \"animation_buttonNormal\",\n        tagName: \"linearGradient\",\n        x1: \"50%\",\n        y1: \"0%\",\n        x2: \"50%\",\n        y2: \"100%\",\n        children: [\n          //add a 'stop-opacity' field to make translucent.\n          {\n            tagName: \"stop\",\n            offset: \"0%\",\n            \"stop-color\": makeColorString(\n              buttonNormalBackColor,\n              gradientEnabledColor0,\n            ),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"12%\",\n            \"stop-color\": makeColorString(\n              buttonNormalBackColor,\n              gradientEnabledColor1,\n            ),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"46%\",\n            \"stop-color\": makeColorString(\n              buttonNormalBackColor,\n              gradientEnabledColor2,\n            ),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"81%\",\n            \"stop-color\": makeColorString(\n              buttonNormalBackColor,\n              gradientEnabledColor3,\n            ),\n          },\n        ],\n      },\n      {\n        id: \"animation_buttonHovered\",\n        tagName: \"linearGradient\",\n        x1: \"50%\",\n        y1: \"0%\",\n        x2: \"50%\",\n        y2: \"100%\",\n        children: [\n          {\n            tagName: \"stop\",\n            offset: \"0%\",\n            \"stop-color\": makeColorString(\n              buttonHoverBackColor,\n              gradientEnabledColor0,\n            ),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"12%\",\n            \"stop-color\": makeColorString(\n              buttonHoverBackColor,\n              gradientEnabledColor1,\n            ),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"46%\",\n            \"stop-color\": makeColorString(\n              buttonHoverBackColor,\n              gradientEnabledColor2,\n            ),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"81%\",\n            \"stop-color\": makeColorString(\n              buttonHoverBackColor,\n              gradientEnabledColor3,\n            ),\n          },\n        ],\n      },\n      {\n        id: \"animation_buttonToggled\",\n        tagName: \"linearGradient\",\n        x1: \"50%\",\n        y1: \"0%\",\n        x2: \"50%\",\n        y2: \"100%\",\n        children: [\n          {\n            tagName: \"stop\",\n            offset: \"0%\",\n            \"stop-color\": makeColorString(\n              buttonToggledBackColor,\n              gradientEnabledColor0,\n            ),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"12%\",\n            \"stop-color\": makeColorString(\n              buttonToggledBackColor,\n              gradientEnabledColor1,\n            ),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"46%\",\n            \"stop-color\": makeColorString(\n              buttonToggledBackColor,\n              gradientEnabledColor2,\n            ),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"81%\",\n            \"stop-color\": makeColorString(\n              buttonToggledBackColor,\n              gradientEnabledColor3,\n            ),\n          },\n        ],\n      },\n      {\n        id: \"animation_buttonDisabled\",\n        tagName: \"linearGradient\",\n        x1: \"50%\",\n        y1: \"0%\",\n        x2: \"50%\",\n        y2: \"100%\",\n        children: [\n          {\n            tagName: \"stop\",\n            offset: \"0%\",\n            \"stop-color\": makeColorString(\n              buttonDisabledBackColor,\n              gradientDisabledColor0,\n            ),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"75%\",\n            \"stop-color\": makeColorString(\n              buttonDisabledBackColor,\n              gradientDisabledColor1,\n            ),\n          },\n        ],\n      },\n      {\n        id: \"animation_blurred\",\n        tagName: \"filter\",\n        width: \"200%\",\n        height: \"200%\",\n        x: \"-50%\",\n        y: \"-50%\",\n        children: [\n          {\n            tagName: \"feGaussianBlur\",\n            stdDeviation: 4,\n            in: \"SourceGraphic\",\n          },\n        ],\n      },\n      {\n        id: \"animation_shuttleRingSwooshGradient\",\n        tagName: \"linearGradient\",\n        x1: \"50%\",\n        y1: \"0%\",\n        x2: \"50%\",\n        y2: \"100%\",\n        children: [\n          {\n            tagName: \"stop\",\n            offset: \"0%\",\n            \"stop-opacity\": 0.2,\n            \"stop-color\": swooshColor.toCssColorString(),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"85%\",\n            \"stop-opacity\": 0.85,\n            \"stop-color\": swooshColor.toCssColorString(),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"95%\",\n            \"stop-opacity\": 0.05,\n            \"stop-color\": swooshColor.toCssColorString(),\n          },\n        ],\n      },\n      {\n        id: \"animation_shuttleRingSwooshHovered\",\n        tagName: \"linearGradient\",\n        x1: \"50%\",\n        y1: \"0%\",\n        x2: \"50%\",\n        y2: \"100%\",\n        children: [\n          {\n            tagName: \"stop\",\n            offset: \"0%\",\n            \"stop-opacity\": 0.2,\n            \"stop-color\": swooshHoverColor.toCssColorString(),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"85%\",\n            \"stop-opacity\": 0.85,\n            \"stop-color\": swooshHoverColor.toCssColorString(),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"95%\",\n            \"stop-opacity\": 0.05,\n            \"stop-color\": swooshHoverColor.toCssColorString(),\n          },\n        ],\n      },\n      {\n        id: \"animation_shuttleRingPointerGradient\",\n        tagName: \"linearGradient\",\n        x1: \"0%\",\n        y1: \"50%\",\n        x2: \"100%\",\n        y2: \"50%\",\n        children: [\n          {\n            tagName: \"stop\",\n            offset: \"0%\",\n            \"stop-color\": pointerColor.toCssColorString(),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"40%\",\n            \"stop-color\": pointerColor.toCssColorString(),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"60%\",\n            \"stop-color\": makeColorString(pointerColor, gradientPointerColor),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"100%\",\n            \"stop-color\": makeColorString(pointerColor, gradientPointerColor),\n          },\n        ],\n      },\n      {\n        id: \"animation_shuttleRingPointerPaused\",\n        tagName: \"linearGradient\",\n        x1: \"0%\",\n        y1: \"50%\",\n        x2: \"100%\",\n        y2: \"50%\",\n        children: [\n          {\n            tagName: \"stop\",\n            offset: \"0%\",\n            \"stop-color\": \"#CCC\",\n          },\n          {\n            tagName: \"stop\",\n            offset: \"40%\",\n            \"stop-color\": \"#CCC\",\n          },\n          {\n            tagName: \"stop\",\n            offset: \"60%\",\n            \"stop-color\": \"#555\",\n          },\n          {\n            tagName: \"stop\",\n            offset: \"100%\",\n            \"stop-color\": \"#555\",\n          },\n        ],\n      },\n      {\n        id: \"animation_knobOuter\",\n        tagName: \"linearGradient\",\n        x1: \"20%\",\n        y1: \"0%\",\n        x2: \"90%\",\n        y2: \"100%\",\n        children: [\n          {\n            tagName: \"stop\",\n            offset: \"5%\",\n            \"stop-color\": makeColorString(knobBackColor, gradientEnabledColor0),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"60%\",\n            \"stop-color\": makeColorString(knobBackColor, gradientKnobColor),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"85%\",\n            \"stop-color\": makeColorString(knobBackColor, gradientEnabledColor1),\n          },\n        ],\n      },\n      {\n        id: \"animation_knobInner\",\n        tagName: \"linearGradient\",\n        x1: \"20%\",\n        y1: \"0%\",\n        x2: \"90%\",\n        y2: \"100%\",\n        children: [\n          {\n            tagName: \"stop\",\n            offset: \"5%\",\n            \"stop-color\": makeColorString(knobBackColor, gradientKnobColor),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"60%\",\n            \"stop-color\": makeColorString(knobBackColor, gradientEnabledColor0),\n          },\n          {\n            tagName: \"stop\",\n            offset: \"85%\",\n            \"stop-color\": makeColorString(knobBackColor, gradientEnabledColor3),\n          },\n        ],\n      },\n    ],\n  });\n\n  if (!defined(this._defsElement)) {\n    this._svgNode.appendChild(defsElement);\n  } else {\n    this._svgNode.replaceChild(defsElement, this._defsElement);\n  }\n  this._defsElement = defsElement;\n};\nexport default Animation;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}