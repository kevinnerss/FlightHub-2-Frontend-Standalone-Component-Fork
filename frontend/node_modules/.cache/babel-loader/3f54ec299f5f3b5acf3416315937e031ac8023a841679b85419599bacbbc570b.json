{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport alarmApi from '../api/alarmApi';\nimport waylineApi from '../api/waylineApi';\nexport default {\n  name: 'AlarmList',\n  data() {\n    return {\n      alarms: [],\n      loading: false,\n      currentPage: 1,\n      pageSize: 10,\n      totalAlarms: 0,\n      searchQuery: '',\n      statusFilter: '',\n      waylineIdFilter: '',\n      waylines: [],\n      showStatusDialog: false,\n      showDetailDialog: false,\n      currentAlarm: null,\n      newAlarmStatus: ''\n    };\n  },\n  computed: {\n    filteredAlarms() {\n      // 前端过滤逻辑（如果后端未完全支持）\n      let result = this.alarms;\n      if (this.searchQuery) {\n        const query = this.searchQuery.toLowerCase();\n        result = result.filter(alarm => alarm.content && alarm.content.toLowerCase().includes(query) || alarm.id && alarm.id.toString().includes(query));\n      }\n      if (this.statusFilter) {\n        result = result.filter(alarm => alarm.status === this.statusFilter);\n      }\n      if (this.waylineIdFilter) {\n        result = result.filter(alarm => {\n          const wId = alarm.wayline?.wayline_id || alarm.wayline_id;\n          return wId === this.waylineIdFilter;\n        });\n      }\n      return result;\n    }\n  },\n  mounted() {\n    this.loadAlarms();\n    this.loadWaylines();\n  },\n  methods: {\n    async loadAlarms() {\n      this.loading = true;\n      try {\n        const params = {\n          page: this.currentPage,\n          page_size: this.pageSize,\n          search: this.searchQuery,\n          status: this.statusFilter,\n          wayline_id: this.waylineIdFilter\n        };\n        const response = await alarmApi.getAlarms(params);\n        if (response.results) {\n          this.alarms = response.results;\n          this.totalAlarms = response.count;\n        } else {\n          this.alarms = response;\n          this.totalAlarms = response.length;\n        }\n      } catch (error) {\n        console.error('Failed to load alarms:', error);\n        this.$message.error('加载告警数据失败');\n      } finally {\n        this.loading = false;\n      }\n    },\n    async loadWaylines() {\n      try {\n        const response = await waylineApi.getWaylines();\n        this.waylines = Array.isArray(response) ? response : response.results;\n      } catch (error) {\n        console.error('Failed to load waylines:', error);\n      }\n    },\n    handleSearch() {\n      this.currentPage = 1;\n      // 防抖处理\n      if (this.searchTimeout) clearTimeout(this.searchTimeout);\n      this.searchTimeout = setTimeout(() => {\n        this.loadAlarms();\n      }, 300);\n    },\n    handleSizeChange(val) {\n      this.pageSize = val;\n      this.loadAlarms();\n    },\n    handleCurrentChange(val) {\n      this.currentPage = val;\n      this.loadAlarms();\n    },\n    getWaylineName(alarm) {\n      return alarm.wayline?.name || alarm.wayline_details?.name || '未知航线';\n    },\n    getWaylineId(alarm) {\n      return alarm.wayline?.wayline_id || alarm.wayline_id || '--';\n    },\n    formatDate(dateStr) {\n      if (!dateStr) return '--';\n      return new Date(dateStr).toLocaleString('zh-CN');\n    },\n    getStatusText(status) {\n      const map = {\n        'PENDING': '待处理',\n        'PROCESSING': '处理中',\n        'COMPLETED': '已完成',\n        'IGNORED': '已忽略'\n      };\n      return map[status] || status;\n    },\n    viewAlarmDetail(alarm) {\n      this.currentAlarm = alarm;\n      this.showDetailDialog = true;\n    },\n    updateAlarmStatus(alarm) {\n      this.currentAlarm = alarm;\n      this.newAlarmStatus = alarm.status;\n      this.showStatusDialog = true;\n    },\n    async confirmStatusUpdate() {\n      try {\n        await alarmApi.patchAlarm(this.currentAlarm.id, {\n          status: this.newAlarmStatus\n        });\n        this.$message.success('状态更新成功');\n        this.showStatusDialog = false;\n        this.loadAlarms();\n      } catch (error) {\n        this.$message.error('更新失败');\n      }\n    },\n    async deleteAlarm(id) {\n      try {\n        await this.$confirm('确定要删除这条告警记录吗？', '警告', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        });\n        await alarmApi.deleteAlarm(id);\n        this.$message.success('删除成功');\n        this.loadAlarms();\n      } catch (error) {\n        if (error !== 'cancel') {\n          this.$message.error('删除失败');\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["alarmApi","waylineApi","name","data","alarms","loading","currentPage","pageSize","totalAlarms","searchQuery","statusFilter","waylineIdFilter","waylines","showStatusDialog","showDetailDialog","currentAlarm","newAlarmStatus","computed","filteredAlarms","result","query","toLowerCase","filter","alarm","content","includes","id","toString","status","wId","wayline","wayline_id","mounted","loadAlarms","loadWaylines","methods","params","page","page_size","search","response","getAlarms","results","count","length","error","console","$message","getWaylines","Array","isArray","handleSearch","searchTimeout","clearTimeout","setTimeout","handleSizeChange","val","handleCurrentChange","getWaylineName","wayline_details","getWaylineId","formatDate","dateStr","Date","toLocaleString","getStatusText","map","viewAlarmDetail","updateAlarmStatus","confirmStatusUpdate","patchAlarm","success","deleteAlarm","$confirm","confirmButtonText","cancelButtonText","type"],"sources":["D:\\projects\\FlightHub-2-Frontend-Standalone-Component\\frontend\\src\\components\\AlarmList.vue"],"sourcesContent":["<template>\r\n  <div class=\"alarm-list-premium\">\r\n    <!-- 头部区域 -->\r\n    <div class=\"list-header\">\r\n      <div class=\"title-section\">\r\n        <div class=\"icon-box\">\r\n          <svg viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            <path d=\"M13.73 21a2 2 0 0 1-3.46 0\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n          </svg>\r\n        </div>\r\n        <h2 class=\"list-title\">告警列表</h2>\r\n      </div>\r\n      \r\n      <!-- 筛选工具栏 -->\r\n      <div class=\"filter-toolbar\">\r\n        <div class=\"search-box\">\r\n          <i class=\"el-icon-search search-icon\"></i>\r\n          <input \r\n            v-model=\"searchQuery\" \r\n            type=\"text\" \r\n            placeholder=\"搜索告警内容...\" \r\n            @input=\"handleSearch\"\r\n          />\r\n        </div>\r\n        \r\n        <el-select \r\n          v-model=\"statusFilter\" \r\n          placeholder=\"状态筛选\" \r\n          clearable \r\n          class=\"premium-select\"\r\n          popper-class=\"premium-dropdown\"\r\n          @change=\"loadAlarms\"\r\n        >\r\n          <el-option label=\"全部状态\" value=\"\" />\r\n          <el-option label=\"待处理\" value=\"PENDING\" />\r\n          <el-option label=\"处理中\" value=\"PROCESSING\" />\r\n          <el-option label=\"已完成\" value=\"COMPLETED\" />\r\n          <el-option label=\"已忽略\" value=\"IGNORED\" />\r\n        </el-select>\r\n        \r\n        <el-select \r\n          v-model=\"waylineIdFilter\" \r\n          placeholder=\"航线筛选\" \r\n          clearable \r\n          class=\"premium-select\"\r\n          popper-class=\"premium-dropdown\"\r\n          @change=\"loadAlarms\"\r\n        >\r\n          <el-option label=\"全部航线\" value=\"\" />\r\n          <el-option\r\n            v-for=\"wayline in waylines\"\r\n            :key=\"wayline.id\"\r\n            :label=\"`${wayline.wayline_id} - ${wayline.name}`\"\r\n            :value=\"wayline.wayline_id\"\r\n          />\r\n        </el-select>\r\n        \r\n        <button class=\"refresh-btn\" @click=\"loadAlarms\">\r\n          <i class=\"el-icon-refresh\"></i>\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 表格区域 -->\r\n    <div class=\"table-container\">\r\n      <table class=\"premium-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>航线</th>\r\n            <th>类型</th>\r\n            <th>内容</th>\r\n            <th>位置</th>\r\n            <th>时间</th>\r\n            <th>状态</th>\r\n            <th>操作</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-if=\"loading\" class=\"loading-row\">\r\n            <td colspan=\"8\">\r\n              <div class=\"loading-spinner\"></div>\r\n            </td>\r\n          </tr>\r\n          <tr v-else-if=\"filteredAlarms.length === 0\" class=\"empty-row\">\r\n            <td colspan=\"8\">暂无告警数据</td>\r\n          </tr>\r\n          <tr v-else v-for=\"alarm in filteredAlarms\" :key=\"alarm.id\">\r\n            <td><span class=\"id-badge\">#{{ alarm.id }}</span></td>\r\n            <td>\r\n              <div class=\"wayline-info\">\r\n                <span class=\"wayline-name\">{{ getWaylineName(alarm) }}</span>\r\n                <span class=\"wayline-id\">{{ getWaylineId(alarm) }}</span>\r\n              </div>\r\n            </td>\r\n            <td>\r\n              <span class=\"category-tag\">{{ alarm.category_name || '未分类' }}</span>\r\n            </td>\r\n            <td class=\"content-cell\" :title=\"alarm.content\">{{ alarm.content }}</td>\r\n            <td class=\"location-cell\">\r\n              <span class=\"coord\">{{ alarm.latitude }}, {{ alarm.longitude }}</span>\r\n            </td>\r\n            <td class=\"time-cell\">{{ formatDate(alarm.created_at) }}</td>\r\n            <td>\r\n              <span :class=\"['status-badge', `status-${(alarm.status || '').toLowerCase()}`]\">\r\n                {{ getStatusText(alarm.status) }}\r\n              </span>\r\n            </td>\r\n            <td class=\"actions-cell\">\r\n              <button class=\"action-btn view\" @click=\"viewAlarmDetail(alarm)\">查看</button>\r\n              <button class=\"action-btn edit\" @click=\"updateAlarmStatus(alarm)\">状态</button>\r\n              <button class=\"action-btn delete\" @click=\"deleteAlarm(alarm.id)\">删除</button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <!-- 分页 -->\r\n    <div class=\"pagination-wrapper\">\r\n      <el-pagination\r\n        v-model:current-page=\"currentPage\"\r\n        v-model:page-size=\"pageSize\"\r\n        :total=\"totalAlarms\"\r\n        :page-sizes=\"[10, 20, 50, 100]\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        class=\"premium-pagination\"\r\n      />\r\n    </div>\r\n\r\n    <!-- 状态更新对话框 -->\r\n    <el-dialog\r\n      v-model=\"showStatusDialog\"\r\n      title=\"更新状态\"\r\n      width=\"400px\"\r\n      class=\"premium-dialog\"\r\n      destroy-on-close\r\n    >\r\n      <div class=\"status-form\">\r\n        <div class=\"form-item\">\r\n          <label>当前状态</label>\r\n          <div class=\"current-status\">\r\n            <span :class=\"['status-badge', `status-${(currentAlarm?.status || '').toLowerCase()}`]\">\r\n              {{ getStatusText(currentAlarm?.status) }}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-item\">\r\n          <label>新状态</label>\r\n          <el-select \r\n            v-model=\"newAlarmStatus\" \r\n            class=\"premium-select full-width\"\r\n            popper-class=\"premium-dropdown\"\r\n          >\r\n            <el-option label=\"待处理\" value=\"PENDING\" />\r\n            <el-option label=\"处理中\" value=\"PROCESSING\" />\r\n            <el-option label=\"已完成\" value=\"COMPLETED\" />\r\n            <el-option label=\"已忽略\" value=\"IGNORED\" />\r\n          </el-select>\r\n        </div>\r\n      </div>\r\n      <template #footer>\r\n        <div class=\"dialog-footer\">\r\n          <button class=\"premium-btn secondary\" @click=\"showStatusDialog = false\">取消</button>\r\n          <button class=\"premium-btn primary\" @click=\"confirmStatusUpdate\">确认更新</button>\r\n        </div>\r\n      </template>\r\n    </el-dialog>\r\n\r\n    <!-- 详情对话框 -->\r\n    <el-dialog\r\n      v-model=\"showDetailDialog\"\r\n      title=\"告警详情\"\r\n      width=\"600px\"\r\n      class=\"premium-dialog\"\r\n    >\r\n      <div v-if=\"currentAlarm\" class=\"detail-content\">\r\n        <div class=\"detail-grid\">\r\n          <div class=\"detail-group\">\r\n            <label>ID</label>\r\n            <div class=\"value\">#{{ currentAlarm.id }}</div>\r\n          </div>\r\n          <div class=\"detail-group\">\r\n            <label>类型</label>\r\n            <div class=\"value\">{{ currentAlarm.category_name || '未分类' }}</div>\r\n          </div>\r\n          <div class=\"detail-group full\">\r\n            <label>内容</label>\r\n            <div class=\"value text-box\">{{ currentAlarm.content }}</div>\r\n          </div>\r\n          <div class=\"detail-group\">\r\n            <label>航线</label>\r\n            <div class=\"value\">{{ getWaylineName(currentAlarm) }}</div>\r\n          </div>\r\n          <div class=\"detail-group\">\r\n            <label>位置</label>\r\n            <div class=\"value\">{{ currentAlarm.latitude }}, {{ currentAlarm.longitude }}</div>\r\n          </div>\r\n          <div class=\"detail-group full\" v-if=\"currentAlarm.image_url\">\r\n            <label>现场图片</label>\r\n            <div class=\"image-preview\">\r\n              <el-image \r\n                :src=\"currentAlarm.image_url\" \r\n                :preview-src-list=\"[currentAlarm.image_url]\"\r\n                fit=\"cover\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport alarmApi from '../api/alarmApi'\r\nimport waylineApi from '../api/waylineApi'\r\n\r\nexport default {\r\n  name: 'AlarmList',\r\n  data() {\r\n    return {\r\n      alarms: [],\r\n      loading: false,\r\n      currentPage: 1,\r\n      pageSize: 10,\r\n      totalAlarms: 0,\r\n      searchQuery: '',\r\n      statusFilter: '',\r\n      waylineIdFilter: '',\r\n      waylines: [],\r\n      showStatusDialog: false,\r\n      showDetailDialog: false,\r\n      currentAlarm: null,\r\n      newAlarmStatus: ''\r\n    }\r\n  },\r\n  computed: {\r\n    filteredAlarms() {\r\n      // 前端过滤逻辑（如果后端未完全支持）\r\n      let result = this.alarms\r\n      \r\n      if (this.searchQuery) {\r\n        const query = this.searchQuery.toLowerCase()\r\n        result = result.filter(alarm => \r\n          (alarm.content && alarm.content.toLowerCase().includes(query)) ||\r\n          (alarm.id && alarm.id.toString().includes(query))\r\n        )\r\n      }\r\n      \r\n      if (this.statusFilter) {\r\n        result = result.filter(alarm => alarm.status === this.statusFilter)\r\n      }\r\n      \r\n      if (this.waylineIdFilter) {\r\n        result = result.filter(alarm => {\r\n          const wId = alarm.wayline?.wayline_id || alarm.wayline_id\r\n          return wId === this.waylineIdFilter\r\n        })\r\n      }\r\n      \r\n      return result\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadAlarms()\r\n    this.loadWaylines()\r\n  },\r\n  methods: {\r\n    async loadAlarms() {\r\n      this.loading = true\r\n      try {\r\n        const params = {\r\n          page: this.currentPage,\r\n          page_size: this.pageSize,\r\n          search: this.searchQuery,\r\n          status: this.statusFilter,\r\n          wayline_id: this.waylineIdFilter\r\n        }\r\n        const response = await alarmApi.getAlarms(params)\r\n        if (response.results) {\r\n          this.alarms = response.results\r\n          this.totalAlarms = response.count\r\n        } else {\r\n          this.alarms = response\r\n          this.totalAlarms = response.length\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to load alarms:', error)\r\n        this.$message.error('加载告警数据失败')\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    async loadWaylines() {\r\n      try {\r\n        const response = await waylineApi.getWaylines()\r\n        this.waylines = Array.isArray(response) ? response : response.results\r\n      } catch (error) {\r\n        console.error('Failed to load waylines:', error)\r\n      }\r\n    },\r\n    handleSearch() {\r\n      this.currentPage = 1\r\n      // 防抖处理\r\n      if (this.searchTimeout) clearTimeout(this.searchTimeout)\r\n      this.searchTimeout = setTimeout(() => {\r\n        this.loadAlarms()\r\n      }, 300)\r\n    },\r\n    handleSizeChange(val) {\r\n      this.pageSize = val\r\n      this.loadAlarms()\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.currentPage = val\r\n      this.loadAlarms()\r\n    },\r\n    getWaylineName(alarm) {\r\n      return alarm.wayline?.name || alarm.wayline_details?.name || '未知航线'\r\n    },\r\n    getWaylineId(alarm) {\r\n      return alarm.wayline?.wayline_id || alarm.wayline_id || '--'\r\n    },\r\n    formatDate(dateStr) {\r\n      if (!dateStr) return '--'\r\n      return new Date(dateStr).toLocaleString('zh-CN')\r\n    },\r\n    getStatusText(status) {\r\n      const map = {\r\n        'PENDING': '待处理',\r\n        'PROCESSING': '处理中',\r\n        'COMPLETED': '已完成',\r\n        'IGNORED': '已忽略'\r\n      }\r\n      return map[status] || status\r\n    },\r\n    viewAlarmDetail(alarm) {\r\n      this.currentAlarm = alarm\r\n      this.showDetailDialog = true\r\n    },\r\n    updateAlarmStatus(alarm) {\r\n      this.currentAlarm = alarm\r\n      this.newAlarmStatus = alarm.status\r\n      this.showStatusDialog = true\r\n    },\r\n    async confirmStatusUpdate() {\r\n      try {\r\n        await alarmApi.patchAlarm(this.currentAlarm.id, { status: this.newAlarmStatus })\r\n        this.$message.success('状态更新成功')\r\n        this.showStatusDialog = false\r\n        this.loadAlarms()\r\n      } catch (error) {\r\n        this.$message.error('更新失败')\r\n      }\r\n    },\r\n    async deleteAlarm(id) {\r\n      try {\r\n        await this.$confirm('确定要删除这条告警记录吗？', '警告', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        })\r\n        await alarmApi.deleteAlarm(id)\r\n        this.$message.success('删除成功')\r\n        this.loadAlarms()\r\n      } catch (error) {\r\n        if (error !== 'cancel') {\r\n          this.$message.error('删除失败')\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.alarm-list-premium {\r\n  background: rgba(26, 31, 58, 0.4);\r\n  border-radius: 16px;\r\n  padding: 24px;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24px;\r\n}\r\n\r\n/* 头部样式 */\r\n.list-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n  gap: 16px;\r\n}\r\n\r\n.title-section {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.icon-box {\r\n  width: 40px;\r\n  height: 40px;\r\n  background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);\r\n  border-radius: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: white;\r\n  box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);\r\n}\r\n\r\n.icon-box svg {\r\n  width: 24px;\r\n  height: 24px;\r\n}\r\n\r\n.list-title {\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n  color: #e2e8f0;\r\n  margin: 0;\r\n}\r\n\r\n/* 筛选工具栏 */\r\n.filter-toolbar {\r\n  display: flex;\r\n  gap: 12px;\r\n  align-items: center;\r\n}\r\n\r\n.search-box {\r\n  position: relative;\r\n  width: 240px;\r\n}\r\n\r\n.search-icon {\r\n  position: absolute;\r\n  left: 12px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  color: #94a3b8;\r\n}\r\n\r\n.search-box input {\r\n  width: 100%;\r\n  height: 36px;\r\n  background: rgba(15, 23, 42, 0.6);\r\n  border: 1px solid rgba(148, 163, 184, 0.2);\r\n  border-radius: 8px;\r\n  padding: 0 12px 0 36px;\r\n  color: #e2e8f0;\r\n  outline: none;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.search-box input:focus {\r\n  border-color: #ef4444;\r\n  box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.1);\r\n}\r\n\r\n.refresh-btn {\r\n  width: 36px;\r\n  height: 36px;\r\n  border-radius: 8px;\r\n  background: rgba(15, 23, 42, 0.6);\r\n  border: 1px solid rgba(148, 163, 184, 0.2);\r\n  color: #94a3b8;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.refresh-btn:hover {\r\n  color: #ef4444;\r\n  border-color: #ef4444;\r\n  background: rgba(239, 68, 68, 0.1);\r\n}\r\n\r\n/* 表格样式 */\r\n.table-container {\r\n  flex: 1;\r\n  overflow: auto;\r\n  background: rgba(15, 23, 42, 0.4);\r\n  border-radius: 12px;\r\n  border: 1px solid rgba(148, 163, 184, 0.1);\r\n}\r\n\r\n.premium-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  color: #e2e8f0;\r\n}\r\n\r\n.premium-table th {\r\n  background: rgba(15, 23, 42, 0.8);\r\n  padding: 16px;\r\n  text-align: left;\r\n  font-weight: 600;\r\n  color: #94a3b8;\r\n  font-size: 13px;\r\n  border-bottom: 1px solid rgba(148, 163, 184, 0.1);\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 10;\r\n}\r\n\r\n.premium-table td {\r\n  padding: 16px;\r\n  border-bottom: 1px solid rgba(148, 163, 184, 0.05);\r\n  font-size: 14px;\r\n}\r\n\r\n.premium-table tr:hover td {\r\n  background: rgba(239, 68, 68, 0.05);\r\n}\r\n\r\n.id-badge {\r\n  font-family: monospace;\r\n  color: #94a3b8;\r\n  background: rgba(148, 163, 184, 0.1);\r\n  padding: 2px 6px;\r\n  border-radius: 4px;\r\n  font-size: 12px;\r\n}\r\n\r\n.wayline-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2px;\r\n}\r\n\r\n.wayline-name {\r\n  font-weight: 500;\r\n}\r\n\r\n.wayline-id {\r\n  font-size: 12px;\r\n  color: #94a3b8;\r\n}\r\n\r\n.category-tag {\r\n  display: inline-block;\r\n  padding: 4px 8px;\r\n  background: rgba(56, 189, 248, 0.1);\r\n  color: #38bdf8;\r\n  border-radius: 4px;\r\n  font-size: 12px;\r\n  border: 1px solid rgba(56, 189, 248, 0.2);\r\n}\r\n\r\n.content-cell {\r\n  max-width: 300px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  color: #cbd5e1;\r\n}\r\n\r\n.coord {\r\n  font-family: monospace;\r\n  color: #94a3b8;\r\n  font-size: 12px;\r\n}\r\n\r\n.time-cell {\r\n  color: #94a3b8;\r\n  font-size: 13px;\r\n}\r\n\r\n.status-badge {\r\n  padding: 4px 10px;\r\n  border-radius: 20px;\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n}\r\n\r\n.status-pending { background: rgba(239, 68, 68, 0.15); color: #ef4444; border: 1px solid rgba(239, 68, 68, 0.2); }\r\n.status-processing { background: rgba(245, 158, 11, 0.15); color: #f59e0b; border: 1px solid rgba(245, 158, 11, 0.2); }\r\n.status-completed { background: rgba(16, 185, 129, 0.15); color: #10b981; border: 1px solid rgba(16, 185, 129, 0.2); }\r\n.status-ignored { background: rgba(148, 163, 184, 0.15); color: #94a3b8; border: 1px solid rgba(148, 163, 184, 0.2); }\r\n\r\n.actions-cell {\r\n  display: flex;\r\n  gap: 8px;\r\n}\r\n\r\n.action-btn {\r\n  padding: 4px 10px;\r\n  border-radius: 4px;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.action-btn.view { background: rgba(56, 189, 248, 0.1); color: #38bdf8; }\r\n.action-btn.view:hover { background: rgba(56, 189, 248, 0.2); }\r\n\r\n.action-btn.edit { background: rgba(168, 85, 247, 0.1); color: #a855f7; }\r\n.action-btn.edit:hover { background: rgba(168, 85, 247, 0.2); }\r\n\r\n.action-btn.delete { background: rgba(239, 68, 68, 0.1); color: #ef4444; }\r\n.action-btn.delete:hover { background: rgba(239, 68, 68, 0.2); }\r\n\r\n/* Loading & Empty */\r\n.loading-row td, .empty-row td {\r\n  text-align: center;\r\n  padding: 40px;\r\n  color: #94a3b8;\r\n}\r\n\r\n.loading-spinner {\r\n  width: 30px;\r\n  height: 30px;\r\n  border: 2px solid rgba(239, 68, 68, 0.1);\r\n  border-top-color: #ef4444;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n  margin: 0 auto;\r\n}\r\n\r\n@keyframes spin { to { transform: rotate(360deg); } }\r\n\r\n/* 弹窗样式 */\r\n.premium-dialog :deep(.el-dialog) {\r\n  background: #1e293b;\r\n  border: 1px solid rgba(148, 163, 184, 0.2);\r\n  border-radius: 12px;\r\n}\r\n\r\n.premium-dialog :deep(.el-dialog__header) {\r\n  border-bottom: 1px solid rgba(148, 163, 184, 0.1);\r\n  margin-right: 0;\r\n}\r\n\r\n.premium-dialog :deep(.el-dialog__title) {\r\n  color: #e2e8f0;\r\n}\r\n\r\n.premium-dialog :deep(.el-dialog__body) {\r\n  padding: 24px;\r\n  color: #e2e8f0;\r\n}\r\n\r\n.detail-grid {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 20px;\r\n}\r\n\r\n.detail-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 6px;\r\n}\r\n\r\n.detail-group.full {\r\n  grid-column: span 2;\r\n}\r\n\r\n.detail-group label {\r\n  color: #94a3b8;\r\n  font-size: 12px;\r\n}\r\n\r\n.detail-group .value {\r\n  background: rgba(15, 23, 42, 0.5);\r\n  padding: 8px 12px;\r\n  border-radius: 6px;\r\n  border: 1px solid rgba(148, 163, 184, 0.1);\r\n}\r\n\r\n.text-box {\r\n  min-height: 60px;\r\n  line-height: 1.5;\r\n}\r\n\r\n.image-preview {\r\n  width: 100%;\r\n  height: 200px;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  border: 1px solid rgba(148, 163, 184, 0.1);\r\n}\r\n\r\n.premium-btn {\r\n  padding: 8px 20px;\r\n  border-radius: 6px;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.premium-btn.primary {\r\n  background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);\r\n  color: white;\r\n}\r\n\r\n.premium-btn.primary:hover {\r\n  box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);\r\n}\r\n\r\n.premium-btn.secondary {\r\n  background: rgba(148, 163, 184, 0.1);\r\n  color: #94a3b8;\r\n}\r\n\r\n.premium-btn.secondary:hover {\r\n  background: rgba(148, 163, 184, 0.2);\r\n  color: #e2e8f0;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}