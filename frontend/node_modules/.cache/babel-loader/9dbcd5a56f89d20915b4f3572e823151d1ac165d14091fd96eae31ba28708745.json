{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nexport default {\n  name: 'AlarmPanel',\n  props: {\n    alarms: {\n      type: Array,\n      default: () => []\n    }\n  },\n  methods: {\n    // 刷新报警列表\n    handleRefresh() {\n      // 这里可以添加刷新逻辑\n      console.log('刷新报警列表');\n      this.$message.info('报警列表已刷新');\n    },\n    // 格式化日期时间\n    formatTime(timestamp) {\n      if (!timestamp) return '';\n      const date = new Date(timestamp);\n      return date.toLocaleString('zh-CN', {\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit'\n      });\n    },\n    // 显示报警详情\n    showAlarmDetail(alarm) {\n      console.log('查看报警详情:', alarm);\n      // 这里可以打开详情对话框\n    },\n    // 标记单个报警为已处理\n    markAsProcessed(alarmId) {\n      this.$emit('alarm-processed', alarmId);\n      this.$message.success('报警已标记为已处理');\n    },\n    // 标记所有报警为已处理\n    markAllAsProcessed() {\n      this.$confirm('确定要标记所有报警为已处理吗？', '确认操作', {\n        confirmButtonText: '确认',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.alarms.forEach(alarm => {\n          this.$emit('alarm-processed', alarm.id);\n        });\n        this.$message.success('所有报警已标记为已处理');\n      }).catch(() => {\n        this.$message.info('已取消操作');\n      });\n    },\n    // 获取报警类型样式\n    getAlarmType(severity) {\n      switch (severity) {\n        case '高':\n          return 'danger';\n        case '中':\n          return 'warning';\n        case '低':\n          return 'info';\n        default:\n          return 'info';\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","props","alarms","type","Array","default","methods","handleRefresh","console","log","$message","info","formatTime","timestamp","date","Date","toLocaleString","month","day","hour","minute","second","showAlarmDetail","alarm","markAsProcessed","alarmId","$emit","success","markAllAsProcessed","$confirm","confirmButtonText","cancelButtonText","then","forEach","id","catch","getAlarmType","severity"],"sources":["D:\\projects\\FlightHub-2-Frontend-Standalone-Component\\frontend\\src\\components\\AlarmPanel.vue"],"sourcesContent":["<template>\n  <div class=\"alarm-panel h-full flex flex-col\">\n    <!-- 面板标题 -->\n    <div class=\"panel-header flex justify-between items-center p-2 border-b\">\n      <h3 class=\"font-medium text-gray-900\">报警信息</h3>\n      <div class=\"flex items-center gap-2\">\n        <el-badge \n          v-if=\"alarms.length > 0\" \n          :value=\"alarms.length\" \n          type=\"danger\" \n          size=\"small\"\n        />\n        <el-button \n          size=\"small\" \n          @click=\"handleRefresh\" \n          plain\n        >\n          刷新\n        </el-button>\n        <el-button \n          v-if=\"alarms.length > 0\" \n          size=\"small\" \n          type=\"primary\" \n          plain\n          @click=\"markAllAsProcessed\"\n        >\n          全部处理\n        </el-button>\n      </div>\n    </div>\n    \n    <!-- 报警列表 -->\n    <div class=\"alarm-list flex-grow overflow-y-auto p-2\">\n      <el-empty v-if=\"alarms.length === 0\" description=\"暂无报警信息\" class=\"py-4\" />\n      \n      <el-timeline :reverse=\"false\">\n        <el-timeline-item\n          v-for=\"alarm in alarms\"\n          :key=\"alarm.id\"\n          :timestamp=\"formatTime(alarm.timestamp)\"\n          :type=\"getAlarmType(alarm.severity)\"\n          placement=\"top\"\n        >\n          <el-card :shadow=\"'hover'\" class=\"alarm-card\">\n            <div class=\"flex justify-between items-start mb-2\">\n              <h4 class=\"font-medium text-gray-900\">{{ alarm.title }}</h4>\n              <el-tag \n                size=\"small\" \n                :type=\"getAlarmType(alarm.severity)\"\n                effect=\"dark\"\n              >\n                {{ alarm.severity }}级\n              </el-tag>\n            </div>\n            <div class=\"text-sm text-gray-500 mb-2\">{{ alarm.location }}</div>\n            <p class=\"text-sm text-gray-600 mb-3\">{{ alarm.description }}</p>\n            \n            <!-- 报警图片 -->\n            <div v-if=\"alarm.imageUrl\" class=\"mt-3 mb-3\">\n              <el-image\n                :src=\"alarm.imageUrl\"\n                :preview-src-list=\"[alarm.imageUrl]\"\n                class=\"w-full h-40 object-cover rounded\"\n                fit=\"cover\"\n              ></el-image>\n            </div>\n            \n            <div class=\"flex justify-end gap-2\">\n              <el-button \n                size=\"small\" \n                type=\"danger\" \n                @click=\"$emit('alarm-processed', alarm.id)\"\n              >\n                标记已处理\n              </el-button>\n              <el-button \n                size=\"small\" \n                type=\"primary\" \n                @click=\"showAlarmDetail(alarm)\"\n              >\n                查看详情\n              </el-button>\n            </div>\n          </el-card>\n        </el-timeline-item>\n      </el-timeline>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'AlarmPanel',\n  props: {\n    alarms: {\n      type: Array,\n      default: () => []\n    }\n  },\n  methods: {\n    // 刷新报警列表\n    handleRefresh() {\n      // 这里可以添加刷新逻辑\n      console.log('刷新报警列表')\n      this.$message.info('报警列表已刷新')\n    },\n    \n    // 格式化日期时间\n    formatTime(timestamp) {\n      if (!timestamp) return ''\n      const date = new Date(timestamp)\n      return date.toLocaleString('zh-CN', {\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit'\n      })\n    },\n    \n    // 显示报警详情\n    showAlarmDetail(alarm) {\n      console.log('查看报警详情:', alarm)\n      // 这里可以打开详情对话框\n    },\n    \n    // 标记单个报警为已处理\n    markAsProcessed(alarmId) {\n      this.$emit('alarm-processed', alarmId)\n      this.$message.success('报警已标记为已处理')\n    },\n    \n    // 标记所有报警为已处理\n    markAllAsProcessed() {\n      this.$confirm('确定要标记所有报警为已处理吗？', '确认操作', {\n        confirmButtonText: '确认',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.alarms.forEach(alarm => {\n          this.$emit('alarm-processed', alarm.id)\n        })\n        this.$message.success('所有报警已标记为已处理')\n      }).catch(() => {\n        this.$message.info('已取消操作')\n      })\n    },\n    \n    // 获取报警类型样式\n    getAlarmType(severity) {\n      switch(severity) {\n        case '高':\n          return 'danger'\n        case '中':\n          return 'warning'\n        case '低':\n          return 'info'\n        default:\n          return 'info'\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.alarm-panel {\n  border: 1px solid #e2e8f0;\n  border-radius: 6px;\n  background-color: #ffffff;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n/* 滚动条样式 */\n.alarm-list {\n  flex-grow: 1;\n  overflow-y: auto;\n}\n\n.alarm-list ::v-deep(.el-scrollbar__wrap) {\n  overflow-x: hidden;\n}\n\n/* 卡片样式 */\n.alarm-card {\n  margin-bottom: 10px;\n  animation: slideIn 0.3s ease-out;\n  transition: all 0.2s ease;\n}\n\n.alarm-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n\n/* 时间线样式调整 */\n::v-deep(.el-timeline) {\n  padding: 0;\n}\n\n::v-deep(.el-timeline-item) {\n  padding-bottom: 20px;\n}\n\n::v-deep(.el-timeline-item__timestamp) {\n  top: 2px;\n  font-size: 12px;\n  color: #909399;\n}\n\n/* 标题栏样式 */\n.panel-header {\n  border-bottom: 1px solid #ebeef5;\n  padding: 10px 15px;\n  background-color: #fafafa;\n  border-top-left-radius: 6px;\n  border-top-right-radius: 6px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n/* 卡片内边距调整 */\n::v-deep(.el-card__body) {\n  padding: 15px;\n}\n\n/* 按钮样式优化 */\n.el-button--small {\n  font-size: 12px;\n  padding: 6px 12px;\n}\n\n/* 高优先级报警闪烁效果 */\n::v-deep(.el-timeline-item__node--danger) {\n  animation: pulse 2s infinite;\n}\n\n@keyframes pulse {\n  0% {\n    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4);\n  }\n  70% {\n    box-shadow: 0 0 0 10px rgba(239, 68, 68, 0);\n  }\n  100% {\n    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0);\n  }\n}\n\n/* 动画效果 */\n@keyframes slideIn {\n  from {\n    opacity: 0;\n    transform: translateX(-20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n\n/* 响应式调整 */\n@media (max-width: 768px) {\n  .alarm-panel {\n    border-radius: 0;\n    border-left: none;\n    border-right: none;\n  }\n  \n  ::v-deep(.el-timeline-item__timestamp) {\n    position: static;\n    margin-bottom: 5px;\n  }\n  \n  ::v-deep(.el-timeline-item__wrapper) {\n    flex-direction: column;\n  }\n}\n</style>"],"mappings":";;AA2FA,eAAe;EACbA,IAAI,EAAE,YAAY;EAClBC,KAAK,EAAE;IACLC,MAAM,EAAE;MACNC,IAAI,EAAEC,KAAK;MACXC,OAAO,EAAEA,CAAA,KAAM;IACjB;EACF,CAAC;EACDC,OAAO,EAAE;IACP;IACAC,aAAaA,CAAA,EAAG;MACd;MACAC,OAAO,CAACC,GAAG,CAAC,QAAQ;MACpB,IAAI,CAACC,QAAQ,CAACC,IAAI,CAAC,SAAS;IAC9B,CAAC;IAED;IACAC,UAAUA,CAACC,SAAS,EAAE;MACpB,IAAI,CAACA,SAAS,EAAE,OAAO,EAAC;MACxB,MAAMC,IAAG,GAAI,IAAIC,IAAI,CAACF,SAAS;MAC/B,OAAOC,IAAI,CAACE,cAAc,CAAC,OAAO,EAAE;QAClCC,KAAK,EAAE,SAAS;QAChBC,GAAG,EAAE,SAAS;QACdC,IAAI,EAAE,SAAS;QACfC,MAAM,EAAE,SAAS;QACjBC,MAAM,EAAE;MACV,CAAC;IACH,CAAC;IAED;IACAC,eAAeA,CAACC,KAAK,EAAE;MACrBf,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEc,KAAK;MAC5B;IACF,CAAC;IAED;IACAC,eAAeA,CAACC,OAAO,EAAE;MACvB,IAAI,CAACC,KAAK,CAAC,iBAAiB,EAAED,OAAO;MACrC,IAAI,CAACf,QAAQ,CAACiB,OAAO,CAAC,WAAW;IACnC,CAAC;IAED;IACAC,kBAAkBA,CAAA,EAAG;MACnB,IAAI,CAACC,QAAQ,CAAC,iBAAiB,EAAE,MAAM,EAAE;QACvCC,iBAAiB,EAAE,IAAI;QACvBC,gBAAgB,EAAE,IAAI;QACtB5B,IAAI,EAAE;MACR,CAAC,CAAC,CAAC6B,IAAI,CAAC,MAAM;QACZ,IAAI,CAAC9B,MAAM,CAAC+B,OAAO,CAACV,KAAI,IAAK;UAC3B,IAAI,CAACG,KAAK,CAAC,iBAAiB,EAAEH,KAAK,CAACW,EAAE;QACxC,CAAC;QACD,IAAI,CAACxB,QAAQ,CAACiB,OAAO,CAAC,aAAa;MACrC,CAAC,CAAC,CAACQ,KAAK,CAAC,MAAM;QACb,IAAI,CAACzB,QAAQ,CAACC,IAAI,CAAC,OAAO;MAC5B,CAAC;IACH,CAAC;IAED;IACAyB,YAAYA,CAACC,QAAQ,EAAE;MACrB,QAAOA,QAAQ;QACb,KAAK,GAAG;UACN,OAAO,QAAO;QAChB,KAAK,GAAG;UACN,OAAO,SAAQ;QACjB,KAAK,GAAG;UACN,OAAO,MAAK;QACd;UACE,OAAO,MAAK;MAChB;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}