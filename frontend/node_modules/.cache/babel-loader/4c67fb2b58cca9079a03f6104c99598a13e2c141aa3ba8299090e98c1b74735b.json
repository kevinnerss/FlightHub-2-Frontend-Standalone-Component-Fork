{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"digital-twin h-screen flex flex-col\"\n};\nconst _hoisted_2 = {\n  class: \"flex items-center gap-2\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"text-xs bg-gray-200 p-1 rounded\"\n};\nconst _hoisted_4 = {\n  class: \"flex items-center justify-between\"\n};\nconst _hoisted_5 = {\n  class: \"flex items-center gap-2\"\n};\nconst _hoisted_6 = {\n  id: \"cesiumContainer\",\n  ref: \"cesiumContainer\",\n  style: {\n    \"flex\": \"1\",\n    \"position\": \"relative\",\n    \"width\": \"100%\",\n    \"height\": \"100%\"\n  }\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 z-10\"\n};\nconst _hoisted_8 = {\n  class: \"space-y-4 flex-grow overflow-y-auto\"\n};\nconst _hoisted_9 = {\n  class: \"grid grid-cols-2 gap-2\"\n};\nconst _hoisted_10 = {\n  class: \"space-y-2 text-sm\"\n};\nconst _hoisted_11 = {\n  class: \"flex justify-between\"\n};\nconst _hoisted_12 = {\n  class: \"flex justify-between\"\n};\nconst _hoisted_13 = {\n  class: \"text-xs\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_header = _resolveComponent(\"el-header\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_alert = _resolveComponent(\"el-alert\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_el_main = _resolveComponent(\"el-main\");\n  const _component_el_slider = _resolveComponent(\"el-slider\");\n  const _component_el_aside = _resolveComponent(\"el-aside\");\n  const _component_el_container = _resolveComponent(\"el-container\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_container, {\n    class: \"flex-1 overflow-hidden\"\n  }, {\n    default: _withCtx(() => [_createCommentVNode(\" 顶部导航 \"), _createVNode(_component_el_header, {\n      height: \"60px\",\n      class: \"bg-white border-b flex items-center justify-between px-4 flex-shrink-0\"\n    }, {\n      default: _withCtx(() => [_cache[4] || (_cache[4] = _createElementVNode(\"div\", {\n        class: \"flex items-center\"\n      }, [_createElementVNode(\"h1\", {\n        class: \"text-xl font-bold\"\n      }, \"数字孪生系统\")], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_el_button, {\n        onClick: $options.resetView\n      }, {\n        default: _withCtx(() => [...(_cache[3] || (_cache[3] = [_createTextVNode(\"重置视角\", -1 /* CACHED */)]))]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_button, {\n        onClick: $options.toggleWireframe\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($data.wireframe ? '实体模式' : '线框模式'), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"]), _createCommentVNode(\" 调试信息 \"), $data.debugInfo ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _toDisplayString($data.debugInfo), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_container, {\n      class: \"p-4 gap-4 flex-1 overflow-hidden\"\n    }, {\n      default: _withCtx(() => [_createCommentVNode(\" 主内容区 - 3D模型视图 \"), _createVNode(_component_el_main, {\n        class: \"p-0 flex-1 overflow-hidden\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_card, {\n          shadow: \"hover\",\n          class: \"h-full border-0 flex flex-col\",\n          \"body-style\": {\n            flex: '1',\n            display: 'flex',\n            flexDirection: 'column',\n            padding: '0'\n          }\n        }, {\n          header: _withCtx(() => [_createElementVNode(\"div\", _hoisted_4, [_cache[7] || (_cache[7] = _createElementVNode(\"span\", {\n            class: \"text-lg font-medium\"\n          }, \"3D模型视图\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_el_input, {\n            modelValue: $data.modelPath,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.modelPath = $event),\n            placeholder: \"输入模型路径，如: /models/Model_0/tileset.json\",\n            size: \"small\",\n            style: {\n              \"width\": \"350px\"\n            }\n          }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_el_button, {\n            onClick: $options.loadModel,\n            size: \"small\"\n          }, {\n            default: _withCtx(() => [...(_cache[5] || (_cache[5] = [_createTextVNode(\"加载模型\", -1 /* CACHED */)]))]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_button, {\n            onClick: $options.checkContainerSizes,\n            size: \"small\"\n          }, {\n            default: _withCtx(() => [...(_cache[6] || (_cache[6] = [_createTextVNode(\"检查尺寸\", -1 /* CACHED */)]))]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"onClick\"])])])]),\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_6, [$data.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [_createVNode(_component_el_alert, {\n            title: $data.error,\n            type: \"error\",\n            \"show-icon\": \"\",\n            class: \"w-96\"\n          }, null, 8 /* PROPS */, [\"title\"])])) : _createCommentVNode(\"v-if\", true)], 512 /* NEED_PATCH */)]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }), _createCommentVNode(\" 右侧面板 \"), _createVNode(_component_el_aside, {\n        width: \"240px\",\n        class: \"space-y-4 overflow-hidden\"\n      }, {\n        default: _withCtx(() => [_createCommentVNode(\" 模型控制面板 \"), _createVNode(_component_el_card, {\n          shadow: \"hover\",\n          class: \"border-0 h-full flex flex-col\"\n        }, {\n          header: _withCtx(() => [...(_cache[8] || (_cache[8] = [_createElementVNode(\"div\", {\n            class: \"flex items-center justify-between\"\n          }, [_createElementVNode(\"span\", {\n            class: \"text-base font-medium\"\n          }, \"模型控制\")], -1 /* CACHED */)]))]),\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", null, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium mb-1\"\n          }, \"模型缩放\", -1 /* CACHED */)), _createVNode(_component_el_slider, {\n            modelValue: $data.scale,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.scale = $event),\n            min: 0.1,\n            max: 5,\n            step: 0.1,\n            onChange: $options.updateScale,\n            \"show-input\": \"\"\n          }, null, 8 /* PROPS */, [\"modelValue\", \"onChange\"])]), _createElementVNode(\"div\", null, [_cache[10] || (_cache[10] = _createElementVNode(\"label\", {\n            class: \"block text-sm font-medium mb-1\"\n          }, \"旋转角度\", -1 /* CACHED */)), _createVNode(_component_el_slider, {\n            modelValue: $data.rotation,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.rotation = $event),\n            min: 0,\n            max: 360,\n            onChange: $options.updateRotation,\n            \"show-input\": \"\"\n          }, null, 8 /* PROPS */, [\"modelValue\", \"onChange\"])]), _createElementVNode(\"div\", _hoisted_9, [_createVNode(_component_el_button, {\n            onClick: $options.removeModel\n          }, {\n            default: _withCtx(() => [...(_cache[11] || (_cache[11] = [_createTextVNode(\"移除模型\", -1 /* CACHED */)]))]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_button, {\n            onClick: $options.flyToModel\n          }, {\n            default: _withCtx(() => [...(_cache[12] || (_cache[12] = [_createTextVNode(\"飞向模型\", -1 /* CACHED */)]))]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"onClick\"])])])]),\n          _: 1 /* STABLE */\n        }), _createCommentVNode(\" 模型信息面板 \"), _createVNode(_component_el_card, {\n          shadow: \"hover\",\n          class: \"border-0\"\n        }, {\n          header: _withCtx(() => [...(_cache[13] || (_cache[13] = [_createElementVNode(\"div\", {\n            class: \"flex items-center justify-between\"\n          }, [_createElementVNode(\"span\", {\n            class: \"text-base font-medium\"\n          }, \"模型信息\")], -1 /* CACHED */)]))]),\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_10, [_cache[16] || (_cache[16] = _createElementVNode(\"div\", {\n            class: \"flex justify-between\"\n          }, [_createElementVNode(\"span\", {\n            class: \"text-gray-500\"\n          }, \"模型格式:\"), _createElementVNode(\"span\", null, \"3D Tiles\")], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_11, [_cache[14] || (_cache[14] = _createElementVNode(\"span\", {\n            class: \"text-gray-500\"\n          }, \"模型状态:\", -1 /* CACHED */)), _createElementVNode(\"span\", null, _toDisplayString($data.modelState), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_12, [_cache[15] || (_cache[15] = _createElementVNode(\"span\", {\n            class: \"text-gray-500\"\n          }, \"加载路径:\", -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_13, _toDisplayString($data.modelPath || '未指定'), 1 /* TEXT */)])])]),\n          _: 1 /* STABLE */\n        }), _createCommentVNode(\" 使用说明 \"), _createVNode(_component_el_card, {\n          shadow: \"hover\",\n          class: \"border-0\"\n        }, {\n          header: _withCtx(() => [...(_cache[17] || (_cache[17] = [_createElementVNode(\"div\", {\n            class: \"flex items-center justify-between\"\n          }, [_createElementVNode(\"span\", {\n            class: \"text-base font-medium\"\n          }, \"使用说明\")], -1 /* CACHED */)]))]),\n          default: _withCtx(() => [_cache[18] || (_cache[18] = _createElementVNode(\"div\", {\n            class: \"text-xs text-gray-500 space-y-2\"\n          }, [_createElementVNode(\"p\", null, [_createTextVNode(\"1. 将3D Tiles数据集放入 \"), _createElementVNode(\"code\", null, \"public/models/\"), _createTextVNode(\" 目录\")]), _createElementVNode(\"p\", null, \"2. 在上方输入框中输入模型路径\"), _createElementVNode(\"p\", null, \"3. 点击\\\"加载模型\\\"按钮加载3D模型\"), _createElementVNode(\"p\", null, [_createTextVNode(\"4. 当前默认模型路径: \"), _createElementVNode(\"code\", null, \"/models/Model_0/tileset.json\")])], -1 /* CACHED */))]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["class","id","ref","style","_createElementBlock","_hoisted_1","_createVNode","_component_el_container","_createCommentVNode","_component_el_header","height","_createElementVNode","_hoisted_2","_component_el_button","onClick","$options","resetView","_cache","toggleWireframe","$data","wireframe","debugInfo","_hoisted_3","_toDisplayString","_component_el_main","_component_el_card","shadow","header","_withCtx","_hoisted_4","_hoisted_5","_component_el_input","modelPath","$event","placeholder","size","loadModel","checkContainerSizes","_hoisted_6","error","_hoisted_7","_component_el_alert","title","type","_component_el_aside","width","_hoisted_8","_component_el_slider","scale","min","max","step","onChange","updateScale","rotation","updateRotation","_hoisted_9","removeModel","flyToModel","_hoisted_10","_hoisted_11","modelState","_hoisted_12","_hoisted_13"],"sources":["D:\\projects\\FlightHub-2-Frontend-Standalone-Component\\frontend\\src\\views\\DigitalTwin.vue"],"sourcesContent":["<template>\n  <div class=\"digital-twin h-screen flex flex-col\">\n    <el-container class=\"flex-1 overflow-hidden\">\n      <!-- 顶部导航 -->\n      <el-header height=\"60px\" class=\"bg-white border-b flex items-center justify-between px-4 flex-shrink-0\">\n        <div class=\"flex items-center\">\n          <h1 class=\"text-xl font-bold\">数字孪生系统</h1>\n        </div>\n        <div class=\"flex items-center gap-2\">\n          <el-button @click=\"resetView\">重置视角</el-button>\n          <el-button @click=\"toggleWireframe\">{{ wireframe ? '实体模式' : '线框模式' }}</el-button>\n          <!-- 调试信息 -->\n          <div v-if=\"debugInfo\" class=\"text-xs bg-gray-200 p-1 rounded\">\n            {{ debugInfo }}\n          </div>\n        </div>\n      </el-header>\n      \n      <el-container class=\"p-4 gap-4 flex-1 overflow-hidden\">\n        <!-- 主内容区 - 3D模型视图 -->\n        <el-main class=\"p-0 flex-1 overflow-hidden\">\n          <el-card \n            shadow=\"hover\" \n            class=\"h-full border-0 flex flex-col\"\n            :body-style=\"{ \n              flex: '1',\n              display: 'flex',\n              flexDirection: 'column',\n              padding: '0'\n            }\"\n          >\n            <template #header>\n              <div class=\"flex items-center justify-between\">\n                <span class=\"text-lg font-medium\">3D模型视图</span>\n                <div class=\"flex items-center gap-2\">\n                  <el-input \n                    v-model=\"modelPath\" \n                    placeholder=\"输入模型路径，如: /models/Model_0/tileset.json\" \n                    size=\"small\" \n                    style=\"width: 350px\"\n                  />\n                  <el-button @click=\"loadModel\" size=\"small\">加载模型</el-button>\n                  <el-button @click=\"checkContainerSizes\" size=\"small\">检查尺寸</el-button>\n                </div>\n              </div>\n            </template>\n            \n            <div id=\"cesiumContainer\" ref=\"cesiumContainer\" style=\"flex: 1; position: relative; width: 100%; height: 100%;\">\n\n              <div v-if=\"error\" class=\"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 z-10\">\n                <el-alert\n                  :title=\"error\"\n                  type=\"error\"\n                  show-icon\n                  class=\"w-96\"\n                />\n              </div>\n            </div>\n          </el-card>\n        </el-main>\n        \n        <!-- 右侧面板 -->\n        <el-aside width=\"240px\" class=\"space-y-4 overflow-hidden\">\n          <!-- 模型控制面板 -->\n          <el-card shadow=\"hover\" class=\"border-0 h-full flex flex-col\">\n            <template #header>\n              <div class=\"flex items-center justify-between\">\n                <span class=\"text-base font-medium\">模型控制</span>\n              </div>\n            </template>\n            <div class=\"space-y-4 flex-grow overflow-y-auto\">\n              <div>\n                <label class=\"block text-sm font-medium mb-1\">模型缩放</label>\n                <el-slider \n                  v-model=\"scale\" \n                  :min=\"0.1\" \n                  :max=\"5\" \n                  :step=\"0.1\" \n                  @change=\"updateScale\"\n                  show-input\n                />\n              </div>\n              \n              <div>\n                <label class=\"block text-sm font-medium mb-1\">旋转角度</label>\n                <el-slider \n                  v-model=\"rotation\" \n                  :min=\"0\" \n                  :max=\"360\" \n                  @change=\"updateRotation\"\n                  show-input\n                />\n              </div>\n              \n              <div class=\"grid grid-cols-2 gap-2\">\n                <el-button @click=\"removeModel\">移除模型</el-button>\n                <el-button @click=\"flyToModel\">飞向模型</el-button>\n              </div>\n            </div>\n          </el-card>\n          \n          <!-- 模型信息面板 -->\n          <el-card shadow=\"hover\" class=\"border-0\">\n            <template #header>\n              <div class=\"flex items-center justify-between\">\n                <span class=\"text-base font-medium\">模型信息</span>\n              </div>\n            </template>\n            <div class=\"space-y-2 text-sm\">\n              <div class=\"flex justify-between\">\n                <span class=\"text-gray-500\">模型格式:</span>\n                <span>3D Tiles</span>\n              </div>\n              <div class=\"flex justify-between\">\n                <span class=\"text-gray-500\">模型状态:</span>\n                <span>{{ modelState }}</span>\n              </div>\n              <div class=\"flex justify-between\">\n                <span class=\"text-gray-500\">加载路径:</span>\n                <span class=\"text-xs\">{{ modelPath || '未指定' }}</span>\n              </div>\n            </div>\n          </el-card>\n          \n          <!-- 使用说明 -->\n          <el-card shadow=\"hover\" class=\"border-0\">\n            <template #header>\n              <div class=\"flex items-center justify-between\">\n                <span class=\"text-base font-medium\">使用说明</span>\n              </div>\n            </template>\n            <div class=\"text-xs text-gray-500 space-y-2\">\n              <p>1. 将3D Tiles数据集放入 <code>public/models/</code> 目录</p>\n              <p>2. 在上方输入框中输入模型路径</p>\n              <p>3. 点击\"加载模型\"按钮加载3D模型</p>\n              <p>4. 当前默认模型路径: <code>/models/Model_0/tileset.json</code></p>\n            </div>\n          </el-card>\n        </el-aside>\n      </el-container>\n    </el-container>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'DigitalTwin',\n  data() {\n    return {\n      viewer: null,\n      tileset: null,\n      loading: false,\n      error: '',\n      wireframe: false,\n      scale: 1.0,\n      rotation: 0,\n      modelState: '未加载',\n      modelPath: '/models/Model_0/tileset.json', // 默认模型路径\n      resizeObserver: null,\n      debugInfo: ''\n    }\n  },\n  async mounted() {\n    // 等待DOM更新完成后再初始化Cesium\n    this.$nextTick(async () => {\n      // 等待Cesium资源加载完成后再初始化\n      await this.initCesium()\n      \n      // 初始化 ResizeObserver\n      this.initResizeObserver()\n      \n      // 自动加载默认模型\n      await this.loadModel()\n    })\n  },\n  beforeUnmount() {\n    if (this.viewer) {\n      this.viewer.destroy()\n    }\n    // 清理 ResizeObserver\n    if (this.resizeObserver) {\n      this.resizeObserver.disconnect()\n    }\n  },\n  methods: {\n    async initCesium() {\n      try {\n        // 动态导入Cesium\n        const Cesium = await import('cesium')\n        \n        // 设置Cesium的access token为空（因为我们使用的是本地资源）\n        Cesium.Ion.defaultAccessToken = ''\n        \n        // 确保容器元素存在且已正确渲染\n        const container = document.getElementById('cesiumContainer')\n        if (!container) {\n          throw new Error('找不到 cesiumContainer 元素')\n        }\n        \n        // 明确设置容器尺寸\n        container.style.width = '100%'\n        container.style.height = '100%'\n        \n        // 初始化Cesium Viewer\n        this.viewer = new Cesium.Viewer('cesiumContainer', {\n          animation: false,\n          baseLayerPicker: false,\n          fullscreenButton: false,\n          vrButton: false,\n          geocoder: false,\n          homeButton: false,\n          infoBox: false,\n          sceneModePicker: false,\n          selectionIndicator: false,\n          timeline: false,\n          navigationHelpButton: false,\n          navigationInstructionsInitiallyVisible: false,\n          scene3DOnly: true,\n          shadows: true,\n          shouldAnimate: true,\n          creditContainer: document.createElement('div')\n        })\n\n        // 设置初始视角\n        this.viewer.camera.setView({\n          destination: Cesium.Cartesian3.fromDegrees(116.3913, 39.9075, 1000),\n          orientation: {\n            heading: Cesium.Math.toRadians(0),\n            pitch: Cesium.Math.toRadians(-30),\n            roll: 0.0\n          }\n        })\n      } catch (err) {\n        this.error = '初始化Cesium失败: ' + err.message\n        console.error('Cesium initialization error:', err)\n      }\n    },\n    \n    initResizeObserver() {\n      const container = document.getElementById('cesiumContainer')\n      if (!container) return\n      \n      // 创建 ResizeObserver 实例\n      this.resizeObserver = new ResizeObserver(entries => {\n        for (let entry of entries) {\n          if (entry.target === container && this.viewer) {\n            const { width, height } = entry.contentRect\n            console.log('Cesium容器大小变化:', width, 'x', height)\n            \n            // 调整 Cesium Viewer 大小\n            this.viewer.resize()\n          }\n        }\n      })\n      \n      // 开始观察容器元素\n      this.resizeObserver.observe(container)\n    },\n    \n    checkContainerSizes() {\n      const container = document.getElementById('cesiumContainer');\n      const cardBody = container ? container.parentElement : null;\n      const card = cardBody ? cardBody.parentElement : null;\n      const main = card ? card.parentElement : null;\n      \n      if (container) {\n        this.debugInfo = `Container: ${container.offsetWidth}x${container.offsetHeight}`;\n        console.log('容器尺寸:', {\n          container: { width: container.offsetWidth, height: container.offsetHeight },\n          cardBody: cardBody ? { width: cardBody.offsetWidth, height: cardBody.offsetHeight } : null,\n          card: card ? { width: card.offsetWidth, height: card.offsetHeight } : null,\n          main: main ? { width: main.offsetWidth, height: main.offsetHeight } : null\n        });\n      }\n    },\n    \n    async loadModel() {\n      if (!this.viewer || !this.modelPath) return\n      \n      this.loading = true\n      this.error = ''\n      \n      try {\n        // 动态导入Cesium\n        const Cesium = await import('cesium')\n        \n        // 如果已有模型，先移除\n        if (this.tileset) {\n          this.viewer.scene.primitives.remove(this.tileset)\n          this.tileset = null\n        }\n        \n        // 加载3D Tiles数据集\n        this.tileset = await Cesium.Cesium3DTileset.fromUrl(this.modelPath)\n        \n        this.viewer.scene.primitives.add(this.tileset)\n        \n        // 缩放到模型\n        if (this.tileset.readyPromise) {\n          this.tileset.readyPromise.then(() => {\n            this.modelState = '已加载'\n            this.flyToModel()\n          }).catch(error => {\n            this.error = '模型加载失败: ' + error.message\n            this.modelState = '加载失败'\n            console.error('Tileset loading error:', error)\n          }).finally(() => {\n            this.loading = false\n          })\n        } else {\n          // 如果没有readyPromise，直接设置状态\n          this.modelState = '已加载'\n          this.flyToModel()\n          this.loading = false\n        }\n      } catch (err) {\n        this.error = '模型加载失败: ' + err.message\n        this.modelState = '加载失败'\n        this.loading = false\n        console.error('Model loading error:', err)\n      }\n    },\n    removeModel() {\n      if (this.tileset) {\n        this.viewer.scene.primitives.remove(this.tileset)\n        this.tileset = null\n        this.modelState = '已移除'\n      }\n    },\n    flyToModel() {\n      if (this.viewer && this.tileset) {\n        this.viewer.flyTo(this.tileset)\n      }\n    },\n    async resetView() {\n      if (this.viewer) {\n        // 重置到初始视角\n        const Cesium = await import('cesium')\n        this.viewer.camera.setView({\n          destination: Cesium.Cartesian3.fromDegrees(116.3913, 39.9075, 1000),\n          orientation: {\n            heading: Cesium.Math.toRadians(0),\n            pitch: Cesium.Math.toRadians(-30),\n            roll: 0.0\n          }\n        })\n      }\n    },\n    toggleWireframe() {\n      if (!this.tileset) return\n      \n      this.wireframe = !this.wireframe\n      this.tileset.debugWireframe = this.wireframe\n    },\n    updateScale(value) {\n      if (!this.tileset) return\n      \n      // 应用缩放\n      console.log('更新模型缩放:', value)\n    },\n    updateRotation(value) {\n      if (!this.tileset) return\n      \n      // 应用旋转\n      console.log('更新模型旋转:', value)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.digital-twin {\n  width: 100%;\n  height: 100%;\n}\n\n#cesiumContainer {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n}\n\ncode {\n  background-color: #f1f1f1;\n  padding: 2px 4px;\n  border-radius: 3px;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}