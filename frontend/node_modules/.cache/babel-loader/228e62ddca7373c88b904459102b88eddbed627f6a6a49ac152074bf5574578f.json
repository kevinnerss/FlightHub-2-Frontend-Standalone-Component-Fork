{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"space-y-4\"\n};\nconst _hoisted_2 = {\n  class: \"flex justify-between items-center mb-2\"\n};\nconst _hoisted_3 = {\n  class: \"flex justify-between items-center mb-2\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_col = _resolveComponent(\"el-col\");\n  const _component_el_row = _resolveComponent(\"el-row\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_slider = _resolveComponent(\"el-slider\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  return _openBlock(), _createBlock(_component_el_card, {\n    shadow: \"hover\"\n  }, {\n    header: _withCtx(() => [...(_cache[7] || (_cache[7] = [_createElementVNode(\"div\", {\n      class: \"flex items-center\"\n    }, [_createElementVNode(\"span\", null, \"无人机控制\")], -1 /* CACHED */)]))]),\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createCommentVNode(\" 主控制按钮 \"), _createVNode(_component_el_row, {\n      gutter: 12\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_col, {\n        span: 12\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_button, {\n          type: \"primary\",\n          size: \"large\",\n          class: \"w-full h-24 flex flex-col justify-center\",\n          onClick: _cache[0] || (_cache[0] = $event => $options.handleControl('start')),\n          disabled: $props.currentStatus === '飞行中'\n        }, {\n          default: _withCtx(() => [...(_cache[8] || (_cache[8] = [_createTextVNode(\" 启动 \", -1 /* CACHED */)]))]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"disabled\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_col, {\n        span: 12\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_button, {\n          type: \"warning\",\n          size: \"large\",\n          class: \"w-full h-24 flex flex-col justify-center\",\n          onClick: _cache[1] || (_cache[1] = $event => $options.handleControl('pause')),\n          disabled: $props.currentStatus !== '飞行中'\n        }, {\n          default: _withCtx(() => [...(_cache[9] || (_cache[9] = [_createTextVNode(\" 暂停 \", -1 /* CACHED */)]))]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"disabled\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_col, {\n        span: 12\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_button, {\n          type: \"danger\",\n          size: \"large\",\n          class: \"w-full h-24 flex flex-col justify-center\",\n          onClick: _cache[2] || (_cache[2] = $event => $options.handleControl('stop')),\n          disabled: $props.currentStatus === '待命' || $props.currentStatus === '已停止'\n        }, {\n          default: _withCtx(() => [...(_cache[10] || (_cache[10] = [_createTextVNode(\" 停止 \", -1 /* CACHED */)]))]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"disabled\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_col, {\n        span: 12\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_button, {\n          type: \"info\",\n          size: \"large\",\n          class: \"w-full h-24 flex flex-col justify-center\",\n          onClick: _cache[3] || (_cache[3] = $event => $options.handleControl('return')),\n          disabled: $props.currentStatus === '待命' || $props.currentStatus === '已停止' || $props.currentStatus === '返回中'\n        }, {\n          default: _withCtx(() => [...(_cache[11] || (_cache[11] = [_createTextVNode(\" 返航 \", -1 /* CACHED */)]))]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"disabled\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createCommentVNode(\" 高度控制 \"), _createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_2, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", {\n      class: \"text-sm text-gray-700 dark:text-gray-300\"\n    }, \"目标高度\", -1 /* CACHED */)), _createVNode(_component_el_tag, {\n      type: \"primary\",\n      size: \"small\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($props.targetAltitude) + \" m\", 1 /* TEXT */)]),\n      _: 1 /* STABLE */\n    })]), _createVNode(_component_el_slider, {\n      modelValue: $data.localTargetAltitude,\n      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.localTargetAltitude = $event),\n      modelModifiers: {\n        number: true\n      },\n      min: 0,\n      max: 100,\n      step: 1,\n      onChange: $options.handleAltitudeChange,\n      disabled: $props.currentStatus !== '飞行中',\n      \"show-stops\": \"\"\n    }, null, 8 /* PROPS */, [\"modelValue\", \"onChange\", \"disabled\"])]), _createCommentVNode(\" 速度控制 \"), _createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_3, [_cache[13] || (_cache[13] = _createElementVNode(\"label\", {\n      class: \"text-sm text-gray-700 dark:text-gray-300\"\n    }, \"目标速度\", -1 /* CACHED */)), _createVNode(_component_el_tag, {\n      type: \"primary\",\n      size: \"small\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($props.targetSpeed) + \" m/s\", 1 /* TEXT */)]),\n      _: 1 /* STABLE */\n    })]), _createVNode(_component_el_slider, {\n      modelValue: $data.localTargetSpeed,\n      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.localTargetSpeed = $event),\n      modelModifiers: {\n        number: true\n      },\n      min: 0,\n      max: 15,\n      step: 0.5,\n      onChange: $options.handleSpeedChange,\n      disabled: $props.currentStatus !== '飞行中',\n      \"show-stops\": \"\"\n    }, null, 8 /* PROPS */, [\"modelValue\", \"onChange\", \"disabled\"])]), _createCommentVNode(\" 紧急停止按钮 \"), _createVNode(_component_el_button, {\n      type: \"danger\",\n      size: \"large\",\n      class: \"w-full py-6\",\n      onClick: _cache[6] || (_cache[6] = $event => _ctx.$emit('emergency-stop')),\n      loading: $data.isProcessingEmergencyStop\n    }, {\n      default: _withCtx(() => [...(_cache[14] || (_cache[14] = [_createElementVNode(\"span\", {\n        class: \"font-medium\"\n      }, \"紧急停止\", -1 /* CACHED */)]))]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"loading\"])])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createBlock","_component_el_card","shadow","header","_withCtx","_cache","_createElementVNode","_hoisted_1","_createCommentVNode","_createVNode","_component_el_row","gutter","_component_el_col","span","_component_el_button","type","size","onClick","$event","$options","handleControl","disabled","$props","currentStatus","_hoisted_2","_component_el_tag","targetAltitude","_component_el_slider","$data","localTargetAltitude","number","min","max","step","onChange","handleAltitudeChange","_hoisted_3","targetSpeed","localTargetSpeed","handleSpeedChange","_ctx","$emit","loading","isProcessingEmergencyStop"],"sources":["D:\\projects\\FlightHub-2-Frontend-Standalone-Component\\frontend\\src\\components\\ControlPanel.vue"],"sourcesContent":["<template>\n  <el-card shadow=\"hover\">\n    <!-- 标题栏 -->\n    <template #header>\n      <div class=\"flex items-center\">\n        <span>无人机控制</span>\n      </div>\n    </template>\n    \n    <!-- 控制面板 -->\n    <div class=\"space-y-4\">\n      <!-- 主控制按钮 -->\n      <el-row :gutter=\"12\">\n        <el-col :span=\"12\">\n          <el-button \n            type=\"primary\" \n            size=\"large\"\n            class=\"w-full h-24 flex flex-col justify-center\"\n            @click=\"handleControl('start')\"\n            :disabled=\"currentStatus === '飞行中'\"\n          >\n            启动\n          </el-button>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-button \n            type=\"warning\" \n            size=\"large\"\n            class=\"w-full h-24 flex flex-col justify-center\"\n            @click=\"handleControl('pause')\"\n            :disabled=\"currentStatus !== '飞行中'\"\n          >\n            暂停\n          </el-button>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-button \n            type=\"danger\" \n            size=\"large\"\n            class=\"w-full h-24 flex flex-col justify-center\"\n            @click=\"handleControl('stop')\"\n            :disabled=\"currentStatus === '待命' || currentStatus === '已停止'\"\n          >\n            停止\n          </el-button>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-button \n            type=\"info\" \n            size=\"large\"\n            class=\"w-full h-24 flex flex-col justify-center\"\n            @click=\"handleControl('return')\"\n            :disabled=\"currentStatus === '待命' || currentStatus === '已停止' || currentStatus === '返回中'\"\n          >\n            返航\n          </el-button>\n        </el-col>\n      </el-row>\n      \n      <!-- 高度控制 -->\n      <div>\n        <div class=\"flex justify-between items-center mb-2\">\n          <label class=\"text-sm text-gray-700 dark:text-gray-300\">目标高度</label>\n          <el-tag type=\"primary\" size=\"small\">{{ targetAltitude }} m</el-tag>\n        </div>\n        <el-slider\n          v-model.number=\"localTargetAltitude\"\n          :min=\"0\"\n          :max=\"100\"\n          :step=\"1\"\n          @change=\"handleAltitudeChange\"\n          :disabled=\"currentStatus !== '飞行中'\"\n          show-stops\n        ></el-slider>\n      </div>\n      \n      <!-- 速度控制 -->\n      <div>\n        <div class=\"flex justify-between items-center mb-2\">\n          <label class=\"text-sm text-gray-700 dark:text-gray-300\">目标速度</label>\n          <el-tag type=\"primary\" size=\"small\">{{ targetSpeed }} m/s</el-tag>\n        </div>\n        <el-slider\n          v-model.number=\"localTargetSpeed\"\n          :min=\"0\"\n          :max=\"15\"\n          :step=\"0.5\"\n          @change=\"handleSpeedChange\"\n          :disabled=\"currentStatus !== '飞行中'\"\n          show-stops\n        ></el-slider>\n      </div>\n      \n      <!-- 紧急停止按钮 -->\n      <el-button \n        type=\"danger\" \n        size=\"large\"\n        class=\"w-full py-6\"\n        @click=\"$emit('emergency-stop')\"\n        :loading=\"isProcessingEmergencyStop\"\n      >\n        <span class=\"font-medium\">紧急停止</span>\n      </el-button>\n    </div>\n  </el-card>\n</template>\n\n<script>\nexport default {\n  name: 'ControlPanel',\n  props: {\n    currentStatus: {\n      type: String,\n      default: '待命'\n    },\n    targetAltitude: {\n      type: Number,\n      default: 0\n    },\n    targetSpeed: {\n      type: Number,\n      default: 0\n    }\n  },\n  data() {\n    return {\n      localTargetAltitude: this.targetAltitude,\n      localTargetSpeed: this.targetSpeed,\n      isProcessingEmergencyStop: false\n    }\n  },\n  watch: {\n    targetAltitude(newVal) {\n      this.localTargetAltitude = newVal\n    },\n    targetSpeed(newVal) {\n      this.localTargetSpeed = newVal\n    }\n  },\n  methods: {\n    // 处理控制动作\n    handleControl(action) {\n      this.$emit('control-action', action)\n    },\n    \n    // 处理高度变更\n    handleAltitudeChange() {\n      this.$emit('update-altitude', this.localTargetAltitude)\n    },\n    \n    // 处理速度变更\n    handleSpeedChange() {\n      this.$emit('update-speed', this.localTargetSpeed)\n    },\n    \n    // 处理紧急停止 (添加防抖功能)\n    async handleEmergencyStop() {\n      if (this.isProcessingEmergencyStop) return\n      \n      this.isProcessingEmergencyStop = true\n      this.$emit('emergency-stop')\n      \n      // 3秒后重置状态\n      setTimeout(() => {\n        this.isProcessingEmergencyStop = false\n      }, 3000)\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* 紧急停止按钮脉冲动画 */\n.el-button--danger {\n  animation: pulse 2s infinite;\n}\n\n@keyframes pulse {\n  0% {\n    box-shadow: 0 0 0 0 rgba(235, 87, 87, 0.7);\n  }\n  70% {\n    box-shadow: 0 0 0 10px rgba(235, 87, 87, 0);\n  }\n  100% {\n    box-shadow: 0 0 0 0 rgba(235, 87, 87, 0);\n  }\n}\n\n/* 按钮样式优化 */\n.el-button {\n  transition: all 0.3s ease;\n}\n\n.el-button:hover:not(:disabled) {\n  transform: translateY(-2px);\n}\n\n.el-button:active:not(:disabled) {\n  transform: translateY(0);\n}\n\n/* 滑块样式优化 */\n.el-slider__runway {\n  border-radius: 4px;\n}\n\n.el-slider__bar {\n  border-radius: 4px;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}