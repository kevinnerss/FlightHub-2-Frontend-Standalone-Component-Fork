{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { inject, provide } from 'vue';\nimport { TREE_NODE_MAP_INJECTION_KEY } from '../tokens.mjs';\nfunction useNodeExpandEventBroadcast(props) {\n  const parentNodeMap = inject(TREE_NODE_MAP_INJECTION_KEY, null);\n  const currentNodeMap = {\n    treeNodeExpand: node => {\n      var _a;\n      if (props.node !== node) {\n        (_a = props.node) == null ? void 0 : _a.collapse();\n      }\n    },\n    children: []\n  };\n  if (parentNodeMap) {\n    parentNodeMap.children.push(currentNodeMap);\n  }\n  provide(TREE_NODE_MAP_INJECTION_KEY, currentNodeMap);\n  return {\n    broadcastExpanded: node => {\n      if (!props.accordion) return;\n      for (const childNode of currentNodeMap.children) {\n        childNode.treeNodeExpand(node);\n      }\n    }\n  };\n}\nexport { useNodeExpandEventBroadcast };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}