{"ast":null,"code":"import Check from \"../Core/Check.js\";\nimport defined from \"../Core/defined.js\";\nimport destroyObject from \"../Core/destroyObject.js\";\nimport PrimitiveCollection from \"./PrimitiveCollection.js\";\n\n/**\n * A primitive collection for helping maintain the order or ground primitives based on a z-index\n *\n * @private\n */\nfunction OrderedGroundPrimitiveCollection() {\n  this._length = 0;\n  this._collections = {};\n  this._collectionsArray = [];\n  this.show = true;\n}\nObject.defineProperties(OrderedGroundPrimitiveCollection.prototype, {\n  /**\n   * Gets the number of primitives in the collection.\n   *\n   * @memberof OrderedGroundPrimitiveCollection.prototype\n   *\n   * @type {number}\n   * @readonly\n   */\n  length: {\n    get: function () {\n      return this._length;\n    }\n  }\n});\n\n/**\n * Adds a primitive to the collection.\n *\n * @param {GroundPrimitive} primitive The primitive to add.\n * @param {number} [zIndex = 0] The index of the primitive\n * @returns {GroundPrimitive} The primitive added to the collection.\n */\nOrderedGroundPrimitiveCollection.prototype.add = function (primitive, zIndex) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"primitive\", primitive);\n  if (defined(zIndex)) {\n    Check.typeOf.number(\"zIndex\", zIndex);\n  }\n  //>>includeEnd('debug');\n\n  zIndex = zIndex ?? 0;\n  let collection = this._collections[zIndex];\n  if (!defined(collection)) {\n    collection = new PrimitiveCollection({\n      destroyPrimitives: false\n    });\n    collection._zIndex = zIndex;\n    this._collections[zIndex] = collection;\n    const array = this._collectionsArray;\n    let i = 0;\n    while (i < array.length && array[i]._zIndex < zIndex) {\n      i++;\n    }\n    array.splice(i, 0, collection);\n  }\n  collection.add(primitive);\n  this._length++;\n  primitive._zIndex = zIndex;\n  return primitive;\n};\n\n/**\n * Adjusts the z-index\n * @param {GroundPrimitive} primitive\n * @param {number} zIndex\n */\nOrderedGroundPrimitiveCollection.prototype.set = function (primitive, zIndex) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"primitive\", primitive);\n  Check.typeOf.number(\"zIndex\", zIndex);\n  //>>includeEnd('debug');\n\n  if (zIndex === primitive._zIndex) {\n    return primitive;\n  }\n  this.remove(primitive, true);\n  this.add(primitive, zIndex);\n  return primitive;\n};\n\n/**\n * Removes a primitive from the collection.\n *\n * @param {object} primitive The primitive to remove.\n * @param {boolean} [doNotDestroy = false]\n * @returns {boolean} <code>true</code> if the primitive was removed; <code>false</code> if the primitive is <code>undefined</code> or was not found in the collection.\n */\nOrderedGroundPrimitiveCollection.prototype.remove = function (primitive, doNotDestroy) {\n  if (this.contains(primitive)) {\n    const index = primitive._zIndex;\n    const collection = this._collections[index];\n    let result;\n    if (doNotDestroy) {\n      result = collection.remove(primitive);\n    } else {\n      result = collection.removeAndDestroy(primitive);\n    }\n    if (result) {\n      this._length--;\n    }\n    if (collection.length === 0) {\n      this._collectionsArray.splice(this._collectionsArray.indexOf(collection), 1);\n      this._collections[index] = undefined;\n      collection.destroy();\n    }\n    return result;\n  }\n  return false;\n};\n\n/**\n * Removes all primitives in the collection.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n * @see OrderedGroundPrimitiveCollection#destroyPrimitives\n */\nOrderedGroundPrimitiveCollection.prototype.removeAll = function () {\n  const collections = this._collectionsArray;\n  for (let i = 0; i < collections.length; i++) {\n    const collection = collections[i];\n    collection.destroyPrimitives = true;\n    collection.destroy();\n  }\n  this._collections = {};\n  this._collectionsArray = [];\n  this._length = 0;\n};\n\n/**\n * Determines if this collection contains a primitive.\n *\n * @param {object} primitive The primitive to check for.\n * @returns {boolean} <code>true</code> if the primitive is in the collection; <code>false</code> if the primitive is <code>undefined</code> or was not found in the collection.\n */\nOrderedGroundPrimitiveCollection.prototype.contains = function (primitive) {\n  if (!defined(primitive)) {\n    return false;\n  }\n  const collection = this._collections[primitive._zIndex];\n  return defined(collection) && collection.contains(primitive);\n};\n\n/**\n * @private\n */\nOrderedGroundPrimitiveCollection.prototype.update = function (frameState) {\n  if (!this.show) {\n    return;\n  }\n  const collections = this._collectionsArray;\n  for (let i = 0; i < collections.length; i++) {\n    collections[i].update(frameState);\n  }\n};\n\n/**\n * Returns true if this object was destroyed; otherwise, false.\n * <br /><br />\n * If this object was destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.\n *\n * @returns {boolean} True if this object was destroyed; otherwise, false.\n *\n * @see OrderedGroundPrimitiveCollection#destroy\n */\nOrderedGroundPrimitiveCollection.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the WebGL resources held by each primitive in this collection.  Explicitly destroying this\n * collection allows for deterministic release of WebGL resources, instead of relying on the garbage\n * collector to destroy this collection.\n * <br /><br />\n * Since destroying a collection destroys all the contained primitives, only destroy a collection\n * when you are sure no other code is still using any of the contained primitives.\n * <br /><br />\n * Once this collection is destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.  Therefore,\n * assign the return value (<code>undefined</code>) to the object as done in the example.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n *\n * @example\n * primitives = primitives && primitives.destroy();\n *\n * @see OrderedGroundPrimitiveCollection#isDestroyed\n */\nOrderedGroundPrimitiveCollection.prototype.destroy = function () {\n  this.removeAll();\n  return destroyObject(this);\n};\nexport default OrderedGroundPrimitiveCollection;","map":{"version":3,"names":["Check","defined","destroyObject","PrimitiveCollection","OrderedGroundPrimitiveCollection","_length","_collections","_collectionsArray","show","Object","defineProperties","prototype","length","get","add","primitive","zIndex","typeOf","number","collection","destroyPrimitives","_zIndex","array","i","splice","set","remove","doNotDestroy","contains","index","result","removeAndDestroy","indexOf","undefined","destroy","removeAll","collections","update","frameState","isDestroyed"],"sources":["D:/projects/FlightHub-2-Frontend-Standalone-Component/frontend/node_modules/@cesium/engine/Source/Scene/OrderedGroundPrimitiveCollection.js"],"sourcesContent":["import Check from \"../Core/Check.js\";\nimport defined from \"../Core/defined.js\";\nimport destroyObject from \"../Core/destroyObject.js\";\nimport PrimitiveCollection from \"./PrimitiveCollection.js\";\n\n/**\n * A primitive collection for helping maintain the order or ground primitives based on a z-index\n *\n * @private\n */\nfunction OrderedGroundPrimitiveCollection() {\n  this._length = 0;\n  this._collections = {};\n  this._collectionsArray = [];\n\n  this.show = true;\n}\n\nObject.defineProperties(OrderedGroundPrimitiveCollection.prototype, {\n  /**\n   * Gets the number of primitives in the collection.\n   *\n   * @memberof OrderedGroundPrimitiveCollection.prototype\n   *\n   * @type {number}\n   * @readonly\n   */\n  length: {\n    get: function () {\n      return this._length;\n    },\n  },\n});\n\n/**\n * Adds a primitive to the collection.\n *\n * @param {GroundPrimitive} primitive The primitive to add.\n * @param {number} [zIndex = 0] The index of the primitive\n * @returns {GroundPrimitive} The primitive added to the collection.\n */\nOrderedGroundPrimitiveCollection.prototype.add = function (primitive, zIndex) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"primitive\", primitive);\n  if (defined(zIndex)) {\n    Check.typeOf.number(\"zIndex\", zIndex);\n  }\n  //>>includeEnd('debug');\n\n  zIndex = zIndex ?? 0;\n  let collection = this._collections[zIndex];\n  if (!defined(collection)) {\n    collection = new PrimitiveCollection({ destroyPrimitives: false });\n    collection._zIndex = zIndex;\n    this._collections[zIndex] = collection;\n    const array = this._collectionsArray;\n    let i = 0;\n    while (i < array.length && array[i]._zIndex < zIndex) {\n      i++;\n    }\n    array.splice(i, 0, collection);\n  }\n\n  collection.add(primitive);\n  this._length++;\n  primitive._zIndex = zIndex;\n\n  return primitive;\n};\n\n/**\n * Adjusts the z-index\n * @param {GroundPrimitive} primitive\n * @param {number} zIndex\n */\nOrderedGroundPrimitiveCollection.prototype.set = function (primitive, zIndex) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"primitive\", primitive);\n  Check.typeOf.number(\"zIndex\", zIndex);\n  //>>includeEnd('debug');\n\n  if (zIndex === primitive._zIndex) {\n    return primitive;\n  }\n\n  this.remove(primitive, true);\n  this.add(primitive, zIndex);\n\n  return primitive;\n};\n\n/**\n * Removes a primitive from the collection.\n *\n * @param {object} primitive The primitive to remove.\n * @param {boolean} [doNotDestroy = false]\n * @returns {boolean} <code>true</code> if the primitive was removed; <code>false</code> if the primitive is <code>undefined</code> or was not found in the collection.\n */\nOrderedGroundPrimitiveCollection.prototype.remove = function (\n  primitive,\n  doNotDestroy,\n) {\n  if (this.contains(primitive)) {\n    const index = primitive._zIndex;\n    const collection = this._collections[index];\n    let result;\n    if (doNotDestroy) {\n      result = collection.remove(primitive);\n    } else {\n      result = collection.removeAndDestroy(primitive);\n    }\n\n    if (result) {\n      this._length--;\n    }\n\n    if (collection.length === 0) {\n      this._collectionsArray.splice(\n        this._collectionsArray.indexOf(collection),\n        1,\n      );\n      this._collections[index] = undefined;\n      collection.destroy();\n    }\n\n    return result;\n  }\n\n  return false;\n};\n\n/**\n * Removes all primitives in the collection.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n * @see OrderedGroundPrimitiveCollection#destroyPrimitives\n */\nOrderedGroundPrimitiveCollection.prototype.removeAll = function () {\n  const collections = this._collectionsArray;\n  for (let i = 0; i < collections.length; i++) {\n    const collection = collections[i];\n    collection.destroyPrimitives = true;\n    collection.destroy();\n  }\n\n  this._collections = {};\n  this._collectionsArray = [];\n  this._length = 0;\n};\n\n/**\n * Determines if this collection contains a primitive.\n *\n * @param {object} primitive The primitive to check for.\n * @returns {boolean} <code>true</code> if the primitive is in the collection; <code>false</code> if the primitive is <code>undefined</code> or was not found in the collection.\n */\nOrderedGroundPrimitiveCollection.prototype.contains = function (primitive) {\n  if (!defined(primitive)) {\n    return false;\n  }\n  const collection = this._collections[primitive._zIndex];\n  return defined(collection) && collection.contains(primitive);\n};\n\n/**\n * @private\n */\nOrderedGroundPrimitiveCollection.prototype.update = function (frameState) {\n  if (!this.show) {\n    return;\n  }\n\n  const collections = this._collectionsArray;\n  for (let i = 0; i < collections.length; i++) {\n    collections[i].update(frameState);\n  }\n};\n\n/**\n * Returns true if this object was destroyed; otherwise, false.\n * <br /><br />\n * If this object was destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.\n *\n * @returns {boolean} True if this object was destroyed; otherwise, false.\n *\n * @see OrderedGroundPrimitiveCollection#destroy\n */\nOrderedGroundPrimitiveCollection.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the WebGL resources held by each primitive in this collection.  Explicitly destroying this\n * collection allows for deterministic release of WebGL resources, instead of relying on the garbage\n * collector to destroy this collection.\n * <br /><br />\n * Since destroying a collection destroys all the contained primitives, only destroy a collection\n * when you are sure no other code is still using any of the contained primitives.\n * <br /><br />\n * Once this collection is destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.  Therefore,\n * assign the return value (<code>undefined</code>) to the object as done in the example.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n *\n * @example\n * primitives = primitives && primitives.destroy();\n *\n * @see OrderedGroundPrimitiveCollection#isDestroyed\n */\nOrderedGroundPrimitiveCollection.prototype.destroy = function () {\n  this.removeAll();\n  return destroyObject(this);\n};\nexport default OrderedGroundPrimitiveCollection;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}