{"ast":null,"code":"import { defineComponent, useSlots, computed, ref, provide, openBlock, createBlock, unref, withCtx, createVNode, Transition, mergeProps, withDirectives, createElementVNode, normalizeClass, normalizeStyle, createSlots, renderSlot, createCommentVNode, vShow } from 'vue';\nimport { ElOverlay } from '../../overlay/index.mjs';\nimport ElFocusTrap from '../../focus-trap/src/focus-trap.mjs';\nimport { ElTeleport } from '../../teleport/index.mjs';\nimport ElDialogContent from './dialog-content2.mjs';\nimport { dialogInjectionKey } from './constants.mjs';\nimport { dialogProps, dialogEmits } from './dialog.mjs';\nimport { useDialog } from './use-dialog.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useDeprecated } from '../../../hooks/use-deprecated/index.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { useSameTarget } from '../../../hooks/use-same-target/index.mjs';\nconst __default__ = defineComponent({\n  name: \"ElDialog\",\n  inheritAttrs: false\n});\nconst _sfc_main = /* @__PURE__ */defineComponent({\n  ...__default__,\n  props: dialogProps,\n  emits: dialogEmits,\n  setup(__props, {\n    expose\n  }) {\n    const props = __props;\n    const slots = useSlots();\n    useDeprecated({\n      scope: \"el-dialog\",\n      from: \"the title slot\",\n      replacement: \"the header slot\",\n      version: \"3.0.0\",\n      ref: \"https://element-plus.org/en-US/component/dialog.html#slots\"\n    }, computed(() => !!slots.title));\n    const ns = useNamespace(\"dialog\");\n    const dialogRef = ref();\n    const headerRef = ref();\n    const dialogContentRef = ref();\n    const {\n      visible,\n      titleId,\n      bodyId,\n      style,\n      overlayDialogStyle,\n      rendered,\n      transitionConfig,\n      zIndex,\n      _draggable,\n      _alignCenter,\n      _overflow,\n      handleClose,\n      onModalClick,\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      onCloseRequested,\n      onFocusoutPrevented\n    } = useDialog(props, dialogRef);\n    provide(dialogInjectionKey, {\n      dialogRef,\n      headerRef,\n      bodyId,\n      ns,\n      rendered,\n      style\n    });\n    const overlayEvent = useSameTarget(onModalClick);\n    const penetrable = computed(() => props.modalPenetrable && !props.modal && !props.fullscreen);\n    const resetPosition = () => {\n      var _a;\n      (_a = dialogContentRef.value) == null ? void 0 : _a.resetPosition();\n    };\n    expose({\n      visible,\n      dialogContentRef,\n      resetPosition,\n      handleClose\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(ElTeleport), {\n        to: _ctx.appendTo,\n        disabled: _ctx.appendTo !== \"body\" ? false : !_ctx.appendToBody\n      }, {\n        default: withCtx(() => [createVNode(Transition, mergeProps(unref(transitionConfig), {\n          persisted: \"\"\n        }), {\n          default: withCtx(() => {\n            var _a;\n            return [withDirectives(createVNode(unref(ElOverlay), {\n              \"custom-mask-event\": \"\",\n              mask: _ctx.modal,\n              \"overlay-class\": [(_a = _ctx.modalClass) != null ? _a : \"\", `${unref(ns).namespace.value}-modal-dialog`, unref(ns).is(\"penetrable\", unref(penetrable))],\n              \"z-index\": unref(zIndex)\n            }, {\n              default: withCtx(() => [createElementVNode(\"div\", {\n                role: \"dialog\",\n                \"aria-modal\": \"true\",\n                \"aria-label\": _ctx.title || void 0,\n                \"aria-labelledby\": !_ctx.title ? unref(titleId) : void 0,\n                \"aria-describedby\": unref(bodyId),\n                class: normalizeClass(`${unref(ns).namespace.value}-overlay-dialog`),\n                style: normalizeStyle(unref(overlayDialogStyle)),\n                onClick: unref(overlayEvent).onClick,\n                onMousedown: unref(overlayEvent).onMousedown,\n                onMouseup: unref(overlayEvent).onMouseup\n              }, [createVNode(unref(ElFocusTrap), {\n                loop: \"\",\n                trapped: unref(visible),\n                \"focus-start-el\": \"container\",\n                onFocusAfterTrapped: unref(onOpenAutoFocus),\n                onFocusAfterReleased: unref(onCloseAutoFocus),\n                onFocusoutPrevented: unref(onFocusoutPrevented),\n                onReleaseRequested: unref(onCloseRequested)\n              }, {\n                default: withCtx(() => [unref(rendered) ? (openBlock(), createBlock(ElDialogContent, mergeProps({\n                  key: 0,\n                  ref_key: \"dialogContentRef\",\n                  ref: dialogContentRef\n                }, _ctx.$attrs, {\n                  center: _ctx.center,\n                  \"align-center\": unref(_alignCenter),\n                  \"close-icon\": _ctx.closeIcon,\n                  draggable: unref(_draggable),\n                  overflow: unref(_overflow),\n                  fullscreen: _ctx.fullscreen,\n                  \"header-class\": _ctx.headerClass,\n                  \"body-class\": _ctx.bodyClass,\n                  \"footer-class\": _ctx.footerClass,\n                  \"show-close\": _ctx.showClose,\n                  title: _ctx.title,\n                  \"aria-level\": _ctx.headerAriaLevel,\n                  onClose: unref(handleClose)\n                }), createSlots({\n                  header: withCtx(() => [!_ctx.$slots.title ? renderSlot(_ctx.$slots, \"header\", {\n                    key: 0,\n                    close: unref(handleClose),\n                    titleId: unref(titleId),\n                    titleClass: unref(ns).e(\"title\")\n                  }) : renderSlot(_ctx.$slots, \"title\", {\n                    key: 1\n                  })]),\n                  default: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n                  _: 2\n                }, [_ctx.$slots.footer ? {\n                  name: \"footer\",\n                  fn: withCtx(() => [renderSlot(_ctx.$slots, \"footer\")])\n                } : void 0]), 1040, [\"center\", \"align-center\", \"close-icon\", \"draggable\", \"overflow\", \"fullscreen\", \"header-class\", \"body-class\", \"footer-class\", \"show-close\", \"title\", \"aria-level\", \"onClose\"])) : createCommentVNode(\"v-if\", true)]),\n                _: 3\n              }, 8, [\"trapped\", \"onFocusAfterTrapped\", \"onFocusAfterReleased\", \"onFocusoutPrevented\", \"onReleaseRequested\"])], 46, [\"aria-label\", \"aria-labelledby\", \"aria-describedby\", \"onClick\", \"onMousedown\", \"onMouseup\"])]),\n              _: 3\n            }, 8, [\"mask\", \"overlay-class\", \"z-index\"]), [[vShow, unref(visible)]])];\n          }),\n          _: 3\n        }, 16)]),\n        _: 3\n      }, 8, [\"to\", \"disabled\"]);\n    };\n  }\n});\nvar Dialog = /* @__PURE__ */_export_sfc(_sfc_main, [[\"__file\", \"dialog.vue\"]]);\nexport { Dialog as default };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}