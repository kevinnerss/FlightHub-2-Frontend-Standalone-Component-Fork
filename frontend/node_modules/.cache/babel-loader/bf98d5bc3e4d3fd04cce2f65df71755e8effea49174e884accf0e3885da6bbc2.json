{"ast":null,"code":"import BoundingRectangle from \"../Core/BoundingRectangle.js\";\nimport Cartesian2 from \"../Core/Cartesian2.js\";\nimport Cartesian3 from \"../Core/Cartesian3.js\";\nimport Cartesian4 from \"../Core/Cartesian4.js\";\nimport Cartographic from \"../Core/Cartographic.js\";\nimport Check from \"../Core/Check.js\";\nimport Color from \"../Core/Color.js\";\nimport createGuid from \"../Core/createGuid.js\";\nimport Frozen from \"../Core/Frozen.js\";\nimport defined from \"../Core/defined.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport DistanceDisplayCondition from \"../Core/DistanceDisplayCondition.js\";\nimport Ellipsoid from \"../Core/Ellipsoid.js\";\nimport Matrix4 from \"../Core/Matrix4.js\";\nimport NearFarScalar from \"../Core/NearFarScalar.js\";\nimport Resource from \"../Core/Resource.js\";\nimport BillboardTexture from \"./BillboardTexture.js\";\nimport HeightReference, { isHeightReferenceRelative } from \"./HeightReference.js\";\nimport HorizontalOrigin from \"./HorizontalOrigin.js\";\nimport SceneMode from \"./SceneMode.js\";\nimport SceneTransforms from \"./SceneTransforms.js\";\nimport VerticalOrigin from \"./VerticalOrigin.js\";\nimport SplitDirection from \"./SplitDirection.js\";\n\n/**\n * @typedef {object} Billboard.ConstructorOptions\n *\n * Initialization options for the first param of Billboard constructor\n *\n * @property {Cartesian3} position The cartesian position of the billboard.\n * @property {*} [id] A user-defined object to return when the billboard is picked with {@link Scene#pick}.\n * @property {boolean} [show=true] Determines if this billboard will be shown.\n * @property {string | HTMLCanvasElement} [image] A loaded HTMLImageElement, ImageData, or a url to an image to use for the billboard.\n * @property {number} [scale=1.0] A number specifying the uniform scale that is multiplied with the billboard's image size in pixels.\n * @property {Cartesian2} [pixelOffset=Cartesian2.ZERO] A {@link Cartesian2} Specifying the pixel offset in screen space from the origin of this billboard.\n * @property {Cartesian3} [eyeOffset=Cartesian3.ZERO] A {@link Cartesian3} Specifying the 3D Cartesian offset applied to this billboard in eye coordinates.\n * @property {HorizontalOrigin} [horizontalOrigin=HorizontalOrigin.CENTER] A {@link HorizontalOrigin} Specifying the horizontal origin of this billboard.\n * @property {VerticalOrigin} [verticalOrigin=VerticalOrigin.CENTER] A {@link VerticalOrigin} Specifying the vertical origin of this billboard.\n * @property {HeightReference} [heightReference=HeightReference.NONE] A {@link HeightReference} Specifying the height reference of this billboard.\n * @property {Color} [color=Color.WHITE] A {@link Color} Specifying the color that is multiplied with the billboard's texture.\n * @property {number} [rotation=0] A number specifying the rotation angle in radians.\n * @property {Cartesian3} [alignedAxis=Cartesian3.ZERO] A {@link Cartesian3} Specifying the aligned axis in world space.\n * @property {boolean} [sizeInMeters] A boolean specifying if the billboard size is in meters or pixels.\n * @property {number} [width] A number specifying the width of the billboard. If undefined, the image width will be used.\n * @property {number} [height] A number specifying the height of the billboard. If undefined, the image height will be used.\n * @property {NearFarScalar} [scaleByDistance] A {@link NearFarScalar} Specifying near and far scaling properties of a Billboard based on the billboard's distance from the camera.\n * @property {NearFarScalar} [translucencyByDistance] A {@link NearFarScalar} Specifying near and far translucency properties of a Billboard based on the billboard's distance from the camera.\n * @property {NearFarScalar} [pixelOffsetScaleByDistance] A {@link NearFarScalar} Specifying near and far pixel offset scaling properties of a Billboard based on the billboard's distance from the camera.\n * @property {BoundingRectangle} [imageSubRegion] A {@link BoundingRectangle} Specifying the sub-region of the image to use for the billboard, rather than the entire image.\n * @property {DistanceDisplayCondition} [distanceDisplayCondition] A {@link DistanceDisplayCondition} Specifying the distance from the camera at which this billboard will be displayed.\n * @property {number} [disableDepthTestDistance] A number specifying the distance from the camera at which to disable the depth test to, for example, prevent clipping against terrain.\n * @property {SplitDirection} [splitDirection] A {@link SplitDirection} Specifying the split property of the billboard.\n */\n\n/**\n * <div class=\"notice\">\n * A billboard is created and its initial\n * properties are set by calling {@link BillboardCollection#add}. Do not call the constructor directly.\n * </div>\n * A viewport-aligned image positioned in the 3D scene, that is created\n * and rendered using a {@link BillboardCollection}.\n * <br /><br />\n * <div align='center'>\n * <img src='Images/Billboard.png' width='400' height='300' /><br />\n * Example billboards\n * </div>\n *\n * @alias Billboard\n *\n * @performance Reading a property, e.g., {@link Billboard#show}, is constant time.\n * Assigning to a property is constant time but results in\n * CPU to GPU traffic when {@link BillboardCollection#update} is called.  The per-billboard traffic is\n * the same regardless of how many properties were updated.  If most billboards in a collection need to be\n * updated, it may be more efficient to clear the collection with {@link BillboardCollection#removeAll}\n * and add new billboards instead of modifying each one.\n *\n * @exception {DeveloperError} scaleByDistance.far must be greater than scaleByDistance.near\n * @exception {DeveloperError} translucencyByDistance.far must be greater than translucencyByDistance.near\n * @exception {DeveloperError} pixelOffsetScaleByDistance.far must be greater than pixelOffsetScaleByDistance.near\n * @exception {DeveloperError} distanceDisplayCondition.far must be greater than distanceDisplayCondition.near\n *\n * @see BillboardCollection\n * @see BillboardCollection#add\n * @see Label\n *\n * @internalConstructor\n * @class\n *\n * @param {Billboard.ConstructorOptions} options Object describing initialization options\n * @param {BillboardCollection} billboardCollection Instance of BillboardCollection\n *\n * @demo {@link https://sandcastle.cesium.com/index.html?src=Billboards.html|Cesium Sandcastle Billboard Demo}\n */\nfunction Billboard(options, billboardCollection) {\n  options = options ?? Frozen.EMPTY_OBJECT;\n\n  //>>includeStart('debug', pragmas.debug);\n  if (defined(options.disableDepthTestDistance) && options.disableDepthTestDistance < 0.0) {\n    throw new DeveloperError(\"disableDepthTestDistance must be greater than or equal to 0.0.\");\n  }\n  //>>includeEnd('debug');\n\n  let translucencyByDistance = options.translucencyByDistance;\n  let pixelOffsetScaleByDistance = options.pixelOffsetScaleByDistance;\n  let scaleByDistance = options.scaleByDistance;\n  let distanceDisplayCondition = options.distanceDisplayCondition;\n  if (defined(translucencyByDistance)) {\n    //>>includeStart('debug', pragmas.debug);\n    if (translucencyByDistance.far <= translucencyByDistance.near) {\n      throw new DeveloperError(\"translucencyByDistance.far must be greater than translucencyByDistance.near.\");\n    }\n    //>>includeEnd('debug');\n    translucencyByDistance = NearFarScalar.clone(translucencyByDistance);\n  }\n  if (defined(pixelOffsetScaleByDistance)) {\n    //>>includeStart('debug', pragmas.debug);\n    if (pixelOffsetScaleByDistance.far <= pixelOffsetScaleByDistance.near) {\n      throw new DeveloperError(\"pixelOffsetScaleByDistance.far must be greater than pixelOffsetScaleByDistance.near.\");\n    }\n    //>>includeEnd('debug');\n    pixelOffsetScaleByDistance = NearFarScalar.clone(pixelOffsetScaleByDistance);\n  }\n  if (defined(scaleByDistance)) {\n    //>>includeStart('debug', pragmas.debug);\n    if (scaleByDistance.far <= scaleByDistance.near) {\n      throw new DeveloperError(\"scaleByDistance.far must be greater than scaleByDistance.near.\");\n    }\n    //>>includeEnd('debug');\n    scaleByDistance = NearFarScalar.clone(scaleByDistance);\n  }\n  if (defined(distanceDisplayCondition)) {\n    //>>includeStart('debug', pragmas.debug);\n    if (distanceDisplayCondition.far <= distanceDisplayCondition.near) {\n      throw new DeveloperError(\"distanceDisplayCondition.far must be greater than distanceDisplayCondition.near.\");\n    }\n    //>>includeEnd('debug');\n    distanceDisplayCondition = DistanceDisplayCondition.clone(distanceDisplayCondition);\n  }\n  this._show = options.show ?? true;\n  this._position = Cartesian3.clone(options.position ?? Cartesian3.ZERO);\n  this._actualPosition = Cartesian3.clone(this._position); // For columbus view and 2D\n  this._pixelOffset = Cartesian2.clone(options.pixelOffset ?? Cartesian2.ZERO);\n  this._translate = new Cartesian2(0.0, 0.0); // used by labels for glyph vertex translation\n  this._eyeOffset = Cartesian3.clone(options.eyeOffset ?? Cartesian3.ZERO);\n  this._heightReference = options.heightReference ?? HeightReference.NONE;\n  this._verticalOrigin = options.verticalOrigin ?? VerticalOrigin.CENTER;\n  this._horizontalOrigin = options.horizontalOrigin ?? HorizontalOrigin.CENTER;\n  this._scale = options.scale ?? 1.0;\n  this._color = Color.clone(options.color ?? Color.WHITE);\n  this._rotation = options.rotation ?? 0.0;\n  this._alignedAxis = Cartesian3.clone(options.alignedAxis ?? Cartesian3.ZERO);\n  this._width = options.width;\n  this._height = options.height;\n  this._scaleByDistance = scaleByDistance;\n  this._translucencyByDistance = translucencyByDistance;\n  this._pixelOffsetScaleByDistance = pixelOffsetScaleByDistance;\n  this._sizeInMeters = options.sizeInMeters ?? false;\n  this._distanceDisplayCondition = distanceDisplayCondition;\n  this._disableDepthTestDistance = options.disableDepthTestDistance;\n  this._id = options.id;\n  this._collection = options.collection ?? billboardCollection; // Used only for pick ids\n\n  this._pickId = undefined;\n  this._pickPrimitive = options._pickPrimitive ?? this;\n  this._billboardCollection = billboardCollection;\n  this._dirty = false;\n  this._index = -1; // Used only by BillboardCollection\n  this._batchIndex = undefined; // Used only by Vector3DTilePoints and BillboardCollection\n\n  this._imageTexture = new BillboardTexture(billboardCollection);\n  this._imageWidth = undefined;\n  this._imageHeight = undefined;\n  this._labelDimensions = undefined;\n  this._labelHorizontalOrigin = undefined;\n  this._labelTranslate = undefined;\n  const image = options.image;\n  let imageId = options.imageId;\n  if (defined(image)) {\n    if (!defined(imageId)) {\n      if (typeof image === \"string\") {\n        imageId = image;\n      } else if (defined(image.src)) {\n        imageId = image.src;\n      } else {\n        imageId = createGuid();\n      }\n    }\n    this._imageTexture.loadImage(imageId, image);\n  }\n  if (defined(options.imageSubRegion)) {\n    this._imageTexture.addImageSubRegion(imageId, options.imageSubRegion);\n  }\n  this._actualClampedPosition = undefined;\n  this._removeCallbackFunc = undefined;\n  this._mode = SceneMode.SCENE3D;\n  this._clusterShow = true;\n  this._outlineColor = Color.clone(options.outlineColor ?? Color.BLACK);\n  this._outlineWidth = options.outlineWidth ?? 0.0;\n  this._updateClamping();\n  this._splitDirection = options.splitDirection ?? SplitDirection.NONE;\n  // Primarily used by labels to indicate that the position is derived from the parent.\n  // and expensive operations like clamping can be skipped.\n  this._positionFromParent = false;\n}\nconst SHOW_INDEX = Billboard.SHOW_INDEX = 0;\nconst POSITION_INDEX = Billboard.POSITION_INDEX = 1;\nconst PIXEL_OFFSET_INDEX = Billboard.PIXEL_OFFSET_INDEX = 2;\nconst EYE_OFFSET_INDEX = Billboard.EYE_OFFSET_INDEX = 3;\nconst HORIZONTAL_ORIGIN_INDEX = Billboard.HORIZONTAL_ORIGIN_INDEX = 4;\nconst VERTICAL_ORIGIN_INDEX = Billboard.VERTICAL_ORIGIN_INDEX = 5;\nconst SCALE_INDEX = Billboard.SCALE_INDEX = 6;\nconst IMAGE_INDEX_INDEX = Billboard.IMAGE_INDEX_INDEX = 7;\nconst COLOR_INDEX = Billboard.COLOR_INDEX = 8;\nconst ROTATION_INDEX = Billboard.ROTATION_INDEX = 9;\nconst ALIGNED_AXIS_INDEX = Billboard.ALIGNED_AXIS_INDEX = 10;\nconst SCALE_BY_DISTANCE_INDEX = Billboard.SCALE_BY_DISTANCE_INDEX = 11;\nconst TRANSLUCENCY_BY_DISTANCE_INDEX = Billboard.TRANSLUCENCY_BY_DISTANCE_INDEX = 12;\nconst PIXEL_OFFSET_SCALE_BY_DISTANCE_INDEX = Billboard.PIXEL_OFFSET_SCALE_BY_DISTANCE_INDEX = 13;\nconst DISTANCE_DISPLAY_CONDITION = Billboard.DISTANCE_DISPLAY_CONDITION = 14;\nconst DISABLE_DEPTH_DISTANCE = Billboard.DISABLE_DEPTH_DISTANCE = 15;\nBillboard.TEXTURE_COORDINATE_BOUNDS = 16;\nconst SDF_INDEX = Billboard.SDF_INDEX = 17;\nconst SPLIT_DIRECTION_INDEX = Billboard.SPLIT_DIRECTION_INDEX = 18;\nBillboard.NUMBER_OF_PROPERTIES = 19;\nfunction makeDirty(billboard, propertyChanged) {\n  const billboardCollection = billboard._billboardCollection;\n  if (defined(billboardCollection)) {\n    billboardCollection._updateBillboard(billboard, propertyChanged);\n    billboard._dirty = true;\n  }\n}\nObject.defineProperties(Billboard.prototype, {\n  /**\n   * Determines if this billboard will be shown.  Use this to hide or show a billboard, instead\n   * of removing it and re-adding it to the collection.\n   * @memberof Billboard.prototype\n   * @type {boolean}\n   * @default true\n   */\n  show: {\n    get: function () {\n      return this._show;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      Check.typeOf.bool(\"value\", value);\n      //>>includeEnd('debug');\n\n      if (this._show !== value) {\n        this._show = value;\n        makeDirty(this, SHOW_INDEX);\n      }\n    }\n  },\n  /**\n   * Gets or sets the Cartesian position of this billboard.\n   * @memberof Billboard.prototype\n   * @type {Cartesian3}\n   */\n  position: {\n    get: function () {\n      return this._position;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug)\n      Check.typeOf.object(\"value\", value);\n      //>>includeEnd('debug');\n\n      const position = this._position;\n      if (!Cartesian3.equals(position, value)) {\n        Cartesian3.clone(value, position);\n        Cartesian3.clone(value, this._actualPosition);\n        this._updateClamping();\n        makeDirty(this, POSITION_INDEX);\n      }\n    }\n  },\n  /**\n   * Gets or sets the height reference of this billboard.\n   * @memberof Billboard.prototype\n   * @type {HeightReference}\n   * @default HeightReference.NONE\n   */\n  heightReference: {\n    get: function () {\n      return this._heightReference;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug)\n      Check.typeOf.number(\"value\", value);\n      //>>includeEnd('debug');\n\n      const heightReference = this._heightReference;\n      if (value !== heightReference) {\n        this._heightReference = value;\n        this._updateClamping();\n        makeDirty(this, POSITION_INDEX);\n      }\n    }\n  },\n  /**\n   * Gets or sets the pixel offset in screen space from the origin of this billboard.  This is commonly used\n   * to align multiple billboards and labels at the same position, e.g., an image and text.  The\n   * screen space origin is the top, left corner of the canvas; <code>x</code> increases from\n   * left to right, and <code>y</code> increases from top to bottom.\n   * <br /><br />\n   * <div align='center'>\n   * <table border='0' cellpadding='5'><tr>\n   * <td align='center'><code>default</code><br/><img src='Images/Billboard.setPixelOffset.default.png' width='250' height='188' /></td>\n   * <td align='center'><code>b.pixeloffset = new Cartesian2(50, 25);</code><br/><img src='Images/Billboard.setPixelOffset.x50y-25.png' width='250' height='188' /></td>\n   * </tr></table>\n   * The billboard's origin is indicated by the yellow point.\n   * </div>\n   * @memberof Billboard.prototype\n   * @type {Cartesian2}\n   */\n  pixelOffset: {\n    get: function () {\n      return this._pixelOffset;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      Check.typeOf.object(\"value\", value);\n      //>>includeEnd('debug');\n\n      const pixelOffset = this._pixelOffset;\n      if (!Cartesian2.equals(pixelOffset, value)) {\n        Cartesian2.clone(value, pixelOffset);\n        makeDirty(this, PIXEL_OFFSET_INDEX);\n      }\n    }\n  },\n  /**\n   * Gets or sets near and far scaling properties of a Billboard based on the billboard's distance from the camera.\n   * A billboard's scale will interpolate between the {@link NearFarScalar#nearValue} and\n   * {@link NearFarScalar#farValue} while the camera distance falls within the lower and upper bounds\n   * of the specified {@link NearFarScalar#near} and {@link NearFarScalar#far}.\n   * Outside of these ranges the billboard's scale remains clamped to the nearest bound.  If undefined,\n   * scaleByDistance will be disabled.\n   * @memberof Billboard.prototype\n   * @type {NearFarScalar}\n   *\n   * @example\n   * // Example 1.\n   * // Set a billboard's scaleByDistance to scale by 1.5 when the\n   * // camera is 1500 meters from the billboard and disappear as\n   * // the camera distance approaches 8.0e6 meters.\n   * b.scaleByDistance = new Cesium.NearFarScalar(1.5e2, 1.5, 8.0e6, 0.0);\n   *\n   * @example\n   * // Example 2.\n   * // disable scaling by distance\n   * b.scaleByDistance = undefined;\n   */\n  scaleByDistance: {\n    get: function () {\n      return this._scaleByDistance;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      if (defined(value)) {\n        Check.typeOf.object(\"value\", value);\n        if (value.far <= value.near) {\n          throw new DeveloperError(\"far distance must be greater than near distance.\");\n        }\n      }\n      //>>includeEnd('debug');\n\n      const scaleByDistance = this._scaleByDistance;\n      if (!NearFarScalar.equals(scaleByDistance, value)) {\n        this._scaleByDistance = NearFarScalar.clone(value, scaleByDistance);\n        makeDirty(this, SCALE_BY_DISTANCE_INDEX);\n      }\n    }\n  },\n  /**\n   * Gets or sets near and far translucency properties of a Billboard based on the billboard's distance from the camera.\n   * A billboard's translucency will interpolate between the {@link NearFarScalar#nearValue} and\n   * {@link NearFarScalar#farValue} while the camera distance falls within the lower and upper bounds\n   * of the specified {@link NearFarScalar#near} and {@link NearFarScalar#far}.\n   * Outside of these ranges the billboard's translucency remains clamped to the nearest bound.  If undefined,\n   * translucencyByDistance will be disabled.\n   * @memberof Billboard.prototype\n   * @type {NearFarScalar}\n   *\n   * @example\n   * // Example 1.\n   * // Set a billboard's translucency to 1.0 when the\n   * // camera is 1500 meters from the billboard and disappear as\n   * // the camera distance approaches 8.0e6 meters.\n   * b.translucencyByDistance = new Cesium.NearFarScalar(1.5e2, 1.0, 8.0e6, 0.0);\n   *\n   * @example\n   * // Example 2.\n   * // disable translucency by distance\n   * b.translucencyByDistance = undefined;\n   */\n  translucencyByDistance: {\n    get: function () {\n      return this._translucencyByDistance;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      if (defined(value)) {\n        Check.typeOf.object(\"value\", value);\n        if (value.far <= value.near) {\n          throw new DeveloperError(\"far distance must be greater than near distance.\");\n        }\n      }\n      //>>includeEnd('debug');\n\n      const translucencyByDistance = this._translucencyByDistance;\n      if (!NearFarScalar.equals(translucencyByDistance, value)) {\n        this._translucencyByDistance = NearFarScalar.clone(value, translucencyByDistance);\n        makeDirty(this, TRANSLUCENCY_BY_DISTANCE_INDEX);\n      }\n    }\n  },\n  /**\n   * Gets or sets near and far pixel offset scaling properties of a Billboard based on the billboard's distance from the camera.\n   * A billboard's pixel offset will be scaled between the {@link NearFarScalar#nearValue} and\n   * {@link NearFarScalar#farValue} while the camera distance falls within the lower and upper bounds\n   * of the specified {@link NearFarScalar#near} and {@link NearFarScalar#far}.\n   * Outside of these ranges the billboard's pixel offset scale remains clamped to the nearest bound.  If undefined,\n   * pixelOffsetScaleByDistance will be disabled.\n   * @memberof Billboard.prototype\n   * @type {NearFarScalar}\n   *\n   * @example\n   * // Example 1.\n   * // Set a billboard's pixel offset scale to 0.0 when the\n   * // camera is 1500 meters from the billboard and scale pixel offset to 10.0 pixels\n   * // in the y direction the camera distance approaches 8.0e6 meters.\n   * b.pixelOffset = new Cesium.Cartesian2(0.0, 1.0);\n   * b.pixelOffsetScaleByDistance = new Cesium.NearFarScalar(1.5e2, 0.0, 8.0e6, 10.0);\n   *\n   * @example\n   * // Example 2.\n   * // disable pixel offset by distance\n   * b.pixelOffsetScaleByDistance = undefined;\n   */\n  pixelOffsetScaleByDistance: {\n    get: function () {\n      return this._pixelOffsetScaleByDistance;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      if (defined(value)) {\n        Check.typeOf.object(\"value\", value);\n        if (value.far <= value.near) {\n          throw new DeveloperError(\"far distance must be greater than near distance.\");\n        }\n      }\n      //>>includeEnd('debug');\n\n      const pixelOffsetScaleByDistance = this._pixelOffsetScaleByDistance;\n      if (!NearFarScalar.equals(pixelOffsetScaleByDistance, value)) {\n        this._pixelOffsetScaleByDistance = NearFarScalar.clone(value, pixelOffsetScaleByDistance);\n        makeDirty(this, PIXEL_OFFSET_SCALE_BY_DISTANCE_INDEX);\n      }\n    }\n  },\n  /**\n   * Gets or sets the 3D Cartesian offset applied to this billboard in eye coordinates.  Eye coordinates is a left-handed\n   * coordinate system, where <code>x</code> points towards the viewer's right, <code>y</code> points up, and\n   * <code>z</code> points into the screen.  Eye coordinates use the same scale as world and model coordinates,\n   * which is typically meters.\n   * <br /><br />\n   * An eye offset is commonly used to arrange multiple billboards or objects at the same position, e.g., to\n   * arrange a billboard above its corresponding 3D model.\n   * <br /><br />\n   * Below, the billboard is positioned at the center of the Earth but an eye offset makes it always\n   * appear on top of the Earth regardless of the viewer's or Earth's orientation.\n   * <br /><br />\n   * <div align='center'>\n   * <table border='0' cellpadding='5'><tr>\n   * <td align='center'><img src='Images/Billboard.setEyeOffset.one.png' width='250' height='188' /></td>\n   * <td align='center'><img src='Images/Billboard.setEyeOffset.two.png' width='250' height='188' /></td>\n   * </tr></table>\n   * <code>b.eyeOffset = new Cartesian3(0.0, 8000000.0, 0.0);</code><br /><br />\n   * </div>\n   * @memberof Billboard.prototype\n   * @type {Cartesian3}\n   */\n  eyeOffset: {\n    get: function () {\n      return this._eyeOffset;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      Check.typeOf.object(\"value\", value);\n      //>>includeEnd('debug');\n\n      const eyeOffset = this._eyeOffset;\n      if (!Cartesian3.equals(eyeOffset, value)) {\n        Cartesian3.clone(value, eyeOffset);\n        makeDirty(this, EYE_OFFSET_INDEX);\n      }\n    }\n  },\n  /**\n   * Gets or sets the horizontal origin of this billboard, which determines if the billboard is\n   * to the left, center, or right of its anchor position.\n   * <br /><br />\n   * <div align='center'>\n   * <img src='Images/Billboard.setHorizontalOrigin.png' width='648' height='196' /><br />\n   * </div>\n   * @memberof Billboard.prototype\n   * @type {HorizontalOrigin}\n   * @example\n   * // Use a bottom, left origin\n   * b.horizontalOrigin = Cesium.HorizontalOrigin.LEFT;\n   * b.verticalOrigin = Cesium.VerticalOrigin.BOTTOM;\n   */\n  horizontalOrigin: {\n    get: function () {\n      return this._horizontalOrigin;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      Check.typeOf.number(\"value\", value);\n      //>>includeEnd('debug');\n\n      if (this._horizontalOrigin !== value) {\n        this._horizontalOrigin = value;\n        makeDirty(this, HORIZONTAL_ORIGIN_INDEX);\n      }\n    }\n  },\n  /**\n   * Gets or sets the vertical origin of this billboard, which determines if the billboard is\n   * to the above, below, or at the center of its anchor position.\n   * <br /><br />\n   * <div align='center'>\n   * <img src='Images/Billboard.setVerticalOrigin.png' width='695' height='175' /><br />\n   * </div>\n   * @memberof Billboard.prototype\n   * @type {VerticalOrigin}\n   * @example\n   * // Use a bottom, left origin\n   * b.horizontalOrigin = Cesium.HorizontalOrigin.LEFT;\n   * b.verticalOrigin = Cesium.VerticalOrigin.BOTTOM;\n   */\n  verticalOrigin: {\n    get: function () {\n      return this._verticalOrigin;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      Check.typeOf.number(\"value\", value);\n      //>>includeEnd('debug');\n\n      if (this._verticalOrigin !== value) {\n        this._verticalOrigin = value;\n        makeDirty(this, VERTICAL_ORIGIN_INDEX);\n      }\n    }\n  },\n  /**\n   * Gets or sets the uniform scale that is multiplied with the billboard's image size in pixels.\n   * A scale of <code>1.0</code> does not change the size of the billboard; a scale greater than\n   * <code>1.0</code> enlarges the billboard; a positive scale less than <code>1.0</code> shrinks\n   * the billboard.\n   * <br /><br />\n   * <div align='center'>\n   * <img src='Images/Billboard.setScale.png' width='400' height='300' /><br/>\n   * From left to right in the above image, the scales are <code>0.5</code>, <code>1.0</code>,\n   * and <code>2.0</code>.\n   * </div>\n   * @memberof Billboard.prototype\n   * @type {number}\n   */\n  scale: {\n    get: function () {\n      return this._scale;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      Check.typeOf.number(\"value\", value);\n      //>>includeEnd('debug');\n\n      if (this._scale !== value) {\n        this._scale = value;\n        makeDirty(this, SCALE_INDEX);\n      }\n    }\n  },\n  /**\n   * Gets or sets the color that is multiplied with the billboard's texture.  This has two common use cases.  First,\n   * the same white texture may be used by many different billboards, each with a different color, to create\n   * colored billboards.  Second, the color's alpha component can be used to make the billboard translucent as shown below.\n   * An alpha of <code>0.0</code> makes the billboard transparent, and <code>1.0</code> makes the billboard opaque.\n   * <br /><br />\n   * <div align='center'>\n   * <table border='0' cellpadding='5'><tr>\n   * <td align='center'><code>default</code><br/><img src='Images/Billboard.setColor.Alpha255.png' width='250' height='188' /></td>\n   * <td align='center'><code>alpha : 0.5</code><br/><img src='Images/Billboard.setColor.Alpha127.png' width='250' height='188' /></td>\n   * </tr></table>\n   * </div>\n   * <br />\n   * The red, green, blue, and alpha values are indicated by <code>value</code>'s <code>red</code>, <code>green</code>,\n   * <code>blue</code>, and <code>alpha</code> properties as shown in Example 1.  These components range from <code>0.0</code>\n   * (no intensity) to <code>1.0</code> (full intensity).\n   * @memberof Billboard.prototype\n   * @type {Color}\n   *\n   * @example\n   * // Example 1. Assign yellow.\n   * b.color = Cesium.Color.YELLOW;\n   *\n   * @example\n   * // Example 2. Make a billboard 50% translucent.\n   * b.color = new Cesium.Color(1.0, 1.0, 1.0, 0.5);\n   */\n  color: {\n    get: function () {\n      return this._color;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      Check.typeOf.object(\"value\", value);\n      //>>includeEnd('debug');\n\n      const color = this._color;\n      if (!Color.equals(color, value)) {\n        Color.clone(value, color);\n        makeDirty(this, COLOR_INDEX);\n      }\n    }\n  },\n  /**\n   * Gets or sets the rotation angle in radians.\n   * @memberof Billboard.prototype\n   * @type {number}\n   */\n  rotation: {\n    get: function () {\n      return this._rotation;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      Check.typeOf.number(\"value\", value);\n      //>>includeEnd('debug');\n\n      if (this._rotation !== value) {\n        this._rotation = value;\n        makeDirty(this, ROTATION_INDEX);\n      }\n    }\n  },\n  /**\n   * Gets or sets the aligned axis in world space. The aligned axis is the unit vector that the billboard up vector points towards.\n   * The default is the zero vector, which means the billboard is aligned to the screen up vector.\n   * @memberof Billboard.prototype\n   * @type {Cartesian3}\n   * @example\n   * // Example 1.\n   * // Have the billboard up vector point north\n   * billboard.alignedAxis = Cesium.Cartesian3.UNIT_Z;\n   *\n   * @example\n   * // Example 2.\n   * // Have the billboard point east.\n   * billboard.alignedAxis = Cesium.Cartesian3.UNIT_Z;\n   * billboard.rotation = -Cesium.Math.PI_OVER_TWO;\n   *\n   * @example\n   * // Example 3.\n   * // Reset the aligned axis\n   * billboard.alignedAxis = Cesium.Cartesian3.ZERO;\n   */\n  alignedAxis: {\n    get: function () {\n      return this._alignedAxis;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      Check.typeOf.object(\"value\", value);\n      //>>includeEnd('debug');\n\n      const alignedAxis = this._alignedAxis;\n      if (!Cartesian3.equals(alignedAxis, value)) {\n        Cartesian3.clone(value, alignedAxis);\n        makeDirty(this, ALIGNED_AXIS_INDEX);\n      }\n    }\n  },\n  /**\n   * Gets or sets a width for the billboard. If undefined, the image width will be used.\n   * @memberof Billboard.prototype\n   * @type {number|undefined}\n   */\n  width: {\n    get: function () {\n      return this._width ?? this._imageTexture.width;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      if (defined(value)) {\n        Check.typeOf.number(\"width\", value);\n      }\n      //>>includeEnd('debug');\n\n      if (this._width !== value) {\n        this._width = value;\n        makeDirty(this, IMAGE_INDEX_INDEX);\n      }\n    }\n  },\n  /**\n   * Gets or sets a height for the billboard. If undefined, the image height will be used.\n   * @memberof Billboard.prototype\n   * @type {number|undefined}\n   */\n  height: {\n    get: function () {\n      return this._height ?? this._imageTexture.height;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      if (defined(value)) {\n        Check.typeOf.number(\"height\", value);\n      }\n      //>>includeEnd('debug');\n\n      if (this._height !== value) {\n        this._height = value;\n        makeDirty(this, IMAGE_INDEX_INDEX);\n      }\n    }\n  },\n  /**\n   * Gets or sets if the billboard size is in meters or pixels. <code>true</code> to size the billboard in meters;\n   * otherwise, the size is in pixels.\n   * @memberof Billboard.prototype\n   * @type {boolean}\n   * @default false\n   */\n  sizeInMeters: {\n    get: function () {\n      return this._sizeInMeters;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      Check.typeOf.bool(\"value\", value);\n      //>>includeEnd('debug');\n      if (this._sizeInMeters !== value) {\n        this._sizeInMeters = value;\n        makeDirty(this, COLOR_INDEX);\n      }\n    }\n  },\n  /**\n   * Gets or sets the condition specifying at what distance from the camera that this billboard will be displayed.\n   * @memberof Billboard.prototype\n   * @type {DistanceDisplayCondition}\n   * @default undefined\n   */\n  distanceDisplayCondition: {\n    get: function () {\n      return this._distanceDisplayCondition;\n    },\n    set: function (value) {\n      if (!DistanceDisplayCondition.equals(value, this._distanceDisplayCondition)) {\n        //>>includeStart('debug', pragmas.debug);\n        if (defined(value)) {\n          Check.typeOf.object(\"value\", value);\n          if (value.far <= value.near) {\n            throw new DeveloperError(\"far distance must be greater than near distance.\");\n          }\n        }\n        //>>includeEnd('debug');\n        this._distanceDisplayCondition = DistanceDisplayCondition.clone(value, this._distanceDisplayCondition);\n        makeDirty(this, DISTANCE_DISPLAY_CONDITION);\n      }\n    }\n  },\n  /**\n   * Gets or sets the distance from the camera at which to disable the depth test to, for example, prevent clipping against terrain.\n   * When set to zero, the depth test is always applied. When set to Number.POSITIVE_INFINITY, the depth test is never applied.\n   * @memberof Billboard.prototype\n   * @type {number}\n   */\n  disableDepthTestDistance: {\n    get: function () {\n      return this._disableDepthTestDistance;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      if (defined(value)) {\n        Check.typeOf.number(\"value\", value);\n        if (value < 0.0) {\n          throw new DeveloperError(\"disableDepthTestDistance must be greater than or equal to 0.0.\");\n        }\n      }\n      //>>includeEnd('debug');\n      if (this._disableDepthTestDistance !== value) {\n        this._disableDepthTestDistance = value;\n        makeDirty(this, DISABLE_DEPTH_DISTANCE);\n      }\n    }\n  },\n  /**\n   * Gets or sets the user-defined object returned when the billboard is picked.\n   * @memberof Billboard.prototype\n   * @type {*}\n   */\n  id: {\n    get: function () {\n      return this._id;\n    },\n    set: function (value) {\n      this._id = value;\n      if (defined(this._pickId)) {\n        this._pickId.object.id = value;\n      }\n    }\n  },\n  /**\n   * The primitive to return when picking this billboard.\n   * @memberof Billboard.prototype\n   * @private\n   */\n  pickPrimitive: {\n    get: function () {\n      return this._pickPrimitive;\n    },\n    set: function (value) {\n      this._pickPrimitive = value;\n      if (defined(this._pickId)) {\n        this._pickId.object.primitive = value;\n      }\n    }\n  },\n  /**\n   * @private\n   */\n  pickId: {\n    get: function () {\n      return this._pickId;\n    }\n  },\n  /**\n   * <p>\n   * Gets or sets the image to be used for this billboard.  If a texture has already been created for the\n   * given image, the existing texture is used.\n   * </p>\n   * <p>\n   * This property can be set to a loaded Image, a URL which will be loaded as an Image automatically,\n   * a canvas, or another billboard's image property (from the same billboard collection).\n   * </p>\n   *\n   * @memberof Billboard.prototype\n   * @type {string}\n   * @example\n   * // load an image from a URL\n   * b.image = 'some/image/url.png';\n   *\n   * // assuming b1 and b2 are billboards in the same billboard collection,\n   * // use the same image for both billboards.\n   * b2.image = b1.image;\n   */\n  image: {\n    get: function () {\n      return this._imageTexture.id;\n    },\n    set: function (value) {\n      if (!defined(value)) {\n        this._imageTexture.unload();\n        return;\n      }\n      let id;\n      if (typeof value === \"string\") {\n        id = value;\n      } else if (value instanceof Resource) {\n        id = value._url;\n      } else if (defined(value.src)) {\n        id = value.src;\n      } else {\n        id = createGuid();\n      }\n      this._imageTexture.loadImage(id, value);\n    }\n  },\n  /**\n   * When <code>true</code>, this billboard is ready to render, i.e., the image\n   * has been downloaded and the WebGL resources are created.\n   * @memberof Billboard.prototype\n   * @type {boolean}\n   * @readonly\n   * @default false\n   */\n  ready: {\n    get: function () {\n      return this._imageTexture.ready;\n    }\n  },\n  /**\n   * If defined, this error was encountered during the loading process.\n   * @memberof Billboard.prototype\n   * @type {Error|undefined}\n   * @readonly\n   * @private\n   */\n  loadError: {\n    get: function () {\n      return this._imageTexture.loadError;\n    }\n  },\n  /**\n   * Used by <code>billboardCollection</code> to track which billboards to update based on image load status.\n   * @memberof Billboard.prototype\n   * @type {boolean}\n   * @private\n   * @default false\n   */\n  textureDirty: {\n    get: function () {\n      return this._imageTexture.dirty;\n    },\n    set: function (value) {\n      this._imageTexture.dirty = value;\n    }\n  },\n  /**\n   * Keeps track of the position of the billboard based on the height reference.\n   * @memberof Billboard.prototype\n   * @type {Cartesian3}\n   * @private\n   */\n  _clampedPosition: {\n    get: function () {\n      return this._actualClampedPosition;\n    },\n    set: function (value) {\n      this._actualClampedPosition = Cartesian3.clone(value, this._actualClampedPosition);\n      makeDirty(this, POSITION_INDEX);\n    }\n  },\n  /**\n   * Determines whether or not this billboard will be shown or hidden because it was clustered.\n   * @memberof Billboard.prototype\n   * @type {boolean}\n   * @private\n   */\n  clusterShow: {\n    get: function () {\n      return this._clusterShow;\n    },\n    set: function (value) {\n      if (this._clusterShow !== value) {\n        this._clusterShow = value;\n        makeDirty(this, SHOW_INDEX);\n      }\n    }\n  },\n  /**\n   * The outline color of this Billboard.  Effective only for SDF billboards like Label glyphs.\n   * @memberof Billboard.prototype\n   * @type {Color}\n   * @private\n   */\n  outlineColor: {\n    get: function () {\n      return this._outlineColor;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      if (!defined(value)) {\n        throw new DeveloperError(\"value is required.\");\n      }\n      //>>includeEnd('debug');\n\n      const outlineColor = this._outlineColor;\n      if (!Color.equals(outlineColor, value)) {\n        Color.clone(value, outlineColor);\n        makeDirty(this, SDF_INDEX);\n      }\n    }\n  },\n  /**\n   * The outline width of this Billboard in pixels.  Effective only for SDF billboards like Label glyphs.\n   * @memberof Billboard.prototype\n   * @type {number}\n   * @private\n   */\n  outlineWidth: {\n    get: function () {\n      return this._outlineWidth;\n    },\n    set: function (value) {\n      if (this._outlineWidth !== value) {\n        this._outlineWidth = value;\n        makeDirty(this, SDF_INDEX);\n      }\n    }\n  },\n  /**\n   * Gets or sets the {@link SplitDirection} of this billboard.\n   * @memberof Billboard.prototype\n   * @type {SplitDirection}\n   * @default {@link SplitDirection.NONE}\n   */\n  splitDirection: {\n    get: function () {\n      return this._splitDirection;\n    },\n    set: function (value) {\n      if (this._splitDirection !== value) {\n        this._splitDirection = value;\n        makeDirty(this, SPLIT_DIRECTION_INDEX);\n      }\n    }\n  }\n});\nBillboard.prototype.getPickId = function (context) {\n  if (!defined(this._pickId)) {\n    this._pickId = context.createPickId({\n      primitive: this._pickPrimitive,\n      collection: this._collection,\n      id: this._id\n    });\n  }\n  return this._pickId;\n};\nBillboard.prototype._updateClamping = function () {\n  Billboard._updateClamping(this._billboardCollection, this);\n};\nconst scratchCartographic = new Cartographic();\nBillboard._updateClamping = function (collection, owner) {\n  if (!defined(collection) || !defined(collection._scene)) {\n    //>>includeStart('debug', pragmas.debug);\n    if (owner._heightReference !== HeightReference.NONE) {\n      throw new DeveloperError(\"Height reference is not supported without a scene.\");\n    }\n    //>>includeEnd('debug');\n    return;\n  }\n  const scene = collection._scene;\n  const ellipsoid = scene.ellipsoid ?? Ellipsoid.default;\n  const mode = scene.frameState.mode;\n  const modeChanged = mode !== owner._mode;\n  owner._mode = mode;\n  if ((owner._heightReference === HeightReference.NONE || modeChanged) && defined(owner._removeCallbackFunc)) {\n    owner._removeCallbackFunc();\n    owner._removeCallbackFunc = undefined;\n    owner._clampedPosition = undefined;\n  }\n  if (owner._heightReference === HeightReference.NONE || owner._positionFromParent || !defined(owner._position)) {\n    return;\n  }\n  if (defined(owner._removeCallbackFunc)) {\n    owner._removeCallbackFunc();\n  }\n  const position = ellipsoid.cartesianToCartographic(owner._position);\n  if (!defined(position)) {\n    owner._actualClampedPosition = undefined;\n    return;\n  }\n  function updateFunction(clampedPosition) {\n    const updatedClampedPosition = ellipsoid.cartographicToCartesian(clampedPosition, owner._clampedPosition);\n    if (isHeightReferenceRelative(owner._heightReference)) {\n      if (owner._mode === SceneMode.SCENE3D) {\n        clampedPosition.height += position.height;\n        ellipsoid.cartographicToCartesian(clampedPosition, updatedClampedPosition);\n      } else {\n        updatedClampedPosition.x += position.height;\n      }\n    }\n    owner._clampedPosition = updatedClampedPosition;\n  }\n  owner._removeCallbackFunc = scene.updateHeight(position, updateFunction, owner._heightReference);\n  Cartographic.clone(position, scratchCartographic);\n  const height = scene.getHeight(position, owner._heightReference);\n  if (defined(height)) {\n    scratchCartographic.height = height;\n  }\n  updateFunction(scratchCartographic);\n};\n\n/**\n * Get the texture coordinates for reading the loaded texture in shaders.\n * @param {BoundingRectangle} [result] The modified result parameter or a new BoundingRectangle instance if one was not provided.\n * @return {BoundingRectangle} The modified result parameter or a new BoundingRectangle instance if one was not provided.\n * @private\n */\nBillboard.prototype.computeTextureCoordinates = function (result) {\n  return this._imageTexture.computeTextureCoordinates(result);\n};\n\n/**\n * <p>\n * Sets the image to be used for this billboard.  If a texture has already been created for the\n * given id, the existing texture is used.\n * </p>\n * <p>\n * This function is useful for dynamically creating textures that are shared across many billboards.\n * Only the first billboard will actually call the function and create the texture, while subsequent\n * billboards created with the same id will simply re-use the existing texture.\n * </p>\n * <p>\n * To load an image from a URL, setting the {@link Billboard#image} property is more convenient.\n * </p>\n *\n * @param {string} id The id of the image.  This can be any string that uniquely identifies the image.\n * @param {HTMLImageElement|HTMLCanvasElement|string|Resource|Billboard.CreateImageCallback} image The image to load.  This parameter\n *        can either be a loaded Image or Canvas, a URL which will be loaded as an Image automatically,\n *        or a function which will be called to create the image if it hasn't been loaded already.\n * @example\n * // create a billboard image dynamically\n * function drawImage(id) {\n *   // create and draw an image using a canvas\n *   const canvas = document.createElement('canvas');\n *   const context2D = canvas.getContext('2d');\n *   // ... draw image\n *   return canvas;\n * }\n * // drawImage will be called to create the texture\n * b.setImage('myImage', drawImage);\n *\n * // subsequent billboards created in the same collection using the same id will use the existing\n * // texture, without the need to create the canvas or draw the image\n * b2.setImage('myImage', drawImage);\n */\nBillboard.prototype.setImage = function (id, image) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.string(\"id\", id);\n  Check.defined(\"image\", image);\n  //>>includeEnd('debug');\n\n  this._imageTexture.loadImage(id, image);\n};\n\n/**\n * Copy the values of an existing billboard texture into this one. Useful for prevent downtime for images that have already been loaded.\n * @private\n * @param {BillboardTexture} billboardTexture\n */\nBillboard.prototype.setImageTexture = function (billboardTexture) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"billboardTexture\", billboardTexture);\n  //>>includeEnd('debug');\n\n  BillboardTexture.clone(billboardTexture, this._imageTexture);\n};\n\n/**\n * Uses a sub-region of the image with the given id as the image for this billboard,\n * measured in pixels from the bottom-left.\n *\n * @param {string} id The id of the image to use.\n * @param {BoundingRectangle} subRegion The sub-region of the image.\n *\n * @exception {RuntimeError} image with id must be in the atlas\n */\nBillboard.prototype.setImageSubRegion = function (id, subRegion) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.string(\"id\", id);\n  Check.defined(\"subRegion\", subRegion);\n  //>>includeEnd('debug');\n\n  this._imageTexture.addImageSubRegion(id, subRegion);\n};\nBillboard.prototype._setTranslate = function (value) {\n  //>>includeStart('debug', pragmas.debug);\n  if (!defined(value)) {\n    throw new DeveloperError(\"value is required.\");\n  }\n  //>>includeEnd('debug');\n\n  const translate = this._translate;\n  if (!Cartesian2.equals(translate, value)) {\n    Cartesian2.clone(value, translate);\n    makeDirty(this, PIXEL_OFFSET_INDEX);\n  }\n};\nBillboard.prototype._getActualPosition = function () {\n  return defined(this._clampedPosition) ? this._clampedPosition : this._actualPosition;\n};\nBillboard.prototype._setActualPosition = function (value) {\n  if (!defined(this._clampedPosition)) {\n    Cartesian3.clone(value, this._actualPosition);\n  }\n  makeDirty(this, POSITION_INDEX);\n};\nconst tempCartesian3 = new Cartesian4();\nBillboard._computeActualPosition = function (billboard, position, frameState, modelMatrix) {\n  if (defined(billboard._clampedPosition)) {\n    if (frameState.mode !== billboard._mode) {\n      billboard._updateClamping();\n    }\n    return billboard._clampedPosition;\n  } else if (frameState.mode === SceneMode.SCENE3D) {\n    return position;\n  }\n  Matrix4.multiplyByPoint(modelMatrix, position, tempCartesian3);\n  return SceneTransforms.computeActualEllipsoidPosition(frameState, tempCartesian3);\n};\nconst scratchCartesian3 = new Cartesian3();\n\n// This function is basically a stripped-down JavaScript version of BillboardCollectionVS.glsl\nBillboard._computeScreenSpacePosition = function (modelMatrix, position, eyeOffset, pixelOffset, scene, result) {\n  // Model to world coordinates\n  const positionWorld = Matrix4.multiplyByPoint(modelMatrix, position, scratchCartesian3);\n\n  // World to window coordinates\n  const positionWC = SceneTransforms.worldWithEyeOffsetToWindowCoordinates(scene, positionWorld, eyeOffset, result);\n  if (!defined(positionWC)) {\n    return undefined;\n  }\n\n  // Apply pixel offset\n  Cartesian2.add(positionWC, pixelOffset, positionWC);\n  return positionWC;\n};\nconst scratchPixelOffset = new Cartesian2(0.0, 0.0);\n\n/**\n * Computes the screen-space position of the billboard's origin, taking into account eye and pixel offsets.\n * The screen space origin is the top, left corner of the canvas; <code>x</code> increases from\n * left to right, and <code>y</code> increases from top to bottom.\n *\n * @param {Scene} scene The scene.\n * @param {Cartesian2} [result] The object onto which to store the result.\n * @returns {Cartesian2} The screen-space position of the billboard.\n *\n * @exception {DeveloperError} Billboard must be in a collection.\n *\n * @example\n * console.log(b.computeScreenSpacePosition(scene).toString());\n *\n * @see Billboard#eyeOffset\n * @see Billboard#pixelOffset\n */\nBillboard.prototype.computeScreenSpacePosition = function (scene, result) {\n  const billboardCollection = this._billboardCollection;\n  if (!defined(result)) {\n    result = new Cartesian2();\n  }\n\n  //>>includeStart('debug', pragmas.debug);\n  if (!defined(billboardCollection)) {\n    throw new DeveloperError(\"Billboard must be in a collection.  Was it removed?\");\n  }\n  if (!defined(scene)) {\n    throw new DeveloperError(\"scene is required.\");\n  }\n  //>>includeEnd('debug');\n\n  // pixel offset for screen space computation is the pixelOffset + screen space translate\n  Cartesian2.clone(this._pixelOffset, scratchPixelOffset);\n  Cartesian2.add(scratchPixelOffset, this._translate, scratchPixelOffset);\n  let modelMatrix = billboardCollection.modelMatrix;\n  let position = this._position;\n  if (defined(this._clampedPosition)) {\n    position = this._clampedPosition;\n    if (scene.mode !== SceneMode.SCENE3D) {\n      // position needs to be in world coordinates\n      const projection = scene.mapProjection;\n      const ellipsoid = projection.ellipsoid;\n      const cart = projection.unproject(position, scratchCartographic);\n      position = ellipsoid.cartographicToCartesian(cart, scratchCartesian3);\n      modelMatrix = Matrix4.IDENTITY;\n    }\n  }\n  const windowCoordinates = Billboard._computeScreenSpacePosition(modelMatrix, position, this._eyeOffset, scratchPixelOffset, scene, result);\n  return windowCoordinates;\n};\n\n/**\n * Gets a billboard's screen space bounding box centered around screenSpacePosition.\n * @param {Billboard} billboard The billboard to get the screen space bounding box for.\n * @param {Cartesian2} screenSpacePosition The screen space center of the label.\n * @param {BoundingRectangle} [result] The object onto which to store the result.\n * @returns {BoundingRectangle} The screen space bounding box.\n *\n * @private\n */\nBillboard.getScreenSpaceBoundingBox = function (billboard, screenSpacePosition, result) {\n  let width = billboard.width;\n  let height = billboard.height;\n  const scale = billboard.scale;\n  width *= scale;\n  height *= scale;\n  let x = screenSpacePosition.x;\n  if (billboard.horizontalOrigin === HorizontalOrigin.RIGHT) {\n    x -= width;\n  } else if (billboard.horizontalOrigin === HorizontalOrigin.CENTER) {\n    x -= width * 0.5;\n  }\n  let y = screenSpacePosition.y;\n  if (billboard.verticalOrigin === VerticalOrigin.BOTTOM || billboard.verticalOrigin === VerticalOrigin.BASELINE) {\n    y -= height;\n  } else if (billboard.verticalOrigin === VerticalOrigin.CENTER) {\n    y -= height * 0.5;\n  }\n  if (!defined(result)) {\n    result = new BoundingRectangle();\n  }\n  result.x = x;\n  result.y = y;\n  result.width = width;\n  result.height = height;\n  return result;\n};\n\n/**\n * Determines if this billboard equals another billboard.  Billboards are equal if all their properties\n * are equal.  Billboards in different collections can be equal.\n *\n * @param {Billboard} [other] The billboard to compare for equality.\n * @returns {boolean} <code>true</code> if the billboards are equal; otherwise, <code>false</code>.\n */\nBillboard.prototype.equals = function (other) {\n  return this === other || defined(other) && this._id === other._id && Cartesian3.equals(this._position, other._position) && this.image === other.image && this._show === other._show && this._scale === other._scale && this._verticalOrigin === other._verticalOrigin && this._horizontalOrigin === other._horizontalOrigin && this._heightReference === other._heightReference && Color.equals(this._color, other._color) && Cartesian2.equals(this._pixelOffset, other._pixelOffset) && Cartesian2.equals(this._translate, other._translate) && Cartesian3.equals(this._eyeOffset, other._eyeOffset) && NearFarScalar.equals(this._scaleByDistance, other._scaleByDistance) && NearFarScalar.equals(this._translucencyByDistance, other._translucencyByDistance) && NearFarScalar.equals(this._pixelOffsetScaleByDistance, other._pixelOffsetScaleByDistance) && DistanceDisplayCondition.equals(this._distanceDisplayCondition, other._distanceDisplayCondition) && this._disableDepthTestDistance === other._disableDepthTestDistance && this._splitDirection === other._splitDirection;\n};\nBillboard.prototype._destroy = function () {\n  if (defined(this._customData)) {\n    this._billboardCollection._scene.globe._surface.removeTileCustomData(this._customData);\n    this._customData = undefined;\n  }\n  if (defined(this._removeCallbackFunc)) {\n    this._removeCallbackFunc();\n    this._removeCallbackFunc = undefined;\n  }\n  this.image = undefined;\n  this._pickId = this._pickId && this._pickId.destroy();\n  this._billboardCollection = undefined;\n};\n\n/**\n * A function that creates an image.\n * @callback Billboard.CreateImageCallback\n * @param {string} id The identifier of the image to load.\n * @returns {HTMLImageElement|HTMLCanvasElement|Promise<HTMLImageElement|HTMLCanvasElement>} The image, or a promise that will resolve to an image.\n */\nexport default Billboard;","map":{"version":3,"names":["BoundingRectangle","Cartesian2","Cartesian3","Cartesian4","Cartographic","Check","Color","createGuid","Frozen","defined","DeveloperError","DistanceDisplayCondition","Ellipsoid","Matrix4","NearFarScalar","Resource","BillboardTexture","HeightReference","isHeightReferenceRelative","HorizontalOrigin","SceneMode","SceneTransforms","VerticalOrigin","SplitDirection","Billboard","options","billboardCollection","EMPTY_OBJECT","disableDepthTestDistance","translucencyByDistance","pixelOffsetScaleByDistance","scaleByDistance","distanceDisplayCondition","far","near","clone","_show","show","_position","position","ZERO","_actualPosition","_pixelOffset","pixelOffset","_translate","_eyeOffset","eyeOffset","_heightReference","heightReference","NONE","_verticalOrigin","verticalOrigin","CENTER","_horizontalOrigin","horizontalOrigin","_scale","scale","_color","color","WHITE","_rotation","rotation","_alignedAxis","alignedAxis","_width","width","_height","height","_scaleByDistance","_translucencyByDistance","_pixelOffsetScaleByDistance","_sizeInMeters","sizeInMeters","_distanceDisplayCondition","_disableDepthTestDistance","_id","id","_collection","collection","_pickId","undefined","_pickPrimitive","_billboardCollection","_dirty","_index","_batchIndex","_imageTexture","_imageWidth","_imageHeight","_labelDimensions","_labelHorizontalOrigin","_labelTranslate","image","imageId","src","loadImage","imageSubRegion","addImageSubRegion","_actualClampedPosition","_removeCallbackFunc","_mode","SCENE3D","_clusterShow","_outlineColor","outlineColor","BLACK","_outlineWidth","outlineWidth","_updateClamping","_splitDirection","splitDirection","_positionFromParent","SHOW_INDEX","POSITION_INDEX","PIXEL_OFFSET_INDEX","EYE_OFFSET_INDEX","HORIZONTAL_ORIGIN_INDEX","VERTICAL_ORIGIN_INDEX","SCALE_INDEX","IMAGE_INDEX_INDEX","COLOR_INDEX","ROTATION_INDEX","ALIGNED_AXIS_INDEX","SCALE_BY_DISTANCE_INDEX","TRANSLUCENCY_BY_DISTANCE_INDEX","PIXEL_OFFSET_SCALE_BY_DISTANCE_INDEX","DISTANCE_DISPLAY_CONDITION","DISABLE_DEPTH_DISTANCE","TEXTURE_COORDINATE_BOUNDS","SDF_INDEX","SPLIT_DIRECTION_INDEX","NUMBER_OF_PROPERTIES","makeDirty","billboard","propertyChanged","_updateBillboard","Object","defineProperties","prototype","get","set","value","typeOf","bool","object","equals","number","pickPrimitive","primitive","pickId","unload","_url","ready","loadError","textureDirty","dirty","_clampedPosition","clusterShow","getPickId","context","createPickId","scratchCartographic","owner","_scene","scene","ellipsoid","default","mode","frameState","modeChanged","cartesianToCartographic","updateFunction","clampedPosition","updatedClampedPosition","cartographicToCartesian","x","updateHeight","getHeight","computeTextureCoordinates","result","setImage","string","setImageTexture","billboardTexture","setImageSubRegion","subRegion","_setTranslate","translate","_getActualPosition","_setActualPosition","tempCartesian3","_computeActualPosition","modelMatrix","multiplyByPoint","computeActualEllipsoidPosition","scratchCartesian3","_computeScreenSpacePosition","positionWorld","positionWC","worldWithEyeOffsetToWindowCoordinates","add","scratchPixelOffset","computeScreenSpacePosition","projection","mapProjection","cart","unproject","IDENTITY","windowCoordinates","getScreenSpaceBoundingBox","screenSpacePosition","RIGHT","y","BOTTOM","BASELINE","other","_destroy","_customData","globe","_surface","removeTileCustomData","destroy"],"sources":["D:/projects/FlightHub-2-Frontend-Standalone-Component/frontend/node_modules/@cesium/engine/Source/Scene/Billboard.js"],"sourcesContent":["import BoundingRectangle from \"../Core/BoundingRectangle.js\";\nimport Cartesian2 from \"../Core/Cartesian2.js\";\nimport Cartesian3 from \"../Core/Cartesian3.js\";\nimport Cartesian4 from \"../Core/Cartesian4.js\";\nimport Cartographic from \"../Core/Cartographic.js\";\nimport Check from \"../Core/Check.js\";\nimport Color from \"../Core/Color.js\";\nimport createGuid from \"../Core/createGuid.js\";\nimport Frozen from \"../Core/Frozen.js\";\nimport defined from \"../Core/defined.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport DistanceDisplayCondition from \"../Core/DistanceDisplayCondition.js\";\nimport Ellipsoid from \"../Core/Ellipsoid.js\";\nimport Matrix4 from \"../Core/Matrix4.js\";\nimport NearFarScalar from \"../Core/NearFarScalar.js\";\nimport Resource from \"../Core/Resource.js\";\nimport BillboardTexture from \"./BillboardTexture.js\";\nimport HeightReference, {\n  isHeightReferenceRelative,\n} from \"./HeightReference.js\";\nimport HorizontalOrigin from \"./HorizontalOrigin.js\";\nimport SceneMode from \"./SceneMode.js\";\nimport SceneTransforms from \"./SceneTransforms.js\";\nimport VerticalOrigin from \"./VerticalOrigin.js\";\nimport SplitDirection from \"./SplitDirection.js\";\n\n/**\n * @typedef {object} Billboard.ConstructorOptions\n *\n * Initialization options for the first param of Billboard constructor\n *\n * @property {Cartesian3} position The cartesian position of the billboard.\n * @property {*} [id] A user-defined object to return when the billboard is picked with {@link Scene#pick}.\n * @property {boolean} [show=true] Determines if this billboard will be shown.\n * @property {string | HTMLCanvasElement} [image] A loaded HTMLImageElement, ImageData, or a url to an image to use for the billboard.\n * @property {number} [scale=1.0] A number specifying the uniform scale that is multiplied with the billboard's image size in pixels.\n * @property {Cartesian2} [pixelOffset=Cartesian2.ZERO] A {@link Cartesian2} Specifying the pixel offset in screen space from the origin of this billboard.\n * @property {Cartesian3} [eyeOffset=Cartesian3.ZERO] A {@link Cartesian3} Specifying the 3D Cartesian offset applied to this billboard in eye coordinates.\n * @property {HorizontalOrigin} [horizontalOrigin=HorizontalOrigin.CENTER] A {@link HorizontalOrigin} Specifying the horizontal origin of this billboard.\n * @property {VerticalOrigin} [verticalOrigin=VerticalOrigin.CENTER] A {@link VerticalOrigin} Specifying the vertical origin of this billboard.\n * @property {HeightReference} [heightReference=HeightReference.NONE] A {@link HeightReference} Specifying the height reference of this billboard.\n * @property {Color} [color=Color.WHITE] A {@link Color} Specifying the color that is multiplied with the billboard's texture.\n * @property {number} [rotation=0] A number specifying the rotation angle in radians.\n * @property {Cartesian3} [alignedAxis=Cartesian3.ZERO] A {@link Cartesian3} Specifying the aligned axis in world space.\n * @property {boolean} [sizeInMeters] A boolean specifying if the billboard size is in meters or pixels.\n * @property {number} [width] A number specifying the width of the billboard. If undefined, the image width will be used.\n * @property {number} [height] A number specifying the height of the billboard. If undefined, the image height will be used.\n * @property {NearFarScalar} [scaleByDistance] A {@link NearFarScalar} Specifying near and far scaling properties of a Billboard based on the billboard's distance from the camera.\n * @property {NearFarScalar} [translucencyByDistance] A {@link NearFarScalar} Specifying near and far translucency properties of a Billboard based on the billboard's distance from the camera.\n * @property {NearFarScalar} [pixelOffsetScaleByDistance] A {@link NearFarScalar} Specifying near and far pixel offset scaling properties of a Billboard based on the billboard's distance from the camera.\n * @property {BoundingRectangle} [imageSubRegion] A {@link BoundingRectangle} Specifying the sub-region of the image to use for the billboard, rather than the entire image.\n * @property {DistanceDisplayCondition} [distanceDisplayCondition] A {@link DistanceDisplayCondition} Specifying the distance from the camera at which this billboard will be displayed.\n * @property {number} [disableDepthTestDistance] A number specifying the distance from the camera at which to disable the depth test to, for example, prevent clipping against terrain.\n * @property {SplitDirection} [splitDirection] A {@link SplitDirection} Specifying the split property of the billboard.\n */\n\n/**\n * <div class=\"notice\">\n * A billboard is created and its initial\n * properties are set by calling {@link BillboardCollection#add}. Do not call the constructor directly.\n * </div>\n * A viewport-aligned image positioned in the 3D scene, that is created\n * and rendered using a {@link BillboardCollection}.\n * <br /><br />\n * <div align='center'>\n * <img src='Images/Billboard.png' width='400' height='300' /><br />\n * Example billboards\n * </div>\n *\n * @alias Billboard\n *\n * @performance Reading a property, e.g., {@link Billboard#show}, is constant time.\n * Assigning to a property is constant time but results in\n * CPU to GPU traffic when {@link BillboardCollection#update} is called.  The per-billboard traffic is\n * the same regardless of how many properties were updated.  If most billboards in a collection need to be\n * updated, it may be more efficient to clear the collection with {@link BillboardCollection#removeAll}\n * and add new billboards instead of modifying each one.\n *\n * @exception {DeveloperError} scaleByDistance.far must be greater than scaleByDistance.near\n * @exception {DeveloperError} translucencyByDistance.far must be greater than translucencyByDistance.near\n * @exception {DeveloperError} pixelOffsetScaleByDistance.far must be greater than pixelOffsetScaleByDistance.near\n * @exception {DeveloperError} distanceDisplayCondition.far must be greater than distanceDisplayCondition.near\n *\n * @see BillboardCollection\n * @see BillboardCollection#add\n * @see Label\n *\n * @internalConstructor\n * @class\n *\n * @param {Billboard.ConstructorOptions} options Object describing initialization options\n * @param {BillboardCollection} billboardCollection Instance of BillboardCollection\n *\n * @demo {@link https://sandcastle.cesium.com/index.html?src=Billboards.html|Cesium Sandcastle Billboard Demo}\n */\nfunction Billboard(options, billboardCollection) {\n  options = options ?? Frozen.EMPTY_OBJECT;\n\n  //>>includeStart('debug', pragmas.debug);\n  if (\n    defined(options.disableDepthTestDistance) &&\n    options.disableDepthTestDistance < 0.0\n  ) {\n    throw new DeveloperError(\n      \"disableDepthTestDistance must be greater than or equal to 0.0.\",\n    );\n  }\n  //>>includeEnd('debug');\n\n  let translucencyByDistance = options.translucencyByDistance;\n  let pixelOffsetScaleByDistance = options.pixelOffsetScaleByDistance;\n  let scaleByDistance = options.scaleByDistance;\n  let distanceDisplayCondition = options.distanceDisplayCondition;\n  if (defined(translucencyByDistance)) {\n    //>>includeStart('debug', pragmas.debug);\n    if (translucencyByDistance.far <= translucencyByDistance.near) {\n      throw new DeveloperError(\n        \"translucencyByDistance.far must be greater than translucencyByDistance.near.\",\n      );\n    }\n    //>>includeEnd('debug');\n    translucencyByDistance = NearFarScalar.clone(translucencyByDistance);\n  }\n  if (defined(pixelOffsetScaleByDistance)) {\n    //>>includeStart('debug', pragmas.debug);\n    if (pixelOffsetScaleByDistance.far <= pixelOffsetScaleByDistance.near) {\n      throw new DeveloperError(\n        \"pixelOffsetScaleByDistance.far must be greater than pixelOffsetScaleByDistance.near.\",\n      );\n    }\n    //>>includeEnd('debug');\n    pixelOffsetScaleByDistance = NearFarScalar.clone(\n      pixelOffsetScaleByDistance,\n    );\n  }\n  if (defined(scaleByDistance)) {\n    //>>includeStart('debug', pragmas.debug);\n    if (scaleByDistance.far <= scaleByDistance.near) {\n      throw new DeveloperError(\n        \"scaleByDistance.far must be greater than scaleByDistance.near.\",\n      );\n    }\n    //>>includeEnd('debug');\n    scaleByDistance = NearFarScalar.clone(scaleByDistance);\n  }\n  if (defined(distanceDisplayCondition)) {\n    //>>includeStart('debug', pragmas.debug);\n    if (distanceDisplayCondition.far <= distanceDisplayCondition.near) {\n      throw new DeveloperError(\n        \"distanceDisplayCondition.far must be greater than distanceDisplayCondition.near.\",\n      );\n    }\n    //>>includeEnd('debug');\n    distanceDisplayCondition = DistanceDisplayCondition.clone(\n      distanceDisplayCondition,\n    );\n  }\n\n  this._show = options.show ?? true;\n  this._position = Cartesian3.clone(options.position ?? Cartesian3.ZERO);\n  this._actualPosition = Cartesian3.clone(this._position); // For columbus view and 2D\n  this._pixelOffset = Cartesian2.clone(options.pixelOffset ?? Cartesian2.ZERO);\n  this._translate = new Cartesian2(0.0, 0.0); // used by labels for glyph vertex translation\n  this._eyeOffset = Cartesian3.clone(options.eyeOffset ?? Cartesian3.ZERO);\n  this._heightReference = options.heightReference ?? HeightReference.NONE;\n  this._verticalOrigin = options.verticalOrigin ?? VerticalOrigin.CENTER;\n  this._horizontalOrigin = options.horizontalOrigin ?? HorizontalOrigin.CENTER;\n  this._scale = options.scale ?? 1.0;\n  this._color = Color.clone(options.color ?? Color.WHITE);\n  this._rotation = options.rotation ?? 0.0;\n  this._alignedAxis = Cartesian3.clone(options.alignedAxis ?? Cartesian3.ZERO);\n  this._width = options.width;\n  this._height = options.height;\n  this._scaleByDistance = scaleByDistance;\n  this._translucencyByDistance = translucencyByDistance;\n  this._pixelOffsetScaleByDistance = pixelOffsetScaleByDistance;\n  this._sizeInMeters = options.sizeInMeters ?? false;\n  this._distanceDisplayCondition = distanceDisplayCondition;\n  this._disableDepthTestDistance = options.disableDepthTestDistance;\n  this._id = options.id;\n  this._collection = options.collection ?? billboardCollection; // Used only for pick ids\n\n  this._pickId = undefined;\n  this._pickPrimitive = options._pickPrimitive ?? this;\n\n  this._billboardCollection = billboardCollection;\n  this._dirty = false;\n  this._index = -1; // Used only by BillboardCollection\n  this._batchIndex = undefined; // Used only by Vector3DTilePoints and BillboardCollection\n\n  this._imageTexture = new BillboardTexture(billboardCollection);\n  this._imageWidth = undefined;\n  this._imageHeight = undefined;\n\n  this._labelDimensions = undefined;\n  this._labelHorizontalOrigin = undefined;\n  this._labelTranslate = undefined;\n\n  const image = options.image;\n  let imageId = options.imageId;\n  if (defined(image)) {\n    if (!defined(imageId)) {\n      if (typeof image === \"string\") {\n        imageId = image;\n      } else if (defined(image.src)) {\n        imageId = image.src;\n      } else {\n        imageId = createGuid();\n      }\n    }\n\n    this._imageTexture.loadImage(imageId, image);\n  }\n\n  if (defined(options.imageSubRegion)) {\n    this._imageTexture.addImageSubRegion(imageId, options.imageSubRegion);\n  }\n\n  this._actualClampedPosition = undefined;\n  this._removeCallbackFunc = undefined;\n  this._mode = SceneMode.SCENE3D;\n\n  this._clusterShow = true;\n  this._outlineColor = Color.clone(options.outlineColor ?? Color.BLACK);\n  this._outlineWidth = options.outlineWidth ?? 0.0;\n\n  this._updateClamping();\n\n  this._splitDirection = options.splitDirection ?? SplitDirection.NONE;\n  // Primarily used by labels to indicate that the position is derived from the parent.\n  // and expensive operations like clamping can be skipped.\n  this._positionFromParent = false;\n}\n\nconst SHOW_INDEX = (Billboard.SHOW_INDEX = 0);\nconst POSITION_INDEX = (Billboard.POSITION_INDEX = 1);\nconst PIXEL_OFFSET_INDEX = (Billboard.PIXEL_OFFSET_INDEX = 2);\nconst EYE_OFFSET_INDEX = (Billboard.EYE_OFFSET_INDEX = 3);\nconst HORIZONTAL_ORIGIN_INDEX = (Billboard.HORIZONTAL_ORIGIN_INDEX = 4);\nconst VERTICAL_ORIGIN_INDEX = (Billboard.VERTICAL_ORIGIN_INDEX = 5);\nconst SCALE_INDEX = (Billboard.SCALE_INDEX = 6);\nconst IMAGE_INDEX_INDEX = (Billboard.IMAGE_INDEX_INDEX = 7);\nconst COLOR_INDEX = (Billboard.COLOR_INDEX = 8);\nconst ROTATION_INDEX = (Billboard.ROTATION_INDEX = 9);\nconst ALIGNED_AXIS_INDEX = (Billboard.ALIGNED_AXIS_INDEX = 10);\nconst SCALE_BY_DISTANCE_INDEX = (Billboard.SCALE_BY_DISTANCE_INDEX = 11);\nconst TRANSLUCENCY_BY_DISTANCE_INDEX =\n  (Billboard.TRANSLUCENCY_BY_DISTANCE_INDEX = 12);\nconst PIXEL_OFFSET_SCALE_BY_DISTANCE_INDEX =\n  (Billboard.PIXEL_OFFSET_SCALE_BY_DISTANCE_INDEX = 13);\nconst DISTANCE_DISPLAY_CONDITION = (Billboard.DISTANCE_DISPLAY_CONDITION = 14);\nconst DISABLE_DEPTH_DISTANCE = (Billboard.DISABLE_DEPTH_DISTANCE = 15);\nBillboard.TEXTURE_COORDINATE_BOUNDS = 16;\nconst SDF_INDEX = (Billboard.SDF_INDEX = 17);\nconst SPLIT_DIRECTION_INDEX = (Billboard.SPLIT_DIRECTION_INDEX = 18);\nBillboard.NUMBER_OF_PROPERTIES = 19;\n\nfunction makeDirty(billboard, propertyChanged) {\n  const billboardCollection = billboard._billboardCollection;\n  if (defined(billboardCollection)) {\n    billboardCollection._updateBillboard(billboard, propertyChanged);\n    billboard._dirty = true;\n  }\n}\n\nObject.defineProperties(Billboard.prototype, {\n  /**\n   * Determines if this billboard will be shown.  Use this to hide or show a billboard, instead\n   * of removing it and re-adding it to the collection.\n   * @memberof Billboard.prototype\n   * @type {boolean}\n   * @default true\n   */\n  show: {\n    get: function () {\n      return this._show;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      Check.typeOf.bool(\"value\", value);\n      //>>includeEnd('debug');\n\n      if (this._show !== value) {\n        this._show = value;\n        makeDirty(this, SHOW_INDEX);\n      }\n    },\n  },\n\n  /**\n   * Gets or sets the Cartesian position of this billboard.\n   * @memberof Billboard.prototype\n   * @type {Cartesian3}\n   */\n  position: {\n    get: function () {\n      return this._position;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug)\n      Check.typeOf.object(\"value\", value);\n      //>>includeEnd('debug');\n\n      const position = this._position;\n      if (!Cartesian3.equals(position, value)) {\n        Cartesian3.clone(value, position);\n        Cartesian3.clone(value, this._actualPosition);\n        this._updateClamping();\n        makeDirty(this, POSITION_INDEX);\n      }\n    },\n  },\n\n  /**\n   * Gets or sets the height reference of this billboard.\n   * @memberof Billboard.prototype\n   * @type {HeightReference}\n   * @default HeightReference.NONE\n   */\n  heightReference: {\n    get: function () {\n      return this._heightReference;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug)\n      Check.typeOf.number(\"value\", value);\n      //>>includeEnd('debug');\n\n      const heightReference = this._heightReference;\n      if (value !== heightReference) {\n        this._heightReference = value;\n        this._updateClamping();\n        makeDirty(this, POSITION_INDEX);\n      }\n    },\n  },\n\n  /**\n   * Gets or sets the pixel offset in screen space from the origin of this billboard.  This is commonly used\n   * to align multiple billboards and labels at the same position, e.g., an image and text.  The\n   * screen space origin is the top, left corner of the canvas; <code>x</code> increases from\n   * left to right, and <code>y</code> increases from top to bottom.\n   * <br /><br />\n   * <div align='center'>\n   * <table border='0' cellpadding='5'><tr>\n   * <td align='center'><code>default</code><br/><img src='Images/Billboard.setPixelOffset.default.png' width='250' height='188' /></td>\n   * <td align='center'><code>b.pixeloffset = new Cartesian2(50, 25);</code><br/><img src='Images/Billboard.setPixelOffset.x50y-25.png' width='250' height='188' /></td>\n   * </tr></table>\n   * The billboard's origin is indicated by the yellow point.\n   * </div>\n   * @memberof Billboard.prototype\n   * @type {Cartesian2}\n   */\n  pixelOffset: {\n    get: function () {\n      return this._pixelOffset;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      Check.typeOf.object(\"value\", value);\n      //>>includeEnd('debug');\n\n      const pixelOffset = this._pixelOffset;\n      if (!Cartesian2.equals(pixelOffset, value)) {\n        Cartesian2.clone(value, pixelOffset);\n        makeDirty(this, PIXEL_OFFSET_INDEX);\n      }\n    },\n  },\n\n  /**\n   * Gets or sets near and far scaling properties of a Billboard based on the billboard's distance from the camera.\n   * A billboard's scale will interpolate between the {@link NearFarScalar#nearValue} and\n   * {@link NearFarScalar#farValue} while the camera distance falls within the lower and upper bounds\n   * of the specified {@link NearFarScalar#near} and {@link NearFarScalar#far}.\n   * Outside of these ranges the billboard's scale remains clamped to the nearest bound.  If undefined,\n   * scaleByDistance will be disabled.\n   * @memberof Billboard.prototype\n   * @type {NearFarScalar}\n   *\n   * @example\n   * // Example 1.\n   * // Set a billboard's scaleByDistance to scale by 1.5 when the\n   * // camera is 1500 meters from the billboard and disappear as\n   * // the camera distance approaches 8.0e6 meters.\n   * b.scaleByDistance = new Cesium.NearFarScalar(1.5e2, 1.5, 8.0e6, 0.0);\n   *\n   * @example\n   * // Example 2.\n   * // disable scaling by distance\n   * b.scaleByDistance = undefined;\n   */\n  scaleByDistance: {\n    get: function () {\n      return this._scaleByDistance;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      if (defined(value)) {\n        Check.typeOf.object(\"value\", value);\n        if (value.far <= value.near) {\n          throw new DeveloperError(\n            \"far distance must be greater than near distance.\",\n          );\n        }\n      }\n      //>>includeEnd('debug');\n\n      const scaleByDistance = this._scaleByDistance;\n      if (!NearFarScalar.equals(scaleByDistance, value)) {\n        this._scaleByDistance = NearFarScalar.clone(value, scaleByDistance);\n        makeDirty(this, SCALE_BY_DISTANCE_INDEX);\n      }\n    },\n  },\n\n  /**\n   * Gets or sets near and far translucency properties of a Billboard based on the billboard's distance from the camera.\n   * A billboard's translucency will interpolate between the {@link NearFarScalar#nearValue} and\n   * {@link NearFarScalar#farValue} while the camera distance falls within the lower and upper bounds\n   * of the specified {@link NearFarScalar#near} and {@link NearFarScalar#far}.\n   * Outside of these ranges the billboard's translucency remains clamped to the nearest bound.  If undefined,\n   * translucencyByDistance will be disabled.\n   * @memberof Billboard.prototype\n   * @type {NearFarScalar}\n   *\n   * @example\n   * // Example 1.\n   * // Set a billboard's translucency to 1.0 when the\n   * // camera is 1500 meters from the billboard and disappear as\n   * // the camera distance approaches 8.0e6 meters.\n   * b.translucencyByDistance = new Cesium.NearFarScalar(1.5e2, 1.0, 8.0e6, 0.0);\n   *\n   * @example\n   * // Example 2.\n   * // disable translucency by distance\n   * b.translucencyByDistance = undefined;\n   */\n  translucencyByDistance: {\n    get: function () {\n      return this._translucencyByDistance;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      if (defined(value)) {\n        Check.typeOf.object(\"value\", value);\n        if (value.far <= value.near) {\n          throw new DeveloperError(\n            \"far distance must be greater than near distance.\",\n          );\n        }\n      }\n      //>>includeEnd('debug');\n\n      const translucencyByDistance = this._translucencyByDistance;\n      if (!NearFarScalar.equals(translucencyByDistance, value)) {\n        this._translucencyByDistance = NearFarScalar.clone(\n          value,\n          translucencyByDistance,\n        );\n        makeDirty(this, TRANSLUCENCY_BY_DISTANCE_INDEX);\n      }\n    },\n  },\n\n  /**\n   * Gets or sets near and far pixel offset scaling properties of a Billboard based on the billboard's distance from the camera.\n   * A billboard's pixel offset will be scaled between the {@link NearFarScalar#nearValue} and\n   * {@link NearFarScalar#farValue} while the camera distance falls within the lower and upper bounds\n   * of the specified {@link NearFarScalar#near} and {@link NearFarScalar#far}.\n   * Outside of these ranges the billboard's pixel offset scale remains clamped to the nearest bound.  If undefined,\n   * pixelOffsetScaleByDistance will be disabled.\n   * @memberof Billboard.prototype\n   * @type {NearFarScalar}\n   *\n   * @example\n   * // Example 1.\n   * // Set a billboard's pixel offset scale to 0.0 when the\n   * // camera is 1500 meters from the billboard and scale pixel offset to 10.0 pixels\n   * // in the y direction the camera distance approaches 8.0e6 meters.\n   * b.pixelOffset = new Cesium.Cartesian2(0.0, 1.0);\n   * b.pixelOffsetScaleByDistance = new Cesium.NearFarScalar(1.5e2, 0.0, 8.0e6, 10.0);\n   *\n   * @example\n   * // Example 2.\n   * // disable pixel offset by distance\n   * b.pixelOffsetScaleByDistance = undefined;\n   */\n  pixelOffsetScaleByDistance: {\n    get: function () {\n      return this._pixelOffsetScaleByDistance;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      if (defined(value)) {\n        Check.typeOf.object(\"value\", value);\n        if (value.far <= value.near) {\n          throw new DeveloperError(\n            \"far distance must be greater than near distance.\",\n          );\n        }\n      }\n      //>>includeEnd('debug');\n\n      const pixelOffsetScaleByDistance = this._pixelOffsetScaleByDistance;\n      if (!NearFarScalar.equals(pixelOffsetScaleByDistance, value)) {\n        this._pixelOffsetScaleByDistance = NearFarScalar.clone(\n          value,\n          pixelOffsetScaleByDistance,\n        );\n        makeDirty(this, PIXEL_OFFSET_SCALE_BY_DISTANCE_INDEX);\n      }\n    },\n  },\n\n  /**\n   * Gets or sets the 3D Cartesian offset applied to this billboard in eye coordinates.  Eye coordinates is a left-handed\n   * coordinate system, where <code>x</code> points towards the viewer's right, <code>y</code> points up, and\n   * <code>z</code> points into the screen.  Eye coordinates use the same scale as world and model coordinates,\n   * which is typically meters.\n   * <br /><br />\n   * An eye offset is commonly used to arrange multiple billboards or objects at the same position, e.g., to\n   * arrange a billboard above its corresponding 3D model.\n   * <br /><br />\n   * Below, the billboard is positioned at the center of the Earth but an eye offset makes it always\n   * appear on top of the Earth regardless of the viewer's or Earth's orientation.\n   * <br /><br />\n   * <div align='center'>\n   * <table border='0' cellpadding='5'><tr>\n   * <td align='center'><img src='Images/Billboard.setEyeOffset.one.png' width='250' height='188' /></td>\n   * <td align='center'><img src='Images/Billboard.setEyeOffset.two.png' width='250' height='188' /></td>\n   * </tr></table>\n   * <code>b.eyeOffset = new Cartesian3(0.0, 8000000.0, 0.0);</code><br /><br />\n   * </div>\n   * @memberof Billboard.prototype\n   * @type {Cartesian3}\n   */\n  eyeOffset: {\n    get: function () {\n      return this._eyeOffset;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      Check.typeOf.object(\"value\", value);\n      //>>includeEnd('debug');\n\n      const eyeOffset = this._eyeOffset;\n      if (!Cartesian3.equals(eyeOffset, value)) {\n        Cartesian3.clone(value, eyeOffset);\n        makeDirty(this, EYE_OFFSET_INDEX);\n      }\n    },\n  },\n\n  /**\n   * Gets or sets the horizontal origin of this billboard, which determines if the billboard is\n   * to the left, center, or right of its anchor position.\n   * <br /><br />\n   * <div align='center'>\n   * <img src='Images/Billboard.setHorizontalOrigin.png' width='648' height='196' /><br />\n   * </div>\n   * @memberof Billboard.prototype\n   * @type {HorizontalOrigin}\n   * @example\n   * // Use a bottom, left origin\n   * b.horizontalOrigin = Cesium.HorizontalOrigin.LEFT;\n   * b.verticalOrigin = Cesium.VerticalOrigin.BOTTOM;\n   */\n  horizontalOrigin: {\n    get: function () {\n      return this._horizontalOrigin;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      Check.typeOf.number(\"value\", value);\n      //>>includeEnd('debug');\n\n      if (this._horizontalOrigin !== value) {\n        this._horizontalOrigin = value;\n        makeDirty(this, HORIZONTAL_ORIGIN_INDEX);\n      }\n    },\n  },\n\n  /**\n   * Gets or sets the vertical origin of this billboard, which determines if the billboard is\n   * to the above, below, or at the center of its anchor position.\n   * <br /><br />\n   * <div align='center'>\n   * <img src='Images/Billboard.setVerticalOrigin.png' width='695' height='175' /><br />\n   * </div>\n   * @memberof Billboard.prototype\n   * @type {VerticalOrigin}\n   * @example\n   * // Use a bottom, left origin\n   * b.horizontalOrigin = Cesium.HorizontalOrigin.LEFT;\n   * b.verticalOrigin = Cesium.VerticalOrigin.BOTTOM;\n   */\n  verticalOrigin: {\n    get: function () {\n      return this._verticalOrigin;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      Check.typeOf.number(\"value\", value);\n      //>>includeEnd('debug');\n\n      if (this._verticalOrigin !== value) {\n        this._verticalOrigin = value;\n        makeDirty(this, VERTICAL_ORIGIN_INDEX);\n      }\n    },\n  },\n\n  /**\n   * Gets or sets the uniform scale that is multiplied with the billboard's image size in pixels.\n   * A scale of <code>1.0</code> does not change the size of the billboard; a scale greater than\n   * <code>1.0</code> enlarges the billboard; a positive scale less than <code>1.0</code> shrinks\n   * the billboard.\n   * <br /><br />\n   * <div align='center'>\n   * <img src='Images/Billboard.setScale.png' width='400' height='300' /><br/>\n   * From left to right in the above image, the scales are <code>0.5</code>, <code>1.0</code>,\n   * and <code>2.0</code>.\n   * </div>\n   * @memberof Billboard.prototype\n   * @type {number}\n   */\n  scale: {\n    get: function () {\n      return this._scale;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      Check.typeOf.number(\"value\", value);\n      //>>includeEnd('debug');\n\n      if (this._scale !== value) {\n        this._scale = value;\n        makeDirty(this, SCALE_INDEX);\n      }\n    },\n  },\n\n  /**\n   * Gets or sets the color that is multiplied with the billboard's texture.  This has two common use cases.  First,\n   * the same white texture may be used by many different billboards, each with a different color, to create\n   * colored billboards.  Second, the color's alpha component can be used to make the billboard translucent as shown below.\n   * An alpha of <code>0.0</code> makes the billboard transparent, and <code>1.0</code> makes the billboard opaque.\n   * <br /><br />\n   * <div align='center'>\n   * <table border='0' cellpadding='5'><tr>\n   * <td align='center'><code>default</code><br/><img src='Images/Billboard.setColor.Alpha255.png' width='250' height='188' /></td>\n   * <td align='center'><code>alpha : 0.5</code><br/><img src='Images/Billboard.setColor.Alpha127.png' width='250' height='188' /></td>\n   * </tr></table>\n   * </div>\n   * <br />\n   * The red, green, blue, and alpha values are indicated by <code>value</code>'s <code>red</code>, <code>green</code>,\n   * <code>blue</code>, and <code>alpha</code> properties as shown in Example 1.  These components range from <code>0.0</code>\n   * (no intensity) to <code>1.0</code> (full intensity).\n   * @memberof Billboard.prototype\n   * @type {Color}\n   *\n   * @example\n   * // Example 1. Assign yellow.\n   * b.color = Cesium.Color.YELLOW;\n   *\n   * @example\n   * // Example 2. Make a billboard 50% translucent.\n   * b.color = new Cesium.Color(1.0, 1.0, 1.0, 0.5);\n   */\n  color: {\n    get: function () {\n      return this._color;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      Check.typeOf.object(\"value\", value);\n      //>>includeEnd('debug');\n\n      const color = this._color;\n      if (!Color.equals(color, value)) {\n        Color.clone(value, color);\n        makeDirty(this, COLOR_INDEX);\n      }\n    },\n  },\n\n  /**\n   * Gets or sets the rotation angle in radians.\n   * @memberof Billboard.prototype\n   * @type {number}\n   */\n  rotation: {\n    get: function () {\n      return this._rotation;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      Check.typeOf.number(\"value\", value);\n      //>>includeEnd('debug');\n\n      if (this._rotation !== value) {\n        this._rotation = value;\n        makeDirty(this, ROTATION_INDEX);\n      }\n    },\n  },\n\n  /**\n   * Gets or sets the aligned axis in world space. The aligned axis is the unit vector that the billboard up vector points towards.\n   * The default is the zero vector, which means the billboard is aligned to the screen up vector.\n   * @memberof Billboard.prototype\n   * @type {Cartesian3}\n   * @example\n   * // Example 1.\n   * // Have the billboard up vector point north\n   * billboard.alignedAxis = Cesium.Cartesian3.UNIT_Z;\n   *\n   * @example\n   * // Example 2.\n   * // Have the billboard point east.\n   * billboard.alignedAxis = Cesium.Cartesian3.UNIT_Z;\n   * billboard.rotation = -Cesium.Math.PI_OVER_TWO;\n   *\n   * @example\n   * // Example 3.\n   * // Reset the aligned axis\n   * billboard.alignedAxis = Cesium.Cartesian3.ZERO;\n   */\n  alignedAxis: {\n    get: function () {\n      return this._alignedAxis;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      Check.typeOf.object(\"value\", value);\n      //>>includeEnd('debug');\n\n      const alignedAxis = this._alignedAxis;\n      if (!Cartesian3.equals(alignedAxis, value)) {\n        Cartesian3.clone(value, alignedAxis);\n        makeDirty(this, ALIGNED_AXIS_INDEX);\n      }\n    },\n  },\n\n  /**\n   * Gets or sets a width for the billboard. If undefined, the image width will be used.\n   * @memberof Billboard.prototype\n   * @type {number|undefined}\n   */\n  width: {\n    get: function () {\n      return this._width ?? this._imageTexture.width;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      if (defined(value)) {\n        Check.typeOf.number(\"width\", value);\n      }\n      //>>includeEnd('debug');\n\n      if (this._width !== value) {\n        this._width = value;\n        makeDirty(this, IMAGE_INDEX_INDEX);\n      }\n    },\n  },\n\n  /**\n   * Gets or sets a height for the billboard. If undefined, the image height will be used.\n   * @memberof Billboard.prototype\n   * @type {number|undefined}\n   */\n  height: {\n    get: function () {\n      return this._height ?? this._imageTexture.height;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      if (defined(value)) {\n        Check.typeOf.number(\"height\", value);\n      }\n      //>>includeEnd('debug');\n\n      if (this._height !== value) {\n        this._height = value;\n        makeDirty(this, IMAGE_INDEX_INDEX);\n      }\n    },\n  },\n\n  /**\n   * Gets or sets if the billboard size is in meters or pixels. <code>true</code> to size the billboard in meters;\n   * otherwise, the size is in pixels.\n   * @memberof Billboard.prototype\n   * @type {boolean}\n   * @default false\n   */\n  sizeInMeters: {\n    get: function () {\n      return this._sizeInMeters;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      Check.typeOf.bool(\"value\", value);\n      //>>includeEnd('debug');\n      if (this._sizeInMeters !== value) {\n        this._sizeInMeters = value;\n        makeDirty(this, COLOR_INDEX);\n      }\n    },\n  },\n\n  /**\n   * Gets or sets the condition specifying at what distance from the camera that this billboard will be displayed.\n   * @memberof Billboard.prototype\n   * @type {DistanceDisplayCondition}\n   * @default undefined\n   */\n  distanceDisplayCondition: {\n    get: function () {\n      return this._distanceDisplayCondition;\n    },\n    set: function (value) {\n      if (\n        !DistanceDisplayCondition.equals(value, this._distanceDisplayCondition)\n      ) {\n        //>>includeStart('debug', pragmas.debug);\n        if (defined(value)) {\n          Check.typeOf.object(\"value\", value);\n          if (value.far <= value.near) {\n            throw new DeveloperError(\n              \"far distance must be greater than near distance.\",\n            );\n          }\n        }\n        //>>includeEnd('debug');\n        this._distanceDisplayCondition = DistanceDisplayCondition.clone(\n          value,\n          this._distanceDisplayCondition,\n        );\n        makeDirty(this, DISTANCE_DISPLAY_CONDITION);\n      }\n    },\n  },\n\n  /**\n   * Gets or sets the distance from the camera at which to disable the depth test to, for example, prevent clipping against terrain.\n   * When set to zero, the depth test is always applied. When set to Number.POSITIVE_INFINITY, the depth test is never applied.\n   * @memberof Billboard.prototype\n   * @type {number}\n   */\n  disableDepthTestDistance: {\n    get: function () {\n      return this._disableDepthTestDistance;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      if (defined(value)) {\n        Check.typeOf.number(\"value\", value);\n        if (value < 0.0) {\n          throw new DeveloperError(\n            \"disableDepthTestDistance must be greater than or equal to 0.0.\",\n          );\n        }\n      }\n      //>>includeEnd('debug');\n      if (this._disableDepthTestDistance !== value) {\n        this._disableDepthTestDistance = value;\n        makeDirty(this, DISABLE_DEPTH_DISTANCE);\n      }\n    },\n  },\n\n  /**\n   * Gets or sets the user-defined object returned when the billboard is picked.\n   * @memberof Billboard.prototype\n   * @type {*}\n   */\n  id: {\n    get: function () {\n      return this._id;\n    },\n    set: function (value) {\n      this._id = value;\n      if (defined(this._pickId)) {\n        this._pickId.object.id = value;\n      }\n    },\n  },\n\n  /**\n   * The primitive to return when picking this billboard.\n   * @memberof Billboard.prototype\n   * @private\n   */\n  pickPrimitive: {\n    get: function () {\n      return this._pickPrimitive;\n    },\n    set: function (value) {\n      this._pickPrimitive = value;\n      if (defined(this._pickId)) {\n        this._pickId.object.primitive = value;\n      }\n    },\n  },\n\n  /**\n   * @private\n   */\n  pickId: {\n    get: function () {\n      return this._pickId;\n    },\n  },\n\n  /**\n   * <p>\n   * Gets or sets the image to be used for this billboard.  If a texture has already been created for the\n   * given image, the existing texture is used.\n   * </p>\n   * <p>\n   * This property can be set to a loaded Image, a URL which will be loaded as an Image automatically,\n   * a canvas, or another billboard's image property (from the same billboard collection).\n   * </p>\n   *\n   * @memberof Billboard.prototype\n   * @type {string}\n   * @example\n   * // load an image from a URL\n   * b.image = 'some/image/url.png';\n   *\n   * // assuming b1 and b2 are billboards in the same billboard collection,\n   * // use the same image for both billboards.\n   * b2.image = b1.image;\n   */\n  image: {\n    get: function () {\n      return this._imageTexture.id;\n    },\n    set: function (value) {\n      if (!defined(value)) {\n        this._imageTexture.unload();\n        return;\n      }\n\n      let id;\n      if (typeof value === \"string\") {\n        id = value;\n      } else if (value instanceof Resource) {\n        id = value._url;\n      } else if (defined(value.src)) {\n        id = value.src;\n      } else {\n        id = createGuid();\n      }\n\n      this._imageTexture.loadImage(id, value);\n    },\n  },\n\n  /**\n   * When <code>true</code>, this billboard is ready to render, i.e., the image\n   * has been downloaded and the WebGL resources are created.\n   * @memberof Billboard.prototype\n   * @type {boolean}\n   * @readonly\n   * @default false\n   */\n  ready: {\n    get: function () {\n      return this._imageTexture.ready;\n    },\n  },\n\n  /**\n   * If defined, this error was encountered during the loading process.\n   * @memberof Billboard.prototype\n   * @type {Error|undefined}\n   * @readonly\n   * @private\n   */\n  loadError: {\n    get: function () {\n      return this._imageTexture.loadError;\n    },\n  },\n\n  /**\n   * Used by <code>billboardCollection</code> to track which billboards to update based on image load status.\n   * @memberof Billboard.prototype\n   * @type {boolean}\n   * @private\n   * @default false\n   */\n  textureDirty: {\n    get: function () {\n      return this._imageTexture.dirty;\n    },\n    set: function (value) {\n      this._imageTexture.dirty = value;\n    },\n  },\n\n  /**\n   * Keeps track of the position of the billboard based on the height reference.\n   * @memberof Billboard.prototype\n   * @type {Cartesian3}\n   * @private\n   */\n  _clampedPosition: {\n    get: function () {\n      return this._actualClampedPosition;\n    },\n    set: function (value) {\n      this._actualClampedPosition = Cartesian3.clone(\n        value,\n        this._actualClampedPosition,\n      );\n      makeDirty(this, POSITION_INDEX);\n    },\n  },\n\n  /**\n   * Determines whether or not this billboard will be shown or hidden because it was clustered.\n   * @memberof Billboard.prototype\n   * @type {boolean}\n   * @private\n   */\n  clusterShow: {\n    get: function () {\n      return this._clusterShow;\n    },\n    set: function (value) {\n      if (this._clusterShow !== value) {\n        this._clusterShow = value;\n        makeDirty(this, SHOW_INDEX);\n      }\n    },\n  },\n\n  /**\n   * The outline color of this Billboard.  Effective only for SDF billboards like Label glyphs.\n   * @memberof Billboard.prototype\n   * @type {Color}\n   * @private\n   */\n  outlineColor: {\n    get: function () {\n      return this._outlineColor;\n    },\n    set: function (value) {\n      //>>includeStart('debug', pragmas.debug);\n      if (!defined(value)) {\n        throw new DeveloperError(\"value is required.\");\n      }\n      //>>includeEnd('debug');\n\n      const outlineColor = this._outlineColor;\n      if (!Color.equals(outlineColor, value)) {\n        Color.clone(value, outlineColor);\n        makeDirty(this, SDF_INDEX);\n      }\n    },\n  },\n\n  /**\n   * The outline width of this Billboard in pixels.  Effective only for SDF billboards like Label glyphs.\n   * @memberof Billboard.prototype\n   * @type {number}\n   * @private\n   */\n  outlineWidth: {\n    get: function () {\n      return this._outlineWidth;\n    },\n    set: function (value) {\n      if (this._outlineWidth !== value) {\n        this._outlineWidth = value;\n        makeDirty(this, SDF_INDEX);\n      }\n    },\n  },\n\n  /**\n   * Gets or sets the {@link SplitDirection} of this billboard.\n   * @memberof Billboard.prototype\n   * @type {SplitDirection}\n   * @default {@link SplitDirection.NONE}\n   */\n  splitDirection: {\n    get: function () {\n      return this._splitDirection;\n    },\n    set: function (value) {\n      if (this._splitDirection !== value) {\n        this._splitDirection = value;\n        makeDirty(this, SPLIT_DIRECTION_INDEX);\n      }\n    },\n  },\n});\n\nBillboard.prototype.getPickId = function (context) {\n  if (!defined(this._pickId)) {\n    this._pickId = context.createPickId({\n      primitive: this._pickPrimitive,\n      collection: this._collection,\n      id: this._id,\n    });\n  }\n\n  return this._pickId;\n};\n\nBillboard.prototype._updateClamping = function () {\n  Billboard._updateClamping(this._billboardCollection, this);\n};\n\nconst scratchCartographic = new Cartographic();\nBillboard._updateClamping = function (collection, owner) {\n  if (!defined(collection) || !defined(collection._scene)) {\n    //>>includeStart('debug', pragmas.debug);\n    if (owner._heightReference !== HeightReference.NONE) {\n      throw new DeveloperError(\n        \"Height reference is not supported without a scene.\",\n      );\n    }\n    //>>includeEnd('debug');\n    return;\n  }\n  const scene = collection._scene;\n  const ellipsoid = scene.ellipsoid ?? Ellipsoid.default;\n\n  const mode = scene.frameState.mode;\n  const modeChanged = mode !== owner._mode;\n  owner._mode = mode;\n\n  if (\n    (owner._heightReference === HeightReference.NONE || modeChanged) &&\n    defined(owner._removeCallbackFunc)\n  ) {\n    owner._removeCallbackFunc();\n    owner._removeCallbackFunc = undefined;\n    owner._clampedPosition = undefined;\n  }\n\n  if (\n    owner._heightReference === HeightReference.NONE ||\n    owner._positionFromParent ||\n    !defined(owner._position)\n  ) {\n    return;\n  }\n\n  if (defined(owner._removeCallbackFunc)) {\n    owner._removeCallbackFunc();\n  }\n\n  const position = ellipsoid.cartesianToCartographic(owner._position);\n  if (!defined(position)) {\n    owner._actualClampedPosition = undefined;\n    return;\n  }\n\n  function updateFunction(clampedPosition) {\n    const updatedClampedPosition = ellipsoid.cartographicToCartesian(\n      clampedPosition,\n      owner._clampedPosition,\n    );\n\n    if (isHeightReferenceRelative(owner._heightReference)) {\n      if (owner._mode === SceneMode.SCENE3D) {\n        clampedPosition.height += position.height;\n        ellipsoid.cartographicToCartesian(\n          clampedPosition,\n          updatedClampedPosition,\n        );\n      } else {\n        updatedClampedPosition.x += position.height;\n      }\n    }\n\n    owner._clampedPosition = updatedClampedPosition;\n  }\n\n  owner._removeCallbackFunc = scene.updateHeight(\n    position,\n    updateFunction,\n    owner._heightReference,\n  );\n\n  Cartographic.clone(position, scratchCartographic);\n  const height = scene.getHeight(position, owner._heightReference);\n  if (defined(height)) {\n    scratchCartographic.height = height;\n  }\n\n  updateFunction(scratchCartographic);\n};\n\n/**\n * Get the texture coordinates for reading the loaded texture in shaders.\n * @param {BoundingRectangle} [result] The modified result parameter or a new BoundingRectangle instance if one was not provided.\n * @return {BoundingRectangle} The modified result parameter or a new BoundingRectangle instance if one was not provided.\n * @private\n */\nBillboard.prototype.computeTextureCoordinates = function (result) {\n  return this._imageTexture.computeTextureCoordinates(result);\n};\n\n/**\n * <p>\n * Sets the image to be used for this billboard.  If a texture has already been created for the\n * given id, the existing texture is used.\n * </p>\n * <p>\n * This function is useful for dynamically creating textures that are shared across many billboards.\n * Only the first billboard will actually call the function and create the texture, while subsequent\n * billboards created with the same id will simply re-use the existing texture.\n * </p>\n * <p>\n * To load an image from a URL, setting the {@link Billboard#image} property is more convenient.\n * </p>\n *\n * @param {string} id The id of the image.  This can be any string that uniquely identifies the image.\n * @param {HTMLImageElement|HTMLCanvasElement|string|Resource|Billboard.CreateImageCallback} image The image to load.  This parameter\n *        can either be a loaded Image or Canvas, a URL which will be loaded as an Image automatically,\n *        or a function which will be called to create the image if it hasn't been loaded already.\n * @example\n * // create a billboard image dynamically\n * function drawImage(id) {\n *   // create and draw an image using a canvas\n *   const canvas = document.createElement('canvas');\n *   const context2D = canvas.getContext('2d');\n *   // ... draw image\n *   return canvas;\n * }\n * // drawImage will be called to create the texture\n * b.setImage('myImage', drawImage);\n *\n * // subsequent billboards created in the same collection using the same id will use the existing\n * // texture, without the need to create the canvas or draw the image\n * b2.setImage('myImage', drawImage);\n */\nBillboard.prototype.setImage = function (id, image) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.string(\"id\", id);\n  Check.defined(\"image\", image);\n  //>>includeEnd('debug');\n\n  this._imageTexture.loadImage(id, image);\n};\n\n/**\n * Copy the values of an existing billboard texture into this one. Useful for prevent downtime for images that have already been loaded.\n * @private\n * @param {BillboardTexture} billboardTexture\n */\nBillboard.prototype.setImageTexture = function (billboardTexture) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"billboardTexture\", billboardTexture);\n  //>>includeEnd('debug');\n\n  BillboardTexture.clone(billboardTexture, this._imageTexture);\n};\n\n/**\n * Uses a sub-region of the image with the given id as the image for this billboard,\n * measured in pixels from the bottom-left.\n *\n * @param {string} id The id of the image to use.\n * @param {BoundingRectangle} subRegion The sub-region of the image.\n *\n * @exception {RuntimeError} image with id must be in the atlas\n */\nBillboard.prototype.setImageSubRegion = function (id, subRegion) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.string(\"id\", id);\n  Check.defined(\"subRegion\", subRegion);\n  //>>includeEnd('debug');\n\n  this._imageTexture.addImageSubRegion(id, subRegion);\n};\n\nBillboard.prototype._setTranslate = function (value) {\n  //>>includeStart('debug', pragmas.debug);\n  if (!defined(value)) {\n    throw new DeveloperError(\"value is required.\");\n  }\n  //>>includeEnd('debug');\n\n  const translate = this._translate;\n  if (!Cartesian2.equals(translate, value)) {\n    Cartesian2.clone(value, translate);\n    makeDirty(this, PIXEL_OFFSET_INDEX);\n  }\n};\n\nBillboard.prototype._getActualPosition = function () {\n  return defined(this._clampedPosition)\n    ? this._clampedPosition\n    : this._actualPosition;\n};\n\nBillboard.prototype._setActualPosition = function (value) {\n  if (!defined(this._clampedPosition)) {\n    Cartesian3.clone(value, this._actualPosition);\n  }\n  makeDirty(this, POSITION_INDEX);\n};\n\nconst tempCartesian3 = new Cartesian4();\nBillboard._computeActualPosition = function (\n  billboard,\n  position,\n  frameState,\n  modelMatrix,\n) {\n  if (defined(billboard._clampedPosition)) {\n    if (frameState.mode !== billboard._mode) {\n      billboard._updateClamping();\n    }\n    return billboard._clampedPosition;\n  } else if (frameState.mode === SceneMode.SCENE3D) {\n    return position;\n  }\n\n  Matrix4.multiplyByPoint(modelMatrix, position, tempCartesian3);\n  return SceneTransforms.computeActualEllipsoidPosition(\n    frameState,\n    tempCartesian3,\n  );\n};\n\nconst scratchCartesian3 = new Cartesian3();\n\n// This function is basically a stripped-down JavaScript version of BillboardCollectionVS.glsl\nBillboard._computeScreenSpacePosition = function (\n  modelMatrix,\n  position,\n  eyeOffset,\n  pixelOffset,\n  scene,\n  result,\n) {\n  // Model to world coordinates\n  const positionWorld = Matrix4.multiplyByPoint(\n    modelMatrix,\n    position,\n    scratchCartesian3,\n  );\n\n  // World to window coordinates\n  const positionWC = SceneTransforms.worldWithEyeOffsetToWindowCoordinates(\n    scene,\n    positionWorld,\n    eyeOffset,\n    result,\n  );\n  if (!defined(positionWC)) {\n    return undefined;\n  }\n\n  // Apply pixel offset\n  Cartesian2.add(positionWC, pixelOffset, positionWC);\n\n  return positionWC;\n};\n\nconst scratchPixelOffset = new Cartesian2(0.0, 0.0);\n\n/**\n * Computes the screen-space position of the billboard's origin, taking into account eye and pixel offsets.\n * The screen space origin is the top, left corner of the canvas; <code>x</code> increases from\n * left to right, and <code>y</code> increases from top to bottom.\n *\n * @param {Scene} scene The scene.\n * @param {Cartesian2} [result] The object onto which to store the result.\n * @returns {Cartesian2} The screen-space position of the billboard.\n *\n * @exception {DeveloperError} Billboard must be in a collection.\n *\n * @example\n * console.log(b.computeScreenSpacePosition(scene).toString());\n *\n * @see Billboard#eyeOffset\n * @see Billboard#pixelOffset\n */\nBillboard.prototype.computeScreenSpacePosition = function (scene, result) {\n  const billboardCollection = this._billboardCollection;\n  if (!defined(result)) {\n    result = new Cartesian2();\n  }\n\n  //>>includeStart('debug', pragmas.debug);\n  if (!defined(billboardCollection)) {\n    throw new DeveloperError(\n      \"Billboard must be in a collection.  Was it removed?\",\n    );\n  }\n  if (!defined(scene)) {\n    throw new DeveloperError(\"scene is required.\");\n  }\n  //>>includeEnd('debug');\n\n  // pixel offset for screen space computation is the pixelOffset + screen space translate\n  Cartesian2.clone(this._pixelOffset, scratchPixelOffset);\n  Cartesian2.add(scratchPixelOffset, this._translate, scratchPixelOffset);\n\n  let modelMatrix = billboardCollection.modelMatrix;\n  let position = this._position;\n  if (defined(this._clampedPosition)) {\n    position = this._clampedPosition;\n    if (scene.mode !== SceneMode.SCENE3D) {\n      // position needs to be in world coordinates\n      const projection = scene.mapProjection;\n      const ellipsoid = projection.ellipsoid;\n      const cart = projection.unproject(position, scratchCartographic);\n      position = ellipsoid.cartographicToCartesian(cart, scratchCartesian3);\n      modelMatrix = Matrix4.IDENTITY;\n    }\n  }\n\n  const windowCoordinates = Billboard._computeScreenSpacePosition(\n    modelMatrix,\n    position,\n    this._eyeOffset,\n    scratchPixelOffset,\n    scene,\n    result,\n  );\n  return windowCoordinates;\n};\n\n/**\n * Gets a billboard's screen space bounding box centered around screenSpacePosition.\n * @param {Billboard} billboard The billboard to get the screen space bounding box for.\n * @param {Cartesian2} screenSpacePosition The screen space center of the label.\n * @param {BoundingRectangle} [result] The object onto which to store the result.\n * @returns {BoundingRectangle} The screen space bounding box.\n *\n * @private\n */\nBillboard.getScreenSpaceBoundingBox = function (\n  billboard,\n  screenSpacePosition,\n  result,\n) {\n  let width = billboard.width;\n  let height = billboard.height;\n\n  const scale = billboard.scale;\n  width *= scale;\n  height *= scale;\n\n  let x = screenSpacePosition.x;\n  if (billboard.horizontalOrigin === HorizontalOrigin.RIGHT) {\n    x -= width;\n  } else if (billboard.horizontalOrigin === HorizontalOrigin.CENTER) {\n    x -= width * 0.5;\n  }\n\n  let y = screenSpacePosition.y;\n  if (\n    billboard.verticalOrigin === VerticalOrigin.BOTTOM ||\n    billboard.verticalOrigin === VerticalOrigin.BASELINE\n  ) {\n    y -= height;\n  } else if (billboard.verticalOrigin === VerticalOrigin.CENTER) {\n    y -= height * 0.5;\n  }\n\n  if (!defined(result)) {\n    result = new BoundingRectangle();\n  }\n\n  result.x = x;\n  result.y = y;\n  result.width = width;\n  result.height = height;\n\n  return result;\n};\n\n/**\n * Determines if this billboard equals another billboard.  Billboards are equal if all their properties\n * are equal.  Billboards in different collections can be equal.\n *\n * @param {Billboard} [other] The billboard to compare for equality.\n * @returns {boolean} <code>true</code> if the billboards are equal; otherwise, <code>false</code>.\n */\nBillboard.prototype.equals = function (other) {\n  return (\n    this === other ||\n    (defined(other) &&\n      this._id === other._id &&\n      Cartesian3.equals(this._position, other._position) &&\n      this.image === other.image &&\n      this._show === other._show &&\n      this._scale === other._scale &&\n      this._verticalOrigin === other._verticalOrigin &&\n      this._horizontalOrigin === other._horizontalOrigin &&\n      this._heightReference === other._heightReference &&\n      Color.equals(this._color, other._color) &&\n      Cartesian2.equals(this._pixelOffset, other._pixelOffset) &&\n      Cartesian2.equals(this._translate, other._translate) &&\n      Cartesian3.equals(this._eyeOffset, other._eyeOffset) &&\n      NearFarScalar.equals(this._scaleByDistance, other._scaleByDistance) &&\n      NearFarScalar.equals(\n        this._translucencyByDistance,\n        other._translucencyByDistance,\n      ) &&\n      NearFarScalar.equals(\n        this._pixelOffsetScaleByDistance,\n        other._pixelOffsetScaleByDistance,\n      ) &&\n      DistanceDisplayCondition.equals(\n        this._distanceDisplayCondition,\n        other._distanceDisplayCondition,\n      ) &&\n      this._disableDepthTestDistance === other._disableDepthTestDistance &&\n      this._splitDirection === other._splitDirection)\n  );\n};\n\nBillboard.prototype._destroy = function () {\n  if (defined(this._customData)) {\n    this._billboardCollection._scene.globe._surface.removeTileCustomData(\n      this._customData,\n    );\n    this._customData = undefined;\n  }\n\n  if (defined(this._removeCallbackFunc)) {\n    this._removeCallbackFunc();\n    this._removeCallbackFunc = undefined;\n  }\n\n  this.image = undefined;\n  this._pickId = this._pickId && this._pickId.destroy();\n  this._billboardCollection = undefined;\n};\n\n/**\n * A function that creates an image.\n * @callback Billboard.CreateImageCallback\n * @param {string} id The identifier of the image to load.\n * @returns {HTMLImageElement|HTMLCanvasElement|Promise<HTMLImageElement|HTMLCanvasElement>} The image, or a promise that will resolve to an image.\n */\nexport default Billboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}