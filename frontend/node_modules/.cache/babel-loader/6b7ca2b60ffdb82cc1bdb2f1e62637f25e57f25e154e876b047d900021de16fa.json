{"ast":null,"code":"export default {\n  name: 'AlarmPanel',\n  props: {\n    alarms: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data() {\n    return {\n      activeAlarms: []\n    };\n  },\n  methods: {\n    // 格式化时间\n    formatTime(timestamp) {\n      if (!timestamp) return '';\n      const date = new Date(timestamp);\n      return date.toLocaleString('zh-CN', {\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    },\n    // 获取报警类型样式\n    getAlarmType(severity) {\n      switch (severity) {\n        case '高':\n          return 'danger';\n        case '中':\n          return 'warning';\n        case '低':\n          return 'info';\n        default:\n          return 'info';\n      }\n    },\n    // 处理刷新\n    handleRefresh() {\n      this.$emit('refresh');\n    },\n    // 查看报警详情\n    viewAlarmDetail(alarm) {\n      this.$emit('view-detail', alarm);\n    },\n    // 处理报警\n    processAlarm(alarmId) {\n      this.$emit('process-alarm', alarmId);\n    }\n  }\n};","map":{"version":3,"names":["name","props","alarms","type","Array","default","data","activeAlarms","methods","formatTime","timestamp","date","Date","toLocaleString","month","day","hour","minute","getAlarmType","severity","handleRefresh","$emit","viewAlarmDetail","alarm","processAlarm","alarmId"],"sources":["D:\\projects\\FlightHub-2-Frontend-Standalone-Component\\frontend\\src\\components\\AlarmPanel.vue"],"sourcesContent":["<template>\n  <div class=\"alarm-panel\">\n    <div class=\"panel-header\">\n      <h3 class=\"panel-title\">报警信息</h3>\n      <div class=\"header-actions\">\n        <el-badge \n          v-if=\"alarms.length > 0\" \n          :value=\"alarms.length\" \n          type=\"danger\" \n          size=\"small\"\n        />\n        <el-button \n          size=\"small\" \n          icon=\"Refresh\" \n          @click=\"handleRefresh\" \n          plain\n        >\n          刷新\n        </el-button>\n      </div>\n    </div>\n    \n    <div class=\"alarm-list\">\n      <el-empty v-if=\"alarms.length === 0\" description=\"暂无报警信息\" />\n      \n      <el-collapse v-else v-model=\"activeAlarms\" accordion>\n        <el-collapse-item \n          v-for=\"alarm in alarms\" \n          :key=\"alarm.id\"\n          :name=\"alarm.id\"\n        >\n          <template #title>\n            <div class=\"alarm-summary\">\n              <el-tag \n                size=\"small\" \n                :type=\"getAlarmType(alarm.severity)\"\n              >\n                {{ alarm.severity }}级\n              </el-tag>\n              <span class=\"alarm-title\">{{ alarm.title }}</span>\n              <span class=\"alarm-time\">{{ formatTime(alarm.timestamp) }}</span>\n            </div>\n          </template>\n          <div class=\"alarm-details\">\n            <p class=\"alarm-description\">{{ alarm.description }}</p>\n            <p class=\"alarm-location\">\n              <i class=\"el-icon-location-information\"></i>\n              {{ alarm.location }}\n            </p>\n            <div v-if=\"alarm.imageUrl\" class=\"alarm-image\">\n              <el-image\n                :src=\"alarm.imageUrl\"\n                :preview-src-list=\"[alarm.imageUrl]\"\n                fit=\"cover\"\n                style=\"width: 100%; height: 200px\"\n              />\n            </div>\n            <div class=\"alarm-actions\">\n              <el-button \n                size=\"small\" \n                type=\"primary\" \n                @click=\"viewAlarmDetail(alarm)\"\n              >\n                查看详情\n              </el-button>\n              <el-button \n                size=\"small\" \n                type=\"danger\" \n                @click=\"processAlarm(alarm.id)\"\n              >\n                标记已处理\n              </el-button>\n            </div>\n          </div>\n        </el-collapse-item>\n      </el-collapse>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'AlarmPanel',\n  props: {\n    alarms: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data() {\n    return {\n      activeAlarms: []\n    }\n  },\n  methods: {\n    // 格式化时间\n    formatTime(timestamp) {\n      if (!timestamp) return ''\n      const date = new Date(timestamp)\n      return date.toLocaleString('zh-CN', {\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit'\n      })\n    },\n    \n    // 获取报警类型样式\n    getAlarmType(severity) {\n      switch(severity) {\n        case '高':\n          return 'danger'\n        case '中':\n          return 'warning'\n        case '低':\n          return 'info'\n        default:\n          return 'info'\n      }\n    },\n    \n    // 处理刷新\n    handleRefresh() {\n      this.$emit('refresh')\n    },\n    \n    // 查看报警详情\n    viewAlarmDetail(alarm) {\n      this.$emit('view-detail', alarm)\n    },\n    \n    // 处理报警\n    processAlarm(alarmId) {\n      this.$emit('process-alarm', alarmId)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.alarm-panel {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.panel-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 15px;\n  border-bottom: 1px solid #ebeef5;\n  background-color: #f5f7fa;\n}\n\n.panel-title {\n  margin: 0;\n  font-size: 16px;\n  font-weight: bold;\n  color: #303133;\n}\n\n.header-actions {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.alarm-list {\n  flex: 1;\n  overflow-y: auto;\n  padding: 10px;\n}\n\n.alarm-summary {\n  display: flex;\n  align-items: center;\n  width: 100%;\n  gap: 10px;\n}\n\n.alarm-title {\n  flex: 1;\n  font-weight: 500;\n  color: #606266;\n}\n\n.alarm-time {\n  font-size: 12px;\n  color: #909399;\n}\n\n.alarm-details {\n  padding: 10px 0;\n}\n\n.alarm-description {\n  margin: 0 0 10px 0;\n  color: #606266;\n  line-height: 1.5;\n}\n\n.alarm-location {\n  margin: 10px 0;\n  color: #909399;\n  font-size: 14px;\n}\n\n.alarm-location i {\n  margin-right: 5px;\n}\n\n.alarm-image {\n  margin: 15px 0;\n}\n\n.alarm-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n  margin-top: 15px;\n}\n</style>"],"mappings":"AAiFA,eAAe;EACbA,IAAI,EAAE,YAAY;EAClBC,KAAK,EAAE;IACLC,MAAM,EAAE;MACNC,IAAI,EAAEC,KAAK;MACXC,OAAO,EAAEA,CAAA,KAAM;IACjB;EACF,CAAC;EACDC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,YAAY,EAAE;IAChB;EACF,CAAC;EACDC,OAAO,EAAE;IACP;IACAC,UAAUA,CAACC,SAAS,EAAE;MACpB,IAAI,CAACA,SAAS,EAAE,OAAO,EAAC;MACxB,MAAMC,IAAG,GAAI,IAAIC,IAAI,CAACF,SAAS;MAC/B,OAAOC,IAAI,CAACE,cAAc,CAAC,OAAO,EAAE;QAClCC,KAAK,EAAE,SAAS;QAChBC,GAAG,EAAE,SAAS;QACdC,IAAI,EAAE,SAAS;QACfC,MAAM,EAAE;MACV,CAAC;IACH,CAAC;IAED;IACAC,YAAYA,CAACC,QAAQ,EAAE;MACrB,QAAOA,QAAQ;QACb,KAAK,GAAG;UACN,OAAO,QAAO;QAChB,KAAK,GAAG;UACN,OAAO,SAAQ;QACjB,KAAK,GAAG;UACN,OAAO,MAAK;QACd;UACE,OAAO,MAAK;MAChB;IACF,CAAC;IAED;IACAC,aAAaA,CAAA,EAAG;MACd,IAAI,CAACC,KAAK,CAAC,SAAS;IACtB,CAAC;IAED;IACAC,eAAeA,CAACC,KAAK,EAAE;MACrB,IAAI,CAACF,KAAK,CAAC,aAAa,EAAEE,KAAK;IACjC,CAAC;IAED;IACAC,YAAYA,CAACC,OAAO,EAAE;MACpB,IAAI,CAACJ,KAAK,CAAC,eAAe,EAAEI,OAAO;IACrC;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}