{"ast":null,"code":"import BoundingRectangle from \"../Core/BoundingRectangle.js\";\nimport destroyObject from \"../Core/destroyObject.js\";\nimport FramebufferManager from \"../Renderer/FramebufferManager.js\";\nimport PassState from \"../Renderer/PassState.js\";\n\n/**\n * @private\n */\nfunction PickDepthFramebuffer() {\n  this._framebuffer = new FramebufferManager({\n    color: false,\n    depthStencil: true,\n    supportsDepthTexture: true\n  });\n  this._passState = undefined;\n}\nObject.defineProperties(PickDepthFramebuffer.prototype, {\n  framebuffer: {\n    get: function () {\n      return this._framebuffer.framebuffer;\n    }\n  }\n});\nfunction destroyResources(pickDepth) {\n  pickDepth._framebuffer.destroy();\n}\nfunction createResources(pickDepth, context) {\n  const width = context.drawingBufferWidth;\n  const height = context.drawingBufferHeight;\n  pickDepth._framebuffer.update(context, width, height);\n  const passState = new PassState(context);\n  passState.blendingEnabled = false;\n  passState.scissorTest = {\n    enabled: true,\n    rectangle: new BoundingRectangle()\n  };\n  passState.viewport = new BoundingRectangle();\n  pickDepth._passState = passState;\n}\nPickDepthFramebuffer.prototype.update = function (context, drawingBufferPosition, viewport) {\n  const width = viewport.width;\n  const height = viewport.height;\n  if (this._framebuffer.isDirty(width, height)) {\n    createResources(this, context);\n  }\n  const framebuffer = this.framebuffer;\n  const passState = this._passState;\n  passState.framebuffer = framebuffer;\n  passState.viewport.width = width;\n  passState.viewport.height = height;\n  passState.scissorTest.rectangle.x = drawingBufferPosition.x;\n  passState.scissorTest.rectangle.y = height - drawingBufferPosition.y;\n  passState.scissorTest.rectangle.width = 1;\n  passState.scissorTest.rectangle.height = 1;\n  return passState;\n};\nPickDepthFramebuffer.prototype.isDestroyed = function () {\n  return false;\n};\nPickDepthFramebuffer.prototype.destroy = function () {\n  destroyResources(this);\n  return destroyObject(this);\n};\nexport default PickDepthFramebuffer;","map":{"version":3,"names":["BoundingRectangle","destroyObject","FramebufferManager","PassState","PickDepthFramebuffer","_framebuffer","color","depthStencil","supportsDepthTexture","_passState","undefined","Object","defineProperties","prototype","framebuffer","get","destroyResources","pickDepth","destroy","createResources","context","width","drawingBufferWidth","height","drawingBufferHeight","update","passState","blendingEnabled","scissorTest","enabled","rectangle","viewport","drawingBufferPosition","isDirty","x","y","isDestroyed"],"sources":["D:/projects/FlightHub-2-Frontend-Standalone-Component/frontend/node_modules/@cesium/engine/Source/Scene/PickDepthFramebuffer.js"],"sourcesContent":["import BoundingRectangle from \"../Core/BoundingRectangle.js\";\nimport destroyObject from \"../Core/destroyObject.js\";\nimport FramebufferManager from \"../Renderer/FramebufferManager.js\";\nimport PassState from \"../Renderer/PassState.js\";\n\n/**\n * @private\n */\nfunction PickDepthFramebuffer() {\n  this._framebuffer = new FramebufferManager({\n    color: false,\n    depthStencil: true,\n    supportsDepthTexture: true,\n  });\n  this._passState = undefined;\n}\n\nObject.defineProperties(PickDepthFramebuffer.prototype, {\n  framebuffer: {\n    get: function () {\n      return this._framebuffer.framebuffer;\n    },\n  },\n});\n\nfunction destroyResources(pickDepth) {\n  pickDepth._framebuffer.destroy();\n}\n\nfunction createResources(pickDepth, context) {\n  const width = context.drawingBufferWidth;\n  const height = context.drawingBufferHeight;\n\n  pickDepth._framebuffer.update(context, width, height);\n\n  const passState = new PassState(context);\n  passState.blendingEnabled = false;\n  passState.scissorTest = {\n    enabled: true,\n    rectangle: new BoundingRectangle(),\n  };\n  passState.viewport = new BoundingRectangle();\n  pickDepth._passState = passState;\n}\n\nPickDepthFramebuffer.prototype.update = function (\n  context,\n  drawingBufferPosition,\n  viewport,\n) {\n  const width = viewport.width;\n  const height = viewport.height;\n\n  if (this._framebuffer.isDirty(width, height)) {\n    createResources(this, context);\n  }\n\n  const framebuffer = this.framebuffer;\n  const passState = this._passState;\n  passState.framebuffer = framebuffer;\n  passState.viewport.width = width;\n  passState.viewport.height = height;\n  passState.scissorTest.rectangle.x = drawingBufferPosition.x;\n  passState.scissorTest.rectangle.y = height - drawingBufferPosition.y;\n  passState.scissorTest.rectangle.width = 1;\n  passState.scissorTest.rectangle.height = 1;\n\n  return passState;\n};\n\nPickDepthFramebuffer.prototype.isDestroyed = function () {\n  return false;\n};\n\nPickDepthFramebuffer.prototype.destroy = function () {\n  destroyResources(this);\n  return destroyObject(this);\n};\nexport default PickDepthFramebuffer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}