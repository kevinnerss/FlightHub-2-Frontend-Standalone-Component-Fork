{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport Uri from \"urijs\";\nimport Check from \"./Check.js\";\nimport Credit from \"./Credit.js\";\nimport Frozen from \"./Frozen.js\";\nimport defined from \"./defined.js\";\nimport Ion from \"./Ion.js\";\nimport Resource from \"./Resource.js\";\nimport RuntimeError from \"./RuntimeError.js\";\n\n/**\n * A {@link Resource} instance that encapsulates Cesium ion asset access.\n * This object is normally not instantiated directly, use {@link IonResource.fromAssetId}.\n *\n * @alias IonResource\n * @constructor\n * @augments Resource\n *\n * @param {object} endpoint The result of the Cesium ion asset endpoint service.\n * @param {Resource} endpointResource The resource used to retrieve the endpoint.\n *\n * @see Ion\n * @see IonImageryProvider\n * @see createWorldTerrain\n * @see https://cesium.com\n */\nfunction IonResource(endpoint, endpointResource) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"endpoint\", endpoint);\n  Check.defined(\"endpointResource\", endpointResource);\n  //>>includeEnd('debug');\n\n  let options;\n  const externalType = endpoint.externalType;\n  const isExternal = defined(externalType);\n  if (!isExternal) {\n    options = {\n      url: endpoint.url,\n      retryAttempts: 1,\n      retryCallback: retryCallback\n    };\n  } else if ([\"GOOGLE_2D_MAPS\", \"AZURE_MAPS\"].includes(externalType)) {\n    options = {\n      url: endpoint.options.url,\n      retryAttempts: 1,\n      retryCallback: retryCallback\n    };\n  } else if (externalType === \"3DTILES\" || externalType === \"STK_TERRAIN_SERVER\") {\n    // 3D Tiles and STK Terrain Server external assets can still be represented as an IonResource\n    options = {\n      url: endpoint.options.url\n    };\n  } else {\n    //External imagery assets have additional configuration that can't be represented as a Resource\n    throw new RuntimeError(\"Ion.createResource does not support external imagery assets; use IonImageryProvider instead.\");\n  }\n  Resource.call(this, options);\n\n  // The asset endpoint data returned from ion.\n  this._ionEndpoint = endpoint;\n  this._ionEndpointDomain = isExternal ? undefined : new Uri(endpoint.url).authority();\n\n  // The endpoint resource to fetch when a new token is needed\n  this._ionEndpointResource = endpointResource;\n\n  // The primary IonResource from which an instance is derived\n  this._ionRoot = undefined;\n\n  // Shared promise for endpooint requests amd credits (only ever set on the root request)\n  this._pendingPromise = undefined;\n  this._credits = undefined;\n  this._isExternal = isExternal;\n}\nif (defined(Object.create)) {\n  IonResource.prototype = Object.create(Resource.prototype);\n  IonResource.prototype.constructor = IonResource;\n}\n\n/**\n * Asynchronously creates an instance.\n *\n * @param {number} assetId The Cesium ion asset id.\n * @param {object} [options] An object with the following properties:\n * @param {string} [options.accessToken=Ion.defaultAccessToken] The access token to use.\n * @param {string|Resource} [options.server=Ion.defaultServer] The resource to the Cesium ion API server.\n * @returns {Promise<IonResource>} A Promise to an instance representing the Cesium ion Asset.\n *\n * @example\n * // Load a Cesium3DTileset with asset ID of 124624234\n * try {\n *   const resource = await Cesium.IonResource.fromAssetId(124624234);\n *   const tileset = await Cesium.Cesium3DTileset.fromUrl(resource);\n *   scene.primitives.add(tileset);\n * } catch (error) {\n *   console.error(`Error creating tileset: ${error}`);\n * }\n *\n * @example\n * //Load a CZML file with asset ID of 10890\n * Cesium.IonResource.fromAssetId(10890)\n *   .then(function (resource) {\n *     viewer.dataSources.add(Cesium.CzmlDataSource.load(resource));\n *   });\n */\nIonResource.fromAssetId = function (assetId, options) {\n  const endpointResource = IonResource._createEndpointResource(assetId, options);\n  return endpointResource.fetchJson().then(function (endpoint) {\n    return new IonResource(endpoint, endpointResource);\n  });\n};\nObject.defineProperties(IonResource.prototype, {\n  /**\n   * Gets the credits required for attribution of the asset.\n   *\n   * @memberof IonResource.prototype\n   * @type {Credit[]}\n   * @readonly\n   */\n  credits: {\n    get: function () {\n      // Only we're not the root, return its credits;\n      if (defined(this._ionRoot)) {\n        return this._ionRoot.credits;\n      }\n\n      // We are the root\n      if (defined(this._credits)) {\n        return this._credits;\n      }\n      this._credits = IonResource.getCreditsFromEndpoint(this._ionEndpoint, this._ionEndpointResource);\n      return this._credits;\n    }\n  }\n});\n\n/** @private */\nIonResource.getCreditsFromEndpoint = function (endpoint, endpointResource) {\n  const credits = endpoint.attributions.map(Credit.getIonCredit);\n  const defaultTokenCredit = Ion.getDefaultTokenCredit(endpointResource.queryParameters.access_token);\n  if (defined(defaultTokenCredit)) {\n    credits.push(Credit.clone(defaultTokenCredit));\n  }\n  return credits;\n};\n\n/** @inheritdoc */\nIonResource.prototype.clone = function (result) {\n  // We always want to use the root's information because it's the most up-to-date\n  const ionRoot = this._ionRoot ?? this;\n  if (!defined(result)) {\n    result = new IonResource(ionRoot._ionEndpoint, ionRoot._ionEndpointResource);\n  }\n  result = Resource.prototype.clone.call(this, result);\n  result._ionRoot = ionRoot;\n  result._isExternal = this._isExternal;\n  return result;\n};\nIonResource.prototype.fetchImage = function (options) {\n  if (!this._isExternal) {\n    const userOptions = options;\n    options = {\n      preferBlob: true\n    };\n    if (defined(userOptions)) {\n      options.flipY = userOptions.flipY;\n      options.preferImageBitmap = userOptions.preferImageBitmap;\n    }\n  }\n  return Resource.prototype.fetchImage.call(this, options);\n};\nIonResource.prototype._makeRequest = function (options) {\n  // Don't send ion access token to non-ion servers.\n  if (this._isExternal || new Uri(this.url).authority() !== this._ionEndpointDomain) {\n    return Resource.prototype._makeRequest.call(this, options);\n  }\n  addClientHeaders(options);\n  options.headers.Authorization = `Bearer ${this._ionEndpoint.accessToken}`;\n  return Resource.prototype._makeRequest.call(this, options);\n};\n\n/**\n * @private\n **/\nIonResource._createEndpointResource = function (assetId, options) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"assetId\", assetId);\n  //>>includeEnd('debug');\n\n  options = options ?? Frozen.EMPTY_OBJECT;\n  let server = options.server ?? Ion.defaultServer;\n  const accessToken = options.accessToken ?? Ion.defaultAccessToken;\n  server = Resource.createIfNeeded(server);\n  const resourceOptions = {\n    url: `v1/assets/${assetId}/endpoint`\n  };\n  if (defined(accessToken)) {\n    resourceOptions.queryParameters = {\n      access_token: accessToken\n    };\n  }\n  if (defined(options.queryParameters)) {\n    resourceOptions.queryParameters = {\n      ...resourceOptions.queryParameters,\n      ...options.queryParameters\n    };\n  }\n  addClientHeaders(resourceOptions);\n  return server.getDerivedResource(resourceOptions);\n};\nfunction addClientHeaders(options) {\n  if (!defined(options.headers)) {\n    options.headers = {};\n  }\n  options.headers[\"X-Cesium-Client\"] = \"CesiumJS\";\n  /* global CESIUM_VERSION */\n  if (typeof CESIUM_VERSION !== \"undefined\") {\n    options.headers[\"X-Cesium-Client-Version\"] = CESIUM_VERSION;\n  }\n}\nfunction retryCallback(that, error) {\n  const ionRoot = that._ionRoot ?? that;\n  const endpointResource = ionRoot._ionEndpointResource;\n\n  // Image is not available in worker threads, so this avoids\n  // a ReferenceError\n  const imageDefined = typeof Image !== \"undefined\";\n\n  // We only want to retry in the case of invalid credentials (401) or image\n  // requests(since Image failures can not provide a status code)\n  if (!defined(error) || error.statusCode !== 401 && !(imageDefined && error.target instanceof Image)) {\n    return Promise.resolve(false);\n  }\n\n  // We use a shared pending promise for all derived assets, since they share\n  // a common access_token.  If we're already requesting a new token for this\n  // asset, we wait on the same promise.\n  if (!defined(ionRoot._pendingPromise)) {\n    ionRoot._pendingPromise = endpointResource.fetchJson().then(function (newEndpoint) {\n      // Set the token for root resource so new derived resources automatically pick it up\n      ionRoot._ionEndpoint = newEndpoint;\n      // Reset the session token for Google 2D imagery\n      if (newEndpoint.externalType === \"GOOGLE_2D_MAPS\") {\n        ionRoot.setQueryParameters({\n          session: newEndpoint.options.session,\n          key: newEndpoint.options.key\n        });\n      }\n      if (newEndpoint.externalType === \"AZURE_MAPS\") {\n        ionRoot.setQueryParameters({\n          \"subscription-key\": newEndpoint.options[\"subscription-key\"]\n        });\n      }\n      return ionRoot._ionEndpoint;\n    }).finally(function (newEndpoint) {\n      // Pass or fail, we're done with this promise, the next failure should use a new one.\n      ionRoot._pendingPromise = undefined;\n      return newEndpoint;\n    });\n  }\n  return ionRoot._pendingPromise.then(function (newEndpoint) {\n    // Set the new token and endpoint for this resource\n    that._ionEndpoint = newEndpoint;\n    return true;\n  });\n}\nexport default IonResource;","map":{"version":3,"names":["Uri","Check","Credit","Frozen","defined","Ion","Resource","RuntimeError","IonResource","endpoint","endpointResource","options","externalType","isExternal","url","retryAttempts","retryCallback","includes","call","_ionEndpoint","_ionEndpointDomain","undefined","authority","_ionEndpointResource","_ionRoot","_pendingPromise","_credits","_isExternal","Object","create","prototype","constructor","fromAssetId","assetId","_createEndpointResource","fetchJson","then","defineProperties","credits","get","getCreditsFromEndpoint","attributions","map","getIonCredit","defaultTokenCredit","getDefaultTokenCredit","queryParameters","access_token","push","clone","result","ionRoot","fetchImage","userOptions","preferBlob","flipY","preferImageBitmap","_makeRequest","addClientHeaders","headers","Authorization","accessToken","EMPTY_OBJECT","server","defaultServer","defaultAccessToken","createIfNeeded","resourceOptions","getDerivedResource","CESIUM_VERSION","that","error","imageDefined","Image","statusCode","target","Promise","resolve","newEndpoint","setQueryParameters","session","key","finally"],"sources":["D:/projects/FlightHub-2-Frontend-Standalone-Component/frontend/node_modules/@cesium/engine/Source/Core/IonResource.js"],"sourcesContent":["import Uri from \"urijs\";\nimport Check from \"./Check.js\";\nimport Credit from \"./Credit.js\";\nimport Frozen from \"./Frozen.js\";\nimport defined from \"./defined.js\";\nimport Ion from \"./Ion.js\";\nimport Resource from \"./Resource.js\";\nimport RuntimeError from \"./RuntimeError.js\";\n\n/**\n * A {@link Resource} instance that encapsulates Cesium ion asset access.\n * This object is normally not instantiated directly, use {@link IonResource.fromAssetId}.\n *\n * @alias IonResource\n * @constructor\n * @augments Resource\n *\n * @param {object} endpoint The result of the Cesium ion asset endpoint service.\n * @param {Resource} endpointResource The resource used to retrieve the endpoint.\n *\n * @see Ion\n * @see IonImageryProvider\n * @see createWorldTerrain\n * @see https://cesium.com\n */\nfunction IonResource(endpoint, endpointResource) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"endpoint\", endpoint);\n  Check.defined(\"endpointResource\", endpointResource);\n  //>>includeEnd('debug');\n\n  let options;\n  const externalType = endpoint.externalType;\n  const isExternal = defined(externalType);\n\n  if (!isExternal) {\n    options = {\n      url: endpoint.url,\n      retryAttempts: 1,\n      retryCallback: retryCallback,\n    };\n  } else if ([\"GOOGLE_2D_MAPS\", \"AZURE_MAPS\"].includes(externalType)) {\n    options = {\n      url: endpoint.options.url,\n      retryAttempts: 1,\n      retryCallback: retryCallback,\n    };\n  } else if (\n    externalType === \"3DTILES\" ||\n    externalType === \"STK_TERRAIN_SERVER\"\n  ) {\n    // 3D Tiles and STK Terrain Server external assets can still be represented as an IonResource\n    options = { url: endpoint.options.url };\n  } else {\n    //External imagery assets have additional configuration that can't be represented as a Resource\n    throw new RuntimeError(\n      \"Ion.createResource does not support external imagery assets; use IonImageryProvider instead.\",\n    );\n  }\n\n  Resource.call(this, options);\n\n  // The asset endpoint data returned from ion.\n  this._ionEndpoint = endpoint;\n  this._ionEndpointDomain = isExternal\n    ? undefined\n    : new Uri(endpoint.url).authority();\n\n  // The endpoint resource to fetch when a new token is needed\n  this._ionEndpointResource = endpointResource;\n\n  // The primary IonResource from which an instance is derived\n  this._ionRoot = undefined;\n\n  // Shared promise for endpooint requests amd credits (only ever set on the root request)\n  this._pendingPromise = undefined;\n  this._credits = undefined;\n  this._isExternal = isExternal;\n}\n\nif (defined(Object.create)) {\n  IonResource.prototype = Object.create(Resource.prototype);\n  IonResource.prototype.constructor = IonResource;\n}\n\n/**\n * Asynchronously creates an instance.\n *\n * @param {number} assetId The Cesium ion asset id.\n * @param {object} [options] An object with the following properties:\n * @param {string} [options.accessToken=Ion.defaultAccessToken] The access token to use.\n * @param {string|Resource} [options.server=Ion.defaultServer] The resource to the Cesium ion API server.\n * @returns {Promise<IonResource>} A Promise to an instance representing the Cesium ion Asset.\n *\n * @example\n * // Load a Cesium3DTileset with asset ID of 124624234\n * try {\n *   const resource = await Cesium.IonResource.fromAssetId(124624234);\n *   const tileset = await Cesium.Cesium3DTileset.fromUrl(resource);\n *   scene.primitives.add(tileset);\n * } catch (error) {\n *   console.error(`Error creating tileset: ${error}`);\n * }\n *\n * @example\n * //Load a CZML file with asset ID of 10890\n * Cesium.IonResource.fromAssetId(10890)\n *   .then(function (resource) {\n *     viewer.dataSources.add(Cesium.CzmlDataSource.load(resource));\n *   });\n */\nIonResource.fromAssetId = function (assetId, options) {\n  const endpointResource = IonResource._createEndpointResource(\n    assetId,\n    options,\n  );\n\n  return endpointResource.fetchJson().then(function (endpoint) {\n    return new IonResource(endpoint, endpointResource);\n  });\n};\n\nObject.defineProperties(IonResource.prototype, {\n  /**\n   * Gets the credits required for attribution of the asset.\n   *\n   * @memberof IonResource.prototype\n   * @type {Credit[]}\n   * @readonly\n   */\n  credits: {\n    get: function () {\n      // Only we're not the root, return its credits;\n      if (defined(this._ionRoot)) {\n        return this._ionRoot.credits;\n      }\n\n      // We are the root\n      if (defined(this._credits)) {\n        return this._credits;\n      }\n\n      this._credits = IonResource.getCreditsFromEndpoint(\n        this._ionEndpoint,\n        this._ionEndpointResource,\n      );\n\n      return this._credits;\n    },\n  },\n});\n\n/** @private */\nIonResource.getCreditsFromEndpoint = function (endpoint, endpointResource) {\n  const credits = endpoint.attributions.map(Credit.getIonCredit);\n  const defaultTokenCredit = Ion.getDefaultTokenCredit(\n    endpointResource.queryParameters.access_token,\n  );\n  if (defined(defaultTokenCredit)) {\n    credits.push(Credit.clone(defaultTokenCredit));\n  }\n  return credits;\n};\n\n/** @inheritdoc */\nIonResource.prototype.clone = function (result) {\n  // We always want to use the root's information because it's the most up-to-date\n  const ionRoot = this._ionRoot ?? this;\n\n  if (!defined(result)) {\n    result = new IonResource(\n      ionRoot._ionEndpoint,\n      ionRoot._ionEndpointResource,\n    );\n  }\n\n  result = Resource.prototype.clone.call(this, result);\n  result._ionRoot = ionRoot;\n  result._isExternal = this._isExternal;\n\n  return result;\n};\n\nIonResource.prototype.fetchImage = function (options) {\n  if (!this._isExternal) {\n    const userOptions = options;\n    options = {\n      preferBlob: true,\n    };\n    if (defined(userOptions)) {\n      options.flipY = userOptions.flipY;\n      options.preferImageBitmap = userOptions.preferImageBitmap;\n    }\n  }\n\n  return Resource.prototype.fetchImage.call(this, options);\n};\n\nIonResource.prototype._makeRequest = function (options) {\n  // Don't send ion access token to non-ion servers.\n  if (\n    this._isExternal ||\n    new Uri(this.url).authority() !== this._ionEndpointDomain\n  ) {\n    return Resource.prototype._makeRequest.call(this, options);\n  }\n\n  addClientHeaders(options);\n  options.headers.Authorization = `Bearer ${this._ionEndpoint.accessToken}`;\n\n  return Resource.prototype._makeRequest.call(this, options);\n};\n\n/**\n * @private\n **/\nIonResource._createEndpointResource = function (assetId, options) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"assetId\", assetId);\n  //>>includeEnd('debug');\n\n  options = options ?? Frozen.EMPTY_OBJECT;\n  let server = options.server ?? Ion.defaultServer;\n  const accessToken = options.accessToken ?? Ion.defaultAccessToken;\n  server = Resource.createIfNeeded(server);\n\n  const resourceOptions = {\n    url: `v1/assets/${assetId}/endpoint`,\n  };\n\n  if (defined(accessToken)) {\n    resourceOptions.queryParameters = { access_token: accessToken };\n  }\n\n  if (defined(options.queryParameters)) {\n    resourceOptions.queryParameters = {\n      ...resourceOptions.queryParameters,\n      ...options.queryParameters,\n    };\n  }\n\n  addClientHeaders(resourceOptions);\n\n  return server.getDerivedResource(resourceOptions);\n};\n\nfunction addClientHeaders(options) {\n  if (!defined(options.headers)) {\n    options.headers = {};\n  }\n  options.headers[\"X-Cesium-Client\"] = \"CesiumJS\";\n  /* global CESIUM_VERSION */\n  if (typeof CESIUM_VERSION !== \"undefined\") {\n    options.headers[\"X-Cesium-Client-Version\"] = CESIUM_VERSION;\n  }\n}\n\nfunction retryCallback(that, error) {\n  const ionRoot = that._ionRoot ?? that;\n  const endpointResource = ionRoot._ionEndpointResource;\n\n  // Image is not available in worker threads, so this avoids\n  // a ReferenceError\n  const imageDefined = typeof Image !== \"undefined\";\n\n  // We only want to retry in the case of invalid credentials (401) or image\n  // requests(since Image failures can not provide a status code)\n  if (\n    !defined(error) ||\n    (error.statusCode !== 401 &&\n      !(imageDefined && error.target instanceof Image))\n  ) {\n    return Promise.resolve(false);\n  }\n\n  // We use a shared pending promise for all derived assets, since they share\n  // a common access_token.  If we're already requesting a new token for this\n  // asset, we wait on the same promise.\n  if (!defined(ionRoot._pendingPromise)) {\n    ionRoot._pendingPromise = endpointResource\n      .fetchJson()\n      .then(function (newEndpoint) {\n        // Set the token for root resource so new derived resources automatically pick it up\n        ionRoot._ionEndpoint = newEndpoint;\n        // Reset the session token for Google 2D imagery\n        if (newEndpoint.externalType === \"GOOGLE_2D_MAPS\") {\n          ionRoot.setQueryParameters({\n            session: newEndpoint.options.session,\n            key: newEndpoint.options.key,\n          });\n        }\n        if (newEndpoint.externalType === \"AZURE_MAPS\") {\n          ionRoot.setQueryParameters({\n            \"subscription-key\": newEndpoint.options[\"subscription-key\"],\n          });\n        }\n        return ionRoot._ionEndpoint;\n      })\n      .finally(function (newEndpoint) {\n        // Pass or fail, we're done with this promise, the next failure should use a new one.\n        ionRoot._pendingPromise = undefined;\n        return newEndpoint;\n      });\n  }\n\n  return ionRoot._pendingPromise.then(function (newEndpoint) {\n    // Set the new token and endpoint for this resource\n    that._ionEndpoint = newEndpoint;\n    return true;\n  });\n}\n\nexport default IonResource;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}