{"ast":null,"code":"export default {\n  name: 'VisualizationPanel',\n  props: {\n    selectedRoute: {\n      type: Object,\n      default: null\n    },\n    alarmPoints: {\n      type: Array,\n      default: () => []\n    }\n  },\n  methods: {\n    // 更改视图模式\n    changeViewMode(mode) {\n      this.$emit('view-mode-changed', mode);\n    },\n    // 刷新视图\n    refreshView() {\n      this.$emit('refresh-view');\n    },\n    // 显示报警详情\n    showAlarmDetail(alarm) {\n      this.$emit('show-alarm-detail', alarm);\n    },\n    // 获取报警标记样式\n    getAlarmMarkerStyle(alarm) {\n      // 简单示例，实际项目中应该根据具体坐标计算位置\n      return {\n        left: `${30 + alarm.id * 5}%`,\n        top: `${40 + alarm.id * 3}%`\n      };\n    },\n    // 获取报警标记类名\n    getAlarmMarkerClass(alarm) {\n      const severityClass = {\n        '高': 'high-severity',\n        '中': 'medium-severity',\n        '低': 'low-severity'\n      };\n      return severityClass[alarm.severity] || 'low-severity';\n    }\n  }\n};","map":{"version":3,"names":["name","props","selectedRoute","type","Object","default","alarmPoints","Array","methods","changeViewMode","mode","$emit","refreshView","showAlarmDetail","alarm","getAlarmMarkerStyle","left","id","top","getAlarmMarkerClass","severityClass","severity"],"sources":["D:\\projects\\FlightHub-2-Frontend-Standalone-Component\\frontend\\src\\components\\VisualizationPanel.vue"],"sourcesContent":["<template>\n  <div class=\"visualization-panel\">\n    <div class=\"panel-header\">\n      <h3 class=\"panel-title\">\n        3D可视化\n        <span v-if=\"selectedRoute\" class=\"route-name\">\n          {{ selectedRoute.name }}\n        </span>\n      </h3>\n      <div class=\"header-controls\">\n        <el-dropdown @command=\"changeViewMode\">\n          <el-button size=\"small\" plain>\n            视图模式 <i class=\"el-icon-arrow-down el-icon--right\"></i>\n          </el-button>\n          <template #dropdown>\n            <el-dropdown-menu>\n              <el-dropdown-item command=\"3d\">3D视图</el-dropdown-item>\n              <el-dropdown-item command=\"top\">顶视图</el-dropdown-item>\n              <el-dropdown-item command=\"side\">侧视图</el-dropdown-item>\n            </el-dropdown-menu>\n          </template>\n        </el-dropdown>\n        <el-button size=\"small\" plain @click=\"refreshView\">\n          <i class=\"el-icon-refresh\"></i>\n          刷新\n        </el-button>\n      </div>\n    </div>\n    \n    <div class=\"visualization-container\">\n      <div class=\"scene-container\">\n        <!-- 3D场景占位符 -->\n        <div class=\"scene-placeholder\">\n          <i class=\"el-icon-box\"></i>\n          <p>3D场景加载中...</p>\n          <p class=\"hint\">选择航线以显示3D模型</p>\n        </div>\n        \n        <!-- 报警标记点 -->\n        <div \n          v-for=\"alarm in alarmPoints\" \n          :key=\"alarm.id\"\n          class=\"alarm-marker\"\n          :style=\"getAlarmMarkerStyle(alarm)\"\n          @click=\"showAlarmDetail(alarm)\"\n        >\n          <div \n            class=\"marker-icon\"\n            :class=\"getAlarmMarkerClass(alarm)\"\n          >\n          </div>\n        </div>\n      </div>\n      \n      <div class=\"scene-info\">\n        <div class=\"info-item\">\n          <span class=\"info-label\">比例:</span>\n          <span>1:1000</span>\n        </div>\n        <div class=\"info-item\">\n          <span class=\"info-label\">高程:</span>\n          <span>50m</span>\n        </div>\n        <div class=\"info-item\">\n          <span class=\"info-label\">坐标:</span>\n          <span>(23.124, 113.235)</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'VisualizationPanel',\n  props: {\n    selectedRoute: {\n      type: Object,\n      default: null\n    },\n    alarmPoints: {\n      type: Array,\n      default: () => []\n    }\n  },\n  methods: {\n    // 更改视图模式\n    changeViewMode(mode) {\n      this.$emit('view-mode-changed', mode)\n    },\n    \n    // 刷新视图\n    refreshView() {\n      this.$emit('refresh-view')\n    },\n    \n    // 显示报警详情\n    showAlarmDetail(alarm) {\n      this.$emit('show-alarm-detail', alarm)\n    },\n    \n    // 获取报警标记样式\n    getAlarmMarkerStyle(alarm) {\n      // 简单示例，实际项目中应该根据具体坐标计算位置\n      return {\n        left: `${30 + alarm.id * 5}%`,\n        top: `${40 + alarm.id * 3}%`\n      }\n    },\n    \n    // 获取报警标记类名\n    getAlarmMarkerClass(alarm) {\n      const severityClass = {\n        '高': 'high-severity',\n        '中': 'medium-severity',\n        '低': 'low-severity'\n      }\n      return severityClass[alarm.severity] || 'low-severity'\n    }\n  }\n}\n</script>\n\n<style scoped>\n.visualization-panel {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background-color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n}\n\n.panel-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 15px;\n  border-bottom: 1px solid #ebeef5;\n  background-color: #f5f7fa;\n}\n\n.panel-title {\n  margin: 0;\n  font-size: 16px;\n  font-weight: bold;\n  color: #303133;\n}\n\n.route-name {\n  margin-left: 10px;\n  font-size: 14px;\n  color: #409eff;\n  background-color: #ecf5ff;\n  padding: 2px 8px;\n  border-radius: 10px;\n}\n\n.header-controls {\n  display: flex;\n  gap: 10px;\n}\n\n.visualization-container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.scene-container {\n  flex: 1;\n  position: relative;\n  background-color: #1a1a2e;\n  overflow: hidden;\n}\n\n.scene-placeholder {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n  color: #6c757d;\n}\n\n.scene-placeholder i {\n  font-size: 48px;\n  margin-bottom: 15px;\n  color: #495057;\n}\n\n.scene-placeholder p {\n  margin: 5px 0;\n}\n\n.scene-placeholder .hint {\n  font-size: 12px;\n  color: #adb5bd;\n}\n\n.alarm-marker {\n  position: absolute;\n  cursor: pointer;\n}\n\n.marker-icon {\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  animation: pulse 2s infinite;\n}\n\n.high-severity {\n  background-color: #f56c6c;\n  box-shadow: 0 0 0 0 rgba(245, 108, 108, 0.7);\n}\n\n.medium-severity {\n  background-color: #e6a23c;\n  box-shadow: 0 0 0 0 rgba(230, 162, 60, 0.7);\n}\n\n.low-severity {\n  background-color: #409eff;\n  box-shadow: 0 0 0 0 rgba(64, 158, 255, 0.7);\n}\n\n@keyframes pulse {\n  0% {\n    box-shadow: 0 0 0 0 rgba(64, 158, 255, 0.7);\n  }\n  70% {\n    box-shadow: 0 0 0 10px rgba(64, 158, 255, 0);\n  }\n  100% {\n    box-shadow: 0 0 0 0 rgba(64, 158, 255, 0);\n  }\n}\n\n.scene-info {\n  display: flex;\n  justify-content: space-between;\n  padding: 8px 15px;\n  background-color: #f8f9fa;\n  border-top: 1px solid #e9ecef;\n  font-size: 12px;\n  color: #495057;\n}\n\n.info-item {\n  display: flex;\n  gap: 5px;\n}\n\n.info-label {\n  font-weight: 500;\n}\n</style>"],"mappings":"AAyEA,eAAe;EACbA,IAAI,EAAE,oBAAoB;EAC1BC,KAAK,EAAE;IACLC,aAAa,EAAE;MACbC,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE;IACX,CAAC;IACDC,WAAW,EAAE;MACXH,IAAI,EAAEI,KAAK;MACXF,OAAO,EAAEA,CAAA,KAAM;IACjB;EACF,CAAC;EACDG,OAAO,EAAE;IACP;IACAC,cAAcA,CAACC,IAAI,EAAE;MACnB,IAAI,CAACC,KAAK,CAAC,mBAAmB,EAAED,IAAI;IACtC,CAAC;IAED;IACAE,WAAWA,CAAA,EAAG;MACZ,IAAI,CAACD,KAAK,CAAC,cAAc;IAC3B,CAAC;IAED;IACAE,eAAeA,CAACC,KAAK,EAAE;MACrB,IAAI,CAACH,KAAK,CAAC,mBAAmB,EAAEG,KAAK;IACvC,CAAC;IAED;IACAC,mBAAmBA,CAACD,KAAK,EAAE;MACzB;MACA,OAAO;QACLE,IAAI,EAAE,GAAG,EAAC,GAAIF,KAAK,CAACG,EAAC,GAAI,CAAC,GAAG;QAC7BC,GAAG,EAAE,GAAG,EAAC,GAAIJ,KAAK,CAACG,EAAC,GAAI,CAAC;MAC3B;IACF,CAAC;IAED;IACAE,mBAAmBA,CAACL,KAAK,EAAE;MACzB,MAAMM,aAAY,GAAI;QACpB,GAAG,EAAE,eAAe;QACpB,GAAG,EAAE,iBAAiB;QACtB,GAAG,EAAE;MACP;MACA,OAAOA,aAAa,CAACN,KAAK,CAACO,QAAQ,KAAK,cAAa;IACvD;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}