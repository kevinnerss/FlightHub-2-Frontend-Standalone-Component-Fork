{"ast":null,"code":"import { TinyColor } from '@ctrl/tinycolor';\nimport { hasOwn } from '@vue/shared';\nclass Color {\n  constructor(options = {}) {\n    this._hue = 0;\n    this._saturation = 100;\n    this._value = 100;\n    this._alpha = 100;\n    this._tiny = new TinyColor();\n    this._isValid = false;\n    this.enableAlpha = false;\n    this.format = \"\";\n    this.value = \"\";\n    for (const option in options) {\n      if (hasOwn(options, option)) {\n        this[option] = options[option];\n      }\n    }\n    if (options.value) {\n      this.fromString(options.value);\n    } else {\n      this.doOnChange();\n    }\n  }\n  set(prop, value) {\n    if (arguments.length === 1 && typeof prop === \"object\") {\n      for (const p in prop) {\n        if (hasOwn(prop, p)) {\n          this.set(p, prop[p]);\n        }\n      }\n      return;\n    }\n    this[`_${prop}`] = value;\n    this._isValid = true;\n    this.doOnChange();\n  }\n  get(prop) {\n    if ([\"hue\", \"saturation\", \"value\", \"alpha\"].includes(prop)) {\n      return Math.round(this[`_${prop}`]);\n    }\n    return this[`_${prop}`];\n  }\n  toRgb() {\n    return this._isValid ? this._tiny.toRgb() : {\n      r: 255,\n      g: 255,\n      b: 255,\n      a: 0\n    };\n  }\n  fromString(value) {\n    const color = new TinyColor(value);\n    this._isValid = color.isValid;\n    if (color.isValid) {\n      const {\n        h,\n        s,\n        v,\n        a\n      } = color.toHsv();\n      this._hue = h;\n      this._saturation = s * 100;\n      this._value = v * 100;\n      this._alpha = a * 100;\n    } else {\n      this._hue = 0;\n      this._saturation = 100;\n      this._value = 100;\n      this._alpha = 100;\n    }\n    this.doOnChange();\n  }\n  clear() {\n    this._isValid = false;\n    this.value = \"\";\n    this._hue = 0;\n    this._saturation = 100;\n    this._value = 100;\n    this._alpha = 100;\n  }\n  compare(color) {\n    const compareColor = new TinyColor({\n      h: color._hue,\n      s: color._saturation / 100,\n      v: color._value / 100,\n      a: color._alpha / 100\n    });\n    return this._tiny.equals(compareColor);\n  }\n  doOnChange() {\n    const {\n      _hue,\n      _saturation,\n      _value,\n      _alpha,\n      format,\n      enableAlpha\n    } = this;\n    let _format = format || (enableAlpha ? \"rgb\" : \"hex\");\n    if (format === \"hex\" && enableAlpha) {\n      _format = \"hex8\";\n    }\n    this._tiny = new TinyColor({\n      h: _hue,\n      s: _saturation / 100,\n      v: _value / 100,\n      a: _alpha / 100\n    });\n    this.value = this._isValid ? this._tiny.toString(_format) : \"\";\n  }\n}\nexport { Color as default };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}