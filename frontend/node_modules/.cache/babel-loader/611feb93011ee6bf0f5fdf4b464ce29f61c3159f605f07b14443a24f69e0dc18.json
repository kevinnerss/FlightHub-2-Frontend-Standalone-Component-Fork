{"ast":null,"code":"import { Gamepad, VideoPlay, VideoPause, VideoStop, RefreshLeft, WarningFilled } from '@element-plus/icons-vue';\nexport default {\n  name: 'ControlPanel',\n  props: {\n    currentStatus: {\n      type: String,\n      default: '待命'\n    },\n    targetAltitude: {\n      type: Number,\n      default: 0\n    },\n    targetSpeed: {\n      type: Number,\n      default: 0\n    }\n  },\n  data() {\n    return {\n      localTargetAltitude: this.targetAltitude,\n      localTargetSpeed: this.targetSpeed,\n      isProcessingEmergencyStop: false\n    };\n  },\n  watch: {\n    targetAltitude(newVal) {\n      this.localTargetAltitude = newVal;\n    },\n    targetSpeed(newVal) {\n      this.localTargetSpeed = newVal;\n    }\n  },\n  methods: {\n    // 处理控制动作\n    handleControl(action) {\n      this.$emit('control-action', action);\n    },\n    // 处理高度变更\n    handleAltitudeChange() {\n      this.$emit('update-altitude', this.localTargetAltitude);\n    },\n    // 处理速度变更\n    handleSpeedChange() {\n      this.$emit('update-speed', this.localTargetSpeed);\n    },\n    // 处理紧急停止 (添加防抖功能)\n    async handleEmergencyStop() {\n      if (this.isProcessingEmergencyStop) return;\n      this.isProcessingEmergencyStop = true;\n      this.$emit('emergency-stop');\n\n      // 3秒后重置状态\n      setTimeout(() => {\n        this.isProcessingEmergencyStop = false;\n      }, 3000);\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}