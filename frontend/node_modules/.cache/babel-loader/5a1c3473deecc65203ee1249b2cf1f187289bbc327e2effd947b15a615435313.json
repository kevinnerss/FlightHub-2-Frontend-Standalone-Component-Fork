{"ast":null,"code":"import defined from \"../Core/defined.js\";\nimport FeatureDetection from \"../Core/FeatureDetection.js\";\nimport RuntimeError from \"../Core/RuntimeError.js\";\nimport TaskProcessor from \"../Core/TaskProcessor.js\";\nfunction GaussianSplatTextureGenerator() {}\nGaussianSplatTextureGenerator._maxSortingConcurrency = Math.max(FeatureDetection.hardwareConcurrency - 1, 1);\nGaussianSplatTextureGenerator._textureTaskProcessor = undefined;\nGaussianSplatTextureGenerator._taskProcessorReady = false;\nGaussianSplatTextureGenerator._error = undefined;\nGaussianSplatTextureGenerator._getTextureTaskProcessor = function () {\n  if (!defined(GaussianSplatTextureGenerator._textureTaskProcessor)) {\n    const processor = new TaskProcessor(\"gaussianSplatTextureGenerator\", GaussianSplatTextureGenerator._maxSortingConcurrency);\n    processor.initWebAssemblyModule({\n      wasmBinaryFile: \"ThirdParty/wasm_splats_bg.wasm\"\n    }).then(function (result) {\n      if (result) {\n        GaussianSplatTextureGenerator._taskProcessorReady = true;\n      } else {\n        GaussianSplatTextureGenerator._error = new RuntimeError(\"Gaussian splat sorter could not be initialized.\");\n      }\n    }).catch(error => {\n      GaussianSplatTextureGenerator._error = error;\n    });\n    GaussianSplatTextureGenerator._textureTaskProcessor = processor;\n  }\n  return GaussianSplatTextureGenerator._textureTaskProcessor;\n};\nGaussianSplatTextureGenerator.generateFromAttributes = function (parameters) {\n  const textureTaskProcessor = GaussianSplatTextureGenerator._getTextureTaskProcessor();\n  if (defined(GaussianSplatTextureGenerator._error)) {\n    throw GaussianSplatTextureGenerator._error;\n  }\n  if (!GaussianSplatTextureGenerator._taskProcessorReady) {\n    return;\n  }\n  const {\n    attributes\n  } = parameters;\n  return textureTaskProcessor.scheduleTask(parameters, [attributes.positions.buffer, attributes.scales.buffer, attributes.rotations.buffer, attributes.colors.buffer]);\n};\nexport default GaussianSplatTextureGenerator;","map":{"version":3,"names":["defined","FeatureDetection","RuntimeError","TaskProcessor","GaussianSplatTextureGenerator","_maxSortingConcurrency","Math","max","hardwareConcurrency","_textureTaskProcessor","undefined","_taskProcessorReady","_error","_getTextureTaskProcessor","processor","initWebAssemblyModule","wasmBinaryFile","then","result","catch","error","generateFromAttributes","parameters","textureTaskProcessor","attributes","scheduleTask","positions","buffer","scales","rotations","colors"],"sources":["D:/projects/FlightHub-2-Frontend-Standalone-Component/frontend/node_modules/@cesium/engine/Source/Scene/GaussianSplatTextureGenerator.js"],"sourcesContent":["import defined from \"../Core/defined.js\";\nimport FeatureDetection from \"../Core/FeatureDetection.js\";\nimport RuntimeError from \"../Core/RuntimeError.js\";\nimport TaskProcessor from \"../Core/TaskProcessor.js\";\n\nfunction GaussianSplatTextureGenerator() {}\n\nGaussianSplatTextureGenerator._maxSortingConcurrency = Math.max(\n  FeatureDetection.hardwareConcurrency - 1,\n  1,\n);\n\nGaussianSplatTextureGenerator._textureTaskProcessor = undefined;\nGaussianSplatTextureGenerator._taskProcessorReady = false;\nGaussianSplatTextureGenerator._error = undefined;\nGaussianSplatTextureGenerator._getTextureTaskProcessor = function () {\n  if (!defined(GaussianSplatTextureGenerator._textureTaskProcessor)) {\n    const processor = new TaskProcessor(\n      \"gaussianSplatTextureGenerator\",\n      GaussianSplatTextureGenerator._maxSortingConcurrency,\n    );\n    processor\n      .initWebAssemblyModule({\n        wasmBinaryFile: \"ThirdParty/wasm_splats_bg.wasm\",\n      })\n      .then(function (result) {\n        if (result) {\n          GaussianSplatTextureGenerator._taskProcessorReady = true;\n        } else {\n          GaussianSplatTextureGenerator._error = new RuntimeError(\n            \"Gaussian splat sorter could not be initialized.\",\n          );\n        }\n      })\n      .catch((error) => {\n        GaussianSplatTextureGenerator._error = error;\n      });\n    GaussianSplatTextureGenerator._textureTaskProcessor = processor;\n  }\n\n  return GaussianSplatTextureGenerator._textureTaskProcessor;\n};\n\nGaussianSplatTextureGenerator.generateFromAttributes = function (parameters) {\n  const textureTaskProcessor =\n    GaussianSplatTextureGenerator._getTextureTaskProcessor();\n  if (defined(GaussianSplatTextureGenerator._error)) {\n    throw GaussianSplatTextureGenerator._error;\n  }\n\n  if (!GaussianSplatTextureGenerator._taskProcessorReady) {\n    return;\n  }\n\n  const { attributes } = parameters;\n  return textureTaskProcessor.scheduleTask(parameters, [\n    attributes.positions.buffer,\n    attributes.scales.buffer,\n    attributes.rotations.buffer,\n    attributes.colors.buffer,\n  ]);\n};\n\nexport default GaussianSplatTextureGenerator;\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,oBAAoB;AACxC,OAAOC,gBAAgB,MAAM,6BAA6B;AAC1D,OAAOC,YAAY,MAAM,yBAAyB;AAClD,OAAOC,aAAa,MAAM,0BAA0B;AAEpD,SAASC,6BAA6BA,CAAA,EAAG,CAAC;AAE1CA,6BAA6B,CAACC,sBAAsB,GAAGC,IAAI,CAACC,GAAG,CAC7DN,gBAAgB,CAACO,mBAAmB,GAAG,CAAC,EACxC,CACF,CAAC;AAEDJ,6BAA6B,CAACK,qBAAqB,GAAGC,SAAS;AAC/DN,6BAA6B,CAACO,mBAAmB,GAAG,KAAK;AACzDP,6BAA6B,CAACQ,MAAM,GAAGF,SAAS;AAChDN,6BAA6B,CAACS,wBAAwB,GAAG,YAAY;EACnE,IAAI,CAACb,OAAO,CAACI,6BAA6B,CAACK,qBAAqB,CAAC,EAAE;IACjE,MAAMK,SAAS,GAAG,IAAIX,aAAa,CACjC,+BAA+B,EAC/BC,6BAA6B,CAACC,sBAChC,CAAC;IACDS,SAAS,CACNC,qBAAqB,CAAC;MACrBC,cAAc,EAAE;IAClB,CAAC,CAAC,CACDC,IAAI,CAAC,UAAUC,MAAM,EAAE;MACtB,IAAIA,MAAM,EAAE;QACVd,6BAA6B,CAACO,mBAAmB,GAAG,IAAI;MAC1D,CAAC,MAAM;QACLP,6BAA6B,CAACQ,MAAM,GAAG,IAAIV,YAAY,CACrD,iDACF,CAAC;MACH;IACF,CAAC,CAAC,CACDiB,KAAK,CAAEC,KAAK,IAAK;MAChBhB,6BAA6B,CAACQ,MAAM,GAAGQ,KAAK;IAC9C,CAAC,CAAC;IACJhB,6BAA6B,CAACK,qBAAqB,GAAGK,SAAS;EACjE;EAEA,OAAOV,6BAA6B,CAACK,qBAAqB;AAC5D,CAAC;AAEDL,6BAA6B,CAACiB,sBAAsB,GAAG,UAAUC,UAAU,EAAE;EAC3E,MAAMC,oBAAoB,GACxBnB,6BAA6B,CAACS,wBAAwB,CAAC,CAAC;EAC1D,IAAIb,OAAO,CAACI,6BAA6B,CAACQ,MAAM,CAAC,EAAE;IACjD,MAAMR,6BAA6B,CAACQ,MAAM;EAC5C;EAEA,IAAI,CAACR,6BAA6B,CAACO,mBAAmB,EAAE;IACtD;EACF;EAEA,MAAM;IAAEa;EAAW,CAAC,GAAGF,UAAU;EACjC,OAAOC,oBAAoB,CAACE,YAAY,CAACH,UAAU,EAAE,CACnDE,UAAU,CAACE,SAAS,CAACC,MAAM,EAC3BH,UAAU,CAACI,MAAM,CAACD,MAAM,EACxBH,UAAU,CAACK,SAAS,CAACF,MAAM,EAC3BH,UAAU,CAACM,MAAM,CAACH,MAAM,CACzB,CAAC;AACJ,CAAC;AAED,eAAevB,6BAA6B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}