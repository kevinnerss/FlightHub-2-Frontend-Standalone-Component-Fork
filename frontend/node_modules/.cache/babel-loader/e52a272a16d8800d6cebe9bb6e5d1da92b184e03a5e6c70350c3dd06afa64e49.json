{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport { DjiProject, DjiWaylineCreation } from '../djispace-components';\nimport TaskProgressBar from '../components/TaskProgressBar.vue';\nimport AlarmPanel from '../components/AlarmPanel.vue';\nexport default {\n  name: 'DjiDashboard',\n  components: {\n    DjiProject,\n    DjiWaylineCreation,\n    TaskProgressBar,\n    AlarmPanel\n  },\n  data() {\n    return {\n      showWaylineCreation: false,\n      taskProgress: 65,\n      currentTask: '变电站设备检查',\n      remainingTime: '12:45',\n      completedTasks: 8,\n      totalTasks: 12,\n      // 配置信息需要根据实际环境进行修改\n      djiConfig: {\n        serverUrl: 'http://your-dji-server-ip-or-domain:30812',\n        wssUrl: 'ws://your-dji-server-ip-or-domain:30812/duplex/web',\n        hostUrl: 'http://your-dji-server-ip-or-domain',\n        // 复制 prjId 到这里\n        prjId: 'cdca2736-8096-4729-9bc7-497ad5b60d5e',\n        // 复制 projectToken 到这里\n        projectToken: 'your-project-token-here'\n      },\n      // 模拟报警数据\n      mockAlarms: [{\n        id: 1,\n        title: '电力线异常发热',\n        description: '在坐标(23.124, 113.235)处检测到电力线温度异常升高，可能存在线路老化或过载情况。',\n        timestamp: '2024-01-15T14:22:35',\n        location: '变电站A区域-东线路',\n        type: '温度异常',\n        severity: '高',\n        imageUrl: 'https://picsum.photos/800/600?random=1'\n      }, {\n        id: 2,\n        title: '绝缘子损伤',\n        description: '在铁塔#128处发现绝缘子表面有明显裂纹，需要进一步检查。',\n        timestamp: '2024-01-15T13:45:12',\n        location: '铁塔#128',\n        type: '设备损伤',\n        severity: '中',\n        imageUrl: 'https://picsum.photos/800/600?random=2'\n      }]\n    };\n  },\n  methods: {\n    openWaylineCreation() {\n      this.showWaylineCreation = true;\n    },\n    refreshProject() {\n      if (this.$refs.projectComponent) {\n        this.$refs.projectComponent.refresh();\n      }\n    },\n    handleAlarmRefresh() {\n      console.log('刷新报警信息');\n    },\n    handleViewAlarmDetail(alarm) {\n      console.log('查看报警详情:', alarm);\n    },\n    handleProcessAlarm(alarmId) {\n      console.log('处理报警:', alarmId);\n      // 从mockAlarms中移除已处理的报警\n      this.mockAlarms = this.mockAlarms.filter(alarm => alarm.id !== alarmId);\n    }\n  }\n};","map":{"version":3,"names":["DjiProject","DjiWaylineCreation","TaskProgressBar","AlarmPanel","name","components","data","showWaylineCreation","taskProgress","currentTask","remainingTime","completedTasks","totalTasks","djiConfig","serverUrl","wssUrl","hostUrl","prjId","projectToken","mockAlarms","id","title","description","timestamp","location","type","severity","imageUrl","methods","openWaylineCreation","refreshProject","$refs","projectComponent","refresh","handleAlarmRefresh","console","log","handleViewAlarmDetail","alarm","handleProcessAlarm","alarmId","filter"],"sources":["D:\\projects\\FlightHub-2-Frontend-Standalone-Component\\frontend\\src\\views\\DjiDashboard.vue"],"sourcesContent":["<template>\n  <div class=\"dji-dashboard\">\n    <el-container class=\"h-screen overflow-hidden\">\n      <!-- 左侧导航 -->\n      <el-aside width=\"240px\" class=\"bg-white shadow-sm overflow-hidden\">\n        <el-card shadow=\"never\" class=\"h-full border-0\">\n          <template #header>\n            <div class=\"flex items-center justify-between\">\n              <span class=\"text-lg font-medium\">航线管理</span>\n              <el-button type=\"primary\" size=\"small\" plain @click=\"openWaylineCreation\">\n                新增\n              </el-button>\n            </div>\n          </template>\n          <el-scrollbar class=\"h-[calc(100%-50px)]\">\n            <!-- 使用大疆提供的航线列表组件 -->\n            <div class=\"p-4\">\n              <p class=\"text-gray-500 text-sm\">航线列表将在这里显示（由大疆组件提供）</p>\n            </div>\n          </el-scrollbar>\n        </el-card>\n      </el-aside>\n      \n      <el-container>\n        <!-- 顶部进度条 -->\n        <el-header height=\"60px\" class=\"bg-white border-b p-0\">\n          <TaskProgressBar \n            :progress=\"taskProgress\"\n            :current-task=\"currentTask\"\n            :remaining-time=\"remainingTime\"\n            :completed-tasks=\"completedTasks\"\n            :total-tasks=\"totalTasks\"\n          />\n        </el-header>\n        \n        <el-container class=\"p-4 gap-4\">\n          <!-- 主内容区 - 项目地图 -->\n          <el-main class=\"p-0\">\n            <el-card shadow=\"hover\" class=\"h-full border-0\">\n              <template #header>\n                <div class=\"flex items-center justify-between\">\n                  <span class=\"text-lg font-medium\">项目地图</span>\n                  <div class=\"flex items-center gap-2\">\n                    <el-button type=\"primary\" size=\"small\" plain @click=\"refreshProject\">\n                      刷新\n                    </el-button>\n                  </div>\n                </div>\n              </template>\n              <DjiProject \n                ref=\"projectComponent\"\n                :config=\"djiConfig\"\n                class=\"h-[calc(100%-60px)]\"\n              />\n            </el-card>\n          </el-main>\n          \n          <!-- 右侧面板 -->\n          <el-aside width=\"320px\" class=\"space-y-4 overflow-hidden\">\n            <!-- 报警信息面板 -->\n            <el-card shadow=\"hover\" class=\"h-[35%] border-0\">\n              <template #header>\n                <div class=\"flex items-center justify-between\">\n                  <span class=\"text-base font-medium\">报警信息</span>\n                </div>\n              </template>\n              <AlarmPanel \n                :alarms=\"mockAlarms\"\n                @refresh=\"handleAlarmRefresh\"\n                @view-detail=\"handleViewAlarmDetail\"\n                @process-alarm=\"handleProcessAlarm\"\n                class=\"h-[calc(100%-50px)]\"\n              />\n            </el-card>\n            \n            <!-- 实时监控面板 -->\n            <el-card shadow=\"hover\" class=\"h-[30%] border-0\">\n              <template #header>\n                <div class=\"flex items-center justify-between\">\n                  <span class=\"text-base font-medium\">实时监控</span>\n                </div>\n              </template>\n              <div class=\"h-[calc(100%-50px)] flex items-center justify-center\">\n                <p class=\"text-gray-500 text-sm\">实时监控将在这里显示（由大疆组件提供）</p>\n              </div>\n            </el-card>\n            \n            <!-- 控制面板 -->\n            <el-card shadow=\"hover\" class=\"h-[35%] border-0\">\n              <template #header>\n                <div class=\"flex items-center justify-between\">\n                  <span class=\"text-base font-medium\">无人机控制</span>\n                </div>\n              </template>\n              <div class=\"h-[calc(100%-50px)] flex items-center justify-center\">\n                <p class=\"text-gray-500 text-sm\">控制面板将在这里显示（由大疆组件提供）</p>\n              </div>\n            </el-card>\n          </el-aside>\n        </el-container>\n      </el-container>\n    </el-container>\n    \n    <!-- 航线创建对话框 -->\n    <el-dialog\n      v-model=\"showWaylineCreation\"\n      title=\"创建航线\"\n      width=\"90%\"\n      height=\"90%\"\n      destroy-on-close\n    >\n      <div style=\"height: 70vh\">\n        <DjiWaylineCreation \n          v-if=\"showWaylineCreation\"\n          ref=\"waylineCreationComponent\"\n          :config=\"djiConfig\"\n        />\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { DjiProject, DjiWaylineCreation } from '../djispace-components'\nimport TaskProgressBar from '../components/TaskProgressBar.vue'\nimport AlarmPanel from '../components/AlarmPanel.vue'\n\nexport default {\n  name: 'DjiDashboard',\n  components: {\n    DjiProject,\n    DjiWaylineCreation,\n    TaskProgressBar,\n    AlarmPanel\n  },\n  data() {\n    return {\n      showWaylineCreation: false,\n      taskProgress: 65,\n      currentTask: '变电站设备检查',\n      remainingTime: '12:45',\n      completedTasks: 8,\n      totalTasks: 12,\n      // 配置信息需要根据实际环境进行修改\n      djiConfig: {\n        serverUrl: 'http://your-dji-server-ip-or-domain:30812',\n        wssUrl: 'ws://your-dji-server-ip-or-domain:30812/duplex/web',\n        hostUrl: 'http://your-dji-server-ip-or-domain',\n        // 复制 prjId 到这里\n        prjId: 'cdca2736-8096-4729-9bc7-497ad5b60d5e',\n        // 复制 projectToken 到这里\n        projectToken: 'your-project-token-here'\n      },\n      // 模拟报警数据\n      mockAlarms: [\n        {\n          id: 1,\n          title: '电力线异常发热',\n          description: '在坐标(23.124, 113.235)处检测到电力线温度异常升高，可能存在线路老化或过载情况。',\n          timestamp: '2024-01-15T14:22:35',\n          location: '变电站A区域-东线路',\n          type: '温度异常',\n          severity: '高',\n          imageUrl: 'https://picsum.photos/800/600?random=1'\n        },\n        {\n          id: 2,\n          title: '绝缘子损伤',\n          description: '在铁塔#128处发现绝缘子表面有明显裂纹，需要进一步检查。',\n          timestamp: '2024-01-15T13:45:12',\n          location: '铁塔#128',\n          type: '设备损伤',\n          severity: '中',\n          imageUrl: 'https://picsum.photos/800/600?random=2'\n        }\n      ]\n    }\n  },\n  methods: {\n    openWaylineCreation() {\n      this.showWaylineCreation = true\n    },\n    refreshProject() {\n      if (this.$refs.projectComponent) {\n        this.$refs.projectComponent.refresh()\n      }\n    },\n    handleAlarmRefresh() {\n      console.log('刷新报警信息')\n    },\n    handleViewAlarmDetail(alarm) {\n      console.log('查看报警详情:', alarm)\n    },\n    handleProcessAlarm(alarmId) {\n      console.log('处理报警:', alarmId)\n      // 从mockAlarms中移除已处理的报警\n      this.mockAlarms = this.mockAlarms.filter(alarm => alarm.id !== alarmId)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.dji-dashboard {\n  width: 100%;\n  height: 100%;\n}\n</style>"],"mappings":";;AA2HA,SAASA,UAAU,EAAEC,kBAAiB,QAAS,wBAAuB;AACtE,OAAOC,eAAc,MAAO,mCAAkC;AAC9D,OAAOC,UAAS,MAAO,8BAA6B;AAEpD,eAAe;EACbC,IAAI,EAAE,cAAc;EACpBC,UAAU,EAAE;IACVL,UAAU;IACVC,kBAAkB;IAClBC,eAAe;IACfC;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,mBAAmB,EAAE,KAAK;MAC1BC,YAAY,EAAE,EAAE;MAChBC,WAAW,EAAE,SAAS;MACtBC,aAAa,EAAE,OAAO;MACtBC,cAAc,EAAE,CAAC;MACjBC,UAAU,EAAE,EAAE;MACd;MACAC,SAAS,EAAE;QACTC,SAAS,EAAE,2CAA2C;QACtDC,MAAM,EAAE,oDAAoD;QAC5DC,OAAO,EAAE,qCAAqC;QAC9C;QACAC,KAAK,EAAE,sCAAsC;QAC7C;QACAC,YAAY,EAAE;MAChB,CAAC;MACD;MACAC,UAAU,EAAE,CACV;QACEC,EAAE,EAAE,CAAC;QACLC,KAAK,EAAE,SAAS;QAChBC,WAAW,EAAE,kDAAkD;QAC/DC,SAAS,EAAE,qBAAqB;QAChCC,QAAQ,EAAE,YAAY;QACtBC,IAAI,EAAE,MAAM;QACZC,QAAQ,EAAE,GAAG;QACbC,QAAQ,EAAE;MACZ,CAAC,EACD;QACEP,EAAE,EAAE,CAAC;QACLC,KAAK,EAAE,OAAO;QACdC,WAAW,EAAE,+BAA+B;QAC5CC,SAAS,EAAE,qBAAqB;QAChCC,QAAQ,EAAE,QAAQ;QAClBC,IAAI,EAAE,MAAM;QACZC,QAAQ,EAAE,GAAG;QACbC,QAAQ,EAAE;MACZ;IAEJ;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,mBAAmBA,CAAA,EAAG;MACpB,IAAI,CAACtB,mBAAkB,GAAI,IAAG;IAChC,CAAC;IACDuB,cAAcA,CAAA,EAAG;MACf,IAAI,IAAI,CAACC,KAAK,CAACC,gBAAgB,EAAE;QAC/B,IAAI,CAACD,KAAK,CAACC,gBAAgB,CAACC,OAAO,CAAC;MACtC;IACF,CAAC;IACDC,kBAAkBA,CAAA,EAAG;MACnBC,OAAO,CAACC,GAAG,CAAC,QAAQ;IACtB,CAAC;IACDC,qBAAqBA,CAACC,KAAK,EAAE;MAC3BH,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEE,KAAK;IAC9B,CAAC;IACDC,kBAAkBA,CAACC,OAAO,EAAE;MAC1BL,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEI,OAAO;MAC5B;MACA,IAAI,CAACrB,UAAS,GAAI,IAAI,CAACA,UAAU,CAACsB,MAAM,CAACH,KAAI,IAAKA,KAAK,CAAClB,EAAC,KAAMoB,OAAO;IACxE;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}