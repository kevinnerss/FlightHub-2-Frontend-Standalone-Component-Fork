{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport { defineComponent, toRef, getCurrentInstance, watch, computed, provide, reactive, openBlock, createElementBlock, normalizeClass, unref, normalizeStyle, renderSlot, createVNode, createCommentVNode, nextTick } from 'vue';\nimport { splitterProps } from './splitter.mjs';\nimport { splitterRootContextKey } from './type.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useContainer } from './hooks/useContainer.mjs';\nimport { useSize } from './hooks/useSize.mjs';\nimport { useResize } from './hooks/useResize.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { useOrderedChildren } from '../../../hooks/use-ordered-children/index.mjs';\nconst __default__ = defineComponent({\n  name: \"ElSplitter\"\n});\nconst _sfc_main = /* @__PURE__ */defineComponent({\n  ...__default__,\n  props: splitterProps,\n  emits: [\"resizeStart\", \"resize\", \"resizeEnd\", \"collapse\"],\n  setup(__props, {\n    emit: emits\n  }) {\n    const props = __props;\n    const ns = useNamespace(\"splitter\");\n    const layout = toRef(props, \"layout\");\n    const lazy = toRef(props, \"lazy\");\n    const {\n      containerEl,\n      containerSize\n    } = useContainer(layout);\n    const {\n      removeChild: unregisterPanel,\n      children: panels,\n      addChild: registerPanel,\n      ChildrenSorter: PanelsSorter\n    } = useOrderedChildren(getCurrentInstance(), \"ElSplitterPanel\");\n    watch(panels, () => {\n      panels.value.forEach((instance, index) => {\n        instance.setIndex(index);\n      });\n    });\n    const {\n      percentSizes,\n      pxSizes\n    } = useSize(panels, containerSize);\n    const {\n      lazyOffset,\n      movingIndex,\n      onMoveStart,\n      onMoving,\n      onMoveEnd,\n      onCollapse\n    } = useResize(panels, containerSize, pxSizes, lazy);\n    const splitterStyles = computed(() => {\n      return {\n        [ns.cssVarBlockName(\"bar-offset\")]: lazy.value ? `${lazyOffset.value}px` : void 0\n      };\n    });\n    const onResizeStart = index => {\n      onMoveStart(index);\n      emits(\"resizeStart\", index, pxSizes.value);\n    };\n    const onResize = (index, offset) => {\n      onMoving(index, offset);\n      if (!lazy.value) {\n        emits(\"resize\", index, pxSizes.value);\n      }\n    };\n    const onResizeEnd = async index => {\n      onMoveEnd();\n      await nextTick();\n      emits(\"resizeEnd\", index, pxSizes.value);\n    };\n    const onCollapsible = (index, type) => {\n      onCollapse(index, type);\n      emits(\"collapse\", index, type, pxSizes.value);\n    };\n    provide(splitterRootContextKey, reactive({\n      panels,\n      percentSizes,\n      pxSizes,\n      layout,\n      lazy,\n      movingIndex,\n      containerSize,\n      onMoveStart: onResizeStart,\n      onMoving: onResize,\n      onMoveEnd: onResizeEnd,\n      onCollapse: onCollapsible,\n      registerPanel,\n      unregisterPanel\n    }));\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"containerEl\",\n        ref: containerEl,\n        class: normalizeClass([unref(ns).b(), unref(ns).e(unref(layout))]),\n        style: normalizeStyle(unref(splitterStyles))\n      }, [renderSlot(_ctx.$slots, \"default\"), createVNode(unref(PanelsSorter)), createCommentVNode(\" Prevent iframe touch events from breaking \"), unref(movingIndex) ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        class: normalizeClass([unref(ns).e(\"mask\"), unref(ns).e(`mask-${unref(layout)}`)])\n      }, null, 2)) : createCommentVNode(\"v-if\", true)], 6);\n    };\n  }\n});\nvar Splitter = /* @__PURE__ */_export_sfc(_sfc_main, [[\"__file\", \"splitter.vue\"]]);\nexport { Splitter as default };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}