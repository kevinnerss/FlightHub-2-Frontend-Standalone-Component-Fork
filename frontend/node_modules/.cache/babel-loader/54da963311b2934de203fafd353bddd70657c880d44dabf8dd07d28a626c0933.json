{"ast":null,"code":"export default {\n  name: 'AlarmPanel',\n  props: {\n    alarms: {\n      type: Array,\n      default: () => []\n    }\n  },\n  methods: {\n    // 格式化日期时间\n    formatDateTime(dateString) {\n      if (!dateString) return '';\n      const date = new Date(dateString);\n      return date.toLocaleString('zh-CN', {\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit'\n      });\n    },\n    // 显示图片详情\n    showImageDetail(imageUrl) {\n      // 这里可以实现图片放大查看功能\n      console.log('查看图片详情:', imageUrl);\n      // 可以使用模态框或其他方式显示大图\n    }\n  }\n};","map":{"version":3,"names":["name","props","alarms","type","Array","default","methods","formatDateTime","dateString","date","Date","toLocaleString","month","day","hour","minute","second","showImageDetail","imageUrl","console","log"],"sources":["D:\\projects\\FlightHub-2-Frontend-Standalone-Component\\frontend\\src\\components\\AlarmPanel.vue"],"sourcesContent":["<template>\n  <div class=\"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden h-full flex flex-col\">\n    <!-- 标题栏 -->\n    <div class=\"p-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 flex justify-between items-center\">\n      <h3 class=\"text-lg font-semibold text-gray-900 dark:text-white flex items-center\">\n        <i class=\"fa fa-bell text-red-500 mr-2\"></i>\n        报警信息\n        <span v-if=\"alarms.length > 0\" class=\"ml-2 text-xs px-2 py-0.5 rounded-full bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300\">\n          {{ alarms.length }}\n        </span>\n      </h3>\n      <button class=\"text-xs text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400\">\n        <i class=\"fa fa-refresh mr-1\"></i>刷新\n      </button>\n    </div>\n    \n    <!-- 报警列表 -->\n    <div class=\"flex-grow overflow-y-auto p-2\">\n      <div v-if=\"alarms.length === 0\" class=\"text-center py-10 text-gray-500 dark:text-gray-400\">\n        <i class=\"fa fa-check-circle text-green-500 text-4xl mb-2\"></i>\n        <p>暂无报警信息</p>\n      </div>\n      \n      <div \n        v-for=\"alarm in alarms\" \n        :key=\"alarm.id\"\n        class=\"mb-3 p-3 rounded-md border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800 hover:shadow-md transition-all duration-200\"\n      >\n        <!-- 报警头部 -->\n        <div class=\"flex justify-between items-start\">\n          <div>\n            <div class=\"flex items-center\">\n              <h4 class=\"font-medium text-gray-900 dark:text-white\">{{ alarm.title }}</h4>\n              <span \n                class=\"ml-2 text-xs px-2 py-0.5 rounded-full\"\n                :class=\"{\n                  'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300': alarm.severity === '高',\n                  'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300': alarm.severity === '中',\n                  'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300': alarm.severity === '低'\n                }\"\n              >\n                {{ alarm.severity }}级\n              </span>\n            </div>\n            <p class=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n              {{ formatDateTime(alarm.timestamp) }} · {{ alarm.location }}\n            </p>\n          </div>\n          <button \n            class=\"text-gray-400 hover:text-red-500 dark:text-gray-500 dark:hover:text-red-400 transition-colors\"\n            @click=\"$emit('alarm-processed', alarm.id)\"\n            title=\"标记为已处理\"\n          >\n            <i class=\"fa fa-times\"></i>\n          </button>\n        </div>\n        \n        <!-- 报警描述 -->\n        <p class=\"text-sm text-gray-600 dark:text-gray-300 mt-2 line-clamp-2\">{{ alarm.description }}</p>\n        \n        <!-- 报警图片 -->\n        <div v-if=\"alarm.imageUrl\" class=\"mt-3 rounded-md overflow-hidden\">\n          <img \n            :src=\"alarm.imageUrl\" \n            alt=\"报警图片\" \n            class=\"w-full h-32 object-cover hover:opacity-90 transition-opacity\"\n            @click=\"showImageDetail(alarm.imageUrl)\"\n          >\n        </div>\n        \n        <!-- 操作按钮 -->\n        <div class=\"mt-3 flex justify-between\">\n          <span class=\"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded\">\n            {{ alarm.type }}\n          </span>\n          <button class=\"text-sm text-blue-600 dark:text-blue-400 hover:underline flex items-center\">\n            查看详情\n            <i class=\"fa fa-angle-right ml-1\"></i>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'AlarmPanel',\n  props: {\n    alarms: {\n      type: Array,\n      default: () => []\n    }\n  },\n  methods: {\n    // 格式化日期时间\n    formatDateTime(dateString) {\n      if (!dateString) return ''\n      const date = new Date(dateString)\n      return date.toLocaleString('zh-CN', {\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit'\n      })\n    },\n    \n    // 显示图片详情\n    showImageDetail(imageUrl) {\n      // 这里可以实现图片放大查看功能\n      console.log('查看图片详情:', imageUrl)\n      // 可以使用模态框或其他方式显示大图\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* 滚动条样式 */\n.flex-grow::-webkit-scrollbar {\n  width: 6px;\n}\n\n.flex-grow::-webkit-scrollbar-track {\n  background: #f1f1f1;\n}\n\n.flex-grow::-webkit-scrollbar-thumb {\n  background: #c1c1c1;\n  border-radius: 3px;\n}\n\n.flex-grow::-webkit-scrollbar-thumb:hover {\n  background: #a8a8a8;\n}\n\n.dark .flex-grow::-webkit-scrollbar-track {\n  background: #1f2937;\n}\n\n.dark .flex-grow::-webkit-scrollbar-thumb {\n  background: #4b5563;\n}\n\n.dark .flex-grow::-webkit-scrollbar-thumb:hover {\n  background: #6b7280;\n}\n\n/* 报警项动画 */\n.mb-3 {\n  animation: slideIn 0.3s ease-in-out;\n}\n\n@keyframes slideIn {\n  from {\n    opacity: 0;\n    transform: translateX(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n\n/* 高优先级报警闪烁效果 */\n.border-red-100 {\n  animation: pulse 2s infinite;\n}\n\n@keyframes pulse {\n  0% {\n    box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.4);\n  }\n  70% {\n    box-shadow: 0 0 0 10px rgba(220, 38, 38, 0);\n  }\n  100% {\n    box-shadow: 0 0 0 0 rgba(220, 38, 38, 0);\n  }\n}\n</style>"],"mappings":"AAsFA,eAAe;EACbA,IAAI,EAAE,YAAY;EAClBC,KAAK,EAAE;IACLC,MAAM,EAAE;MACNC,IAAI,EAAEC,KAAK;MACXC,OAAO,EAAEA,CAAA,KAAM;IACjB;EACF,CAAC;EACDC,OAAO,EAAE;IACP;IACAC,cAAcA,CAACC,UAAU,EAAE;MACzB,IAAI,CAACA,UAAU,EAAE,OAAO,EAAC;MACzB,MAAMC,IAAG,GAAI,IAAIC,IAAI,CAACF,UAAU;MAChC,OAAOC,IAAI,CAACE,cAAc,CAAC,OAAO,EAAE;QAClCC,KAAK,EAAE,SAAS;QAChBC,GAAG,EAAE,SAAS;QACdC,IAAI,EAAE,SAAS;QACfC,MAAM,EAAE,SAAS;QACjBC,MAAM,EAAE;MACV,CAAC;IACH,CAAC;IAED;IACAC,eAAeA,CAACC,QAAQ,EAAE;MACxB;MACAC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEF,QAAQ;MAC/B;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}