{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"alarm-panel\"\n};\nconst _hoisted_2 = {\n  class: \"panel-header\"\n};\nconst _hoisted_3 = {\n  class: \"header-actions\"\n};\nconst _hoisted_4 = {\n  class: \"alarm-list\"\n};\nconst _hoisted_5 = {\n  class: \"alarm-summary\"\n};\nconst _hoisted_6 = {\n  class: \"alarm-title\"\n};\nconst _hoisted_7 = {\n  class: \"alarm-time\"\n};\nconst _hoisted_8 = {\n  class: \"alarm-details\"\n};\nconst _hoisted_9 = {\n  class: \"alarm-description\"\n};\nconst _hoisted_10 = {\n  class: \"alarm-location\"\n};\nconst _hoisted_11 = {\n  key: 0,\n  class: \"alarm-image\"\n};\nconst _hoisted_12 = {\n  class: \"alarm-actions\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_badge = _resolveComponent(\"el-badge\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_empty = _resolveComponent(\"el-empty\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_image = _resolveComponent(\"el-image\");\n  const _component_el_collapse_item = _resolveComponent(\"el-collapse-item\");\n  const _component_el_collapse = _resolveComponent(\"el-collapse\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[2] || (_cache[2] = _createElementVNode(\"h3\", {\n    class: \"panel-title\"\n  }, \"报警信息\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_3, [$props.alarms.length > 0 ? (_openBlock(), _createBlock(_component_el_badge, {\n    key: 0,\n    value: $props.alarms.length,\n    type: \"danger\",\n    size: \"small\"\n  }, null, 8 /* PROPS */, [\"value\"])) : _createCommentVNode(\"v-if\", true), _createVNode(_component_el_button, {\n    size: \"small\",\n    icon: \"Refresh\",\n    onClick: $options.handleRefresh,\n    plain: \"\"\n  }, {\n    default: _withCtx(() => [...(_cache[1] || (_cache[1] = [_createTextVNode(\" 刷新 \", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"])])]), _createElementVNode(\"div\", _hoisted_4, [$props.alarms.length === 0 ? (_openBlock(), _createBlock(_component_el_empty, {\n    key: 0,\n    description: \"暂无报警信息\"\n  })) : (_openBlock(), _createBlock(_component_el_collapse, {\n    key: 1,\n    modelValue: $data.activeAlarms,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.activeAlarms = $event),\n    accordion: \"\"\n  }, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.alarms, alarm => {\n      return _openBlock(), _createBlock(_component_el_collapse_item, {\n        key: alarm.id,\n        name: alarm.id\n      }, {\n        title: _withCtx(() => [_createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_el_tag, {\n          size: \"small\",\n          type: $options.getAlarmType(alarm.severity)\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(alarm.severity) + \"级 \", 1 /* TEXT */)]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"type\"]), _createElementVNode(\"span\", _hoisted_6, _toDisplayString(alarm.title), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_7, _toDisplayString($options.formatTime(alarm.timestamp)), 1 /* TEXT */)])]),\n        default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"p\", _hoisted_9, _toDisplayString(alarm.description), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_10, [_cache[3] || (_cache[3] = _createElementVNode(\"i\", {\n          class: \"el-icon-location-information\"\n        }, null, -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString(alarm.location), 1 /* TEXT */)]), alarm.imageUrl ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [_createVNode(_component_el_image, {\n          src: alarm.imageUrl,\n          \"preview-src-list\": [alarm.imageUrl],\n          fit: \"cover\",\n          style: {\n            \"width\": \"100%\",\n            \"height\": \"200px\"\n          }\n        }, null, 8 /* PROPS */, [\"src\", \"preview-src-list\"])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_12, [_createVNode(_component_el_button, {\n          size: \"small\",\n          type: \"primary\",\n          onClick: $event => $options.viewAlarmDetail(alarm)\n        }, {\n          default: _withCtx(() => [...(_cache[4] || (_cache[4] = [_createTextVNode(\" 查看详情 \", -1 /* CACHED */)]))]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_button, {\n          size: \"small\",\n          type: \"danger\",\n          onClick: $event => $options.processAlarm(alarm.id)\n        }, {\n          default: _withCtx(() => [...(_cache[5] || (_cache[5] = [_createTextVNode(\" 标记已处理 \", -1 /* CACHED */)]))]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"onClick\"])])])]),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"name\"]);\n    }), 128 /* KEYED_FRAGMENT */))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"]))])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","$props","alarms","length","_createBlock","_component_el_badge","value","type","size","_createVNode","_component_el_button","icon","onClick","$options","handleRefresh","plain","_cache","_hoisted_4","_component_el_empty","description","_component_el_collapse","$data","activeAlarms","$event","accordion","_Fragment","_renderList","alarm","_component_el_collapse_item","key","id","name","title","_withCtx","_hoisted_5","_component_el_tag","getAlarmType","severity","_hoisted_6","_toDisplayString","_hoisted_7","formatTime","timestamp","_hoisted_8","_hoisted_9","_hoisted_10","location","imageUrl","_hoisted_11","_component_el_image","src","fit","style","_hoisted_12","viewAlarmDetail","processAlarm"],"sources":["D:\\projects\\FlightHub-2-Frontend-Standalone-Component\\frontend\\src\\components\\AlarmPanel.vue"],"sourcesContent":["<template>\r\n  <div class=\"alarm-panel\">\r\n    <div class=\"panel-header\">\r\n      <h3 class=\"panel-title\">报警信息</h3>\r\n      <div class=\"header-actions\">\r\n        <el-badge \r\n          v-if=\"alarms.length > 0\" \r\n          :value=\"alarms.length\" \r\n          type=\"danger\" \r\n          size=\"small\"\r\n        />\r\n        <el-button \r\n          size=\"small\" \r\n          icon=\"Refresh\" \r\n          @click=\"handleRefresh\" \r\n          plain\r\n        >\r\n          刷新\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"alarm-list\">\r\n      <el-empty v-if=\"alarms.length === 0\" description=\"暂无报警信息\" />\r\n      \r\n      <el-collapse v-else v-model=\"activeAlarms\" accordion>\r\n        <el-collapse-item \r\n          v-for=\"alarm in alarms\" \r\n          :key=\"alarm.id\"\r\n          :name=\"alarm.id\"\r\n        >\r\n          <template #title>\r\n            <div class=\"alarm-summary\">\r\n              <el-tag \r\n                size=\"small\" \r\n                :type=\"getAlarmType(alarm.severity)\"\r\n              >\r\n                {{ alarm.severity }}级\r\n              </el-tag>\r\n              <span class=\"alarm-title\">{{ alarm.title }}</span>\r\n              <span class=\"alarm-time\">{{ formatTime(alarm.timestamp) }}</span>\r\n            </div>\r\n          </template>\r\n          <div class=\"alarm-details\">\r\n            <p class=\"alarm-description\">{{ alarm.description }}</p>\r\n            <p class=\"alarm-location\">\r\n              <i class=\"el-icon-location-information\"></i>\r\n              {{ alarm.location }}\r\n            </p>\r\n            <div v-if=\"alarm.imageUrl\" class=\"alarm-image\">\r\n              <el-image\r\n                :src=\"alarm.imageUrl\"\r\n                :preview-src-list=\"[alarm.imageUrl]\"\r\n                fit=\"cover\"\r\n                style=\"width: 100%; height: 200px\"\r\n              />\r\n            </div>\r\n            <div class=\"alarm-actions\">\r\n              <el-button \r\n                size=\"small\" \r\n                type=\"primary\" \r\n                @click=\"viewAlarmDetail(alarm)\"\r\n              >\r\n                查看详情\r\n              </el-button>\r\n              <el-button \r\n                size=\"small\" \r\n                type=\"danger\" \r\n                @click=\"processAlarm(alarm.id)\"\r\n              >\r\n                标记已处理\r\n              </el-button>\r\n            </div>\r\n          </div>\r\n        </el-collapse-item>\r\n      </el-collapse>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AlarmPanel',\r\n  props: {\r\n    alarms: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      activeAlarms: []\r\n    }\r\n  },\r\n  methods: {\r\n    // 格式化时间\r\n    formatTime(timestamp) {\r\n      if (!timestamp) return ''\r\n      const date = new Date(timestamp)\r\n      return date.toLocaleString('zh-CN', {\r\n        month: '2-digit',\r\n        day: '2-digit',\r\n        hour: '2-digit',\r\n        minute: '2-digit'\r\n      })\r\n    },\r\n    \r\n    // 获取报警类型样式\r\n    getAlarmType(severity) {\r\n      switch(severity) {\r\n        case '高':\r\n          return 'danger'\r\n        case '中':\r\n          return 'warning'\r\n        case '低':\r\n          return 'info'\r\n        default:\r\n          return 'info'\r\n      }\r\n    },\r\n    \r\n    // 处理刷新\r\n    handleRefresh() {\r\n      this.$emit('refresh')\r\n    },\r\n    \r\n    // 查看报警详情\r\n    viewAlarmDetail(alarm) {\r\n      this.$emit('view-detail', alarm)\r\n    },\r\n    \r\n    // 处理报警\r\n    processAlarm(alarmId) {\r\n      this.$emit('process-alarm', alarmId)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.alarm-panel {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.panel-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 10px 15px;\r\n  border-bottom: 1px solid #ebeef5;\r\n  background-color: #f5f7fa;\r\n}\r\n\r\n.panel-title {\r\n  margin: 0;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  color: #303133;\r\n}\r\n\r\n.header-actions {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.alarm-list {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 10px;\r\n}\r\n\r\n.alarm-summary {\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  gap: 10px;\r\n}\r\n\r\n.alarm-title {\r\n  flex: 1;\r\n  font-weight: 500;\r\n  color: #606266;\r\n}\r\n\r\n.alarm-time {\r\n  font-size: 12px;\r\n  color: #909399;\r\n}\r\n\r\n.alarm-details {\r\n  padding: 10px 0;\r\n}\r\n\r\n.alarm-description {\r\n  margin: 0 0 10px 0;\r\n  color: #606266;\r\n  line-height: 1.5;\r\n}\r\n\r\n.alarm-location {\r\n  margin: 10px 0;\r\n  color: #909399;\r\n  font-size: 14px;\r\n}\r\n\r\n.alarm-location i {\r\n  margin-right: 5px;\r\n}\r\n\r\n.alarm-image {\r\n  margin: 15px 0;\r\n}\r\n\r\n.alarm-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 10px;\r\n  margin-top: 15px;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}