{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"alarm-panel\"\n};\nconst _hoisted_2 = {\n  class: \"panel-header\"\n};\nconst _hoisted_3 = {\n  class: \"header-actions\"\n};\nconst _hoisted_4 = {\n  class: \"alarm-list\"\n};\nconst _hoisted_5 = {\n  class: \"alarm-summary\"\n};\nconst _hoisted_6 = {\n  class: \"alarm-title\"\n};\nconst _hoisted_7 = {\n  class: \"alarm-time\"\n};\nconst _hoisted_8 = {\n  class: \"alarm-details\"\n};\nconst _hoisted_9 = {\n  class: \"alarm-description\"\n};\nconst _hoisted_10 = {\n  class: \"alarm-location\"\n};\nconst _hoisted_11 = {\n  key: 0,\n  class: \"alarm-image\"\n};\nconst _hoisted_12 = {\n  class: \"alarm-actions\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_badge = _resolveComponent(\"el-badge\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_empty = _resolveComponent(\"el-empty\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_image = _resolveComponent(\"el-image\");\n  const _component_el_collapse_item = _resolveComponent(\"el-collapse-item\");\n  const _component_el_collapse = _resolveComponent(\"el-collapse\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[2] || (_cache[2] = _createElementVNode(\"h3\", {\n    class: \"panel-title\"\n  }, \"报警信息\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_3, [$props.alarms.length > 0 ? (_openBlock(), _createBlock(_component_el_badge, {\n    key: 0,\n    value: $props.alarms.length,\n    type: \"danger\",\n    size: \"small\"\n  }, null, 8 /* PROPS */, [\"value\"])) : _createCommentVNode(\"v-if\", true), _createVNode(_component_el_button, {\n    size: \"small\",\n    icon: \"Refresh\",\n    onClick: $options.handleRefresh,\n    plain: \"\"\n  }, {\n    default: _withCtx(() => [...(_cache[1] || (_cache[1] = [_createTextVNode(\" 刷新 \", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"])])]), _createElementVNode(\"div\", _hoisted_4, [$props.alarms.length === 0 ? (_openBlock(), _createBlock(_component_el_empty, {\n    key: 0,\n    description: \"暂无报警信息\"\n  })) : (_openBlock(), _createBlock(_component_el_collapse, {\n    key: 1,\n    modelValue: $data.activeAlarms,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.activeAlarms = $event),\n    accordion: \"\"\n  }, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.alarms, alarm => {\n      return _openBlock(), _createBlock(_component_el_collapse_item, {\n        key: alarm.id,\n        name: alarm.id\n      }, {\n        title: _withCtx(() => [_createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_el_tag, {\n          size: \"small\",\n          type: $options.getAlarmType(alarm.severity)\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(alarm.severity) + \"级 \", 1 /* TEXT */)]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"type\"]), _createElementVNode(\"span\", _hoisted_6, _toDisplayString(alarm.title), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_7, _toDisplayString($options.formatTime(alarm.timestamp)), 1 /* TEXT */)])]),\n        default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"p\", _hoisted_9, _toDisplayString(alarm.description), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_10, [_cache[3] || (_cache[3] = _createElementVNode(\"i\", {\n          class: \"el-icon-location-information\"\n        }, null, -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString(alarm.location), 1 /* TEXT */)]), alarm.imageUrl ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [_createVNode(_component_el_image, {\n          src: alarm.imageUrl,\n          \"preview-src-list\": [alarm.imageUrl],\n          fit: \"cover\",\n          style: {\n            \"width\": \"100%\",\n            \"height\": \"200px\"\n          }\n        }, null, 8 /* PROPS */, [\"src\", \"preview-src-list\"])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_12, [_createVNode(_component_el_button, {\n          size: \"small\",\n          type: \"primary\",\n          onClick: $event => $options.viewAlarmDetail(alarm)\n        }, {\n          default: _withCtx(() => [...(_cache[4] || (_cache[4] = [_createTextVNode(\" 查看详情 \", -1 /* CACHED */)]))]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_button, {\n          size: \"small\",\n          type: \"danger\",\n          onClick: $event => $options.processAlarm(alarm.id)\n        }, {\n          default: _withCtx(() => [...(_cache[5] || (_cache[5] = [_createTextVNode(\" 标记已处理 \", -1 /* CACHED */)]))]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"onClick\"])])])]),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"name\"]);\n    }), 128 /* KEYED_FRAGMENT */))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"]))])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","$props","alarms","length","_createBlock","_component_el_badge","value","type","size","_createVNode","_component_el_button","icon","onClick","$options","handleRefresh","plain","_cache","_hoisted_4","_component_el_empty","description","_component_el_collapse","$data","activeAlarms","$event","accordion","_Fragment","_renderList","alarm","_component_el_collapse_item","key","id","name","title","_withCtx","_hoisted_5","_component_el_tag","getAlarmType","severity","_hoisted_6","_toDisplayString","_hoisted_7","formatTime","timestamp","_hoisted_8","_hoisted_9","_hoisted_10","location","imageUrl","_hoisted_11","_component_el_image","src","fit","style","_hoisted_12","viewAlarmDetail","processAlarm"],"sources":["D:\\projects\\FlightHub-2-Frontend-Standalone-Component\\frontend\\src\\components\\AlarmPanel.vue"],"sourcesContent":["<template>\n  <div class=\"alarm-panel\">\n    <div class=\"panel-header\">\n      <h3 class=\"panel-title\">报警信息</h3>\n      <div class=\"header-actions\">\n        <el-badge \n          v-if=\"alarms.length > 0\" \n          :value=\"alarms.length\" \n          type=\"danger\" \n          size=\"small\"\n        />\n        <el-button \n          size=\"small\" \n          icon=\"Refresh\" \n          @click=\"handleRefresh\" \n          plain\n        >\n          刷新\n        </el-button>\n      </div>\n    </div>\n    \n    <div class=\"alarm-list\">\n      <el-empty v-if=\"alarms.length === 0\" description=\"暂无报警信息\" />\n      \n      <el-collapse v-else v-model=\"activeAlarms\" accordion>\n        <el-collapse-item \n          v-for=\"alarm in alarms\" \n          :key=\"alarm.id\"\n          :name=\"alarm.id\"\n        >\n          <template #title>\n            <div class=\"alarm-summary\">\n              <el-tag \n                size=\"small\" \n                :type=\"getAlarmType(alarm.severity)\"\n              >\n                {{ alarm.severity }}级\n              </el-tag>\n              <span class=\"alarm-title\">{{ alarm.title }}</span>\n              <span class=\"alarm-time\">{{ formatTime(alarm.timestamp) }}</span>\n            </div>\n          </template>\n          <div class=\"alarm-details\">\n            <p class=\"alarm-description\">{{ alarm.description }}</p>\n            <p class=\"alarm-location\">\n              <i class=\"el-icon-location-information\"></i>\n              {{ alarm.location }}\n            </p>\n            <div v-if=\"alarm.imageUrl\" class=\"alarm-image\">\n              <el-image\n                :src=\"alarm.imageUrl\"\n                :preview-src-list=\"[alarm.imageUrl]\"\n                fit=\"cover\"\n                style=\"width: 100%; height: 200px\"\n              />\n            </div>\n            <div class=\"alarm-actions\">\n              <el-button \n                size=\"small\" \n                type=\"primary\" \n                @click=\"viewAlarmDetail(alarm)\"\n              >\n                查看详情\n              </el-button>\n              <el-button \n                size=\"small\" \n                type=\"danger\" \n                @click=\"processAlarm(alarm.id)\"\n              >\n                标记已处理\n              </el-button>\n            </div>\n          </div>\n        </el-collapse-item>\n      </el-collapse>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'AlarmPanel',\n  props: {\n    alarms: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data() {\n    return {\n      activeAlarms: []\n    }\n  },\n  methods: {\n    // 格式化时间\n    formatTime(timestamp) {\n      if (!timestamp) return ''\n      const date = new Date(timestamp)\n      return date.toLocaleString('zh-CN', {\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit'\n      })\n    },\n    \n    // 获取报警类型样式\n    getAlarmType(severity) {\n      switch(severity) {\n        case '高':\n          return 'danger'\n        case '中':\n          return 'warning'\n        case '低':\n          return 'info'\n        default:\n          return 'info'\n      }\n    },\n    \n    // 处理刷新\n    handleRefresh() {\n      this.$emit('refresh')\n    },\n    \n    // 查看报警详情\n    viewAlarmDetail(alarm) {\n      this.$emit('view-detail', alarm)\n    },\n    \n    // 处理报警\n    processAlarm(alarmId) {\n      this.$emit('process-alarm', alarmId)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.alarm-panel {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.panel-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 15px;\n  border-bottom: 1px solid #ebeef5;\n  background-color: #f5f7fa;\n}\n\n.panel-title {\n  margin: 0;\n  font-size: 16px;\n  font-weight: bold;\n  color: #303133;\n}\n\n.header-actions {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.alarm-list {\n  flex: 1;\n  overflow-y: auto;\n  padding: 10px;\n}\n\n.alarm-summary {\n  display: flex;\n  align-items: center;\n  width: 100%;\n  gap: 10px;\n}\n\n.alarm-title {\n  flex: 1;\n  font-weight: 500;\n  color: #606266;\n}\n\n.alarm-time {\n  font-size: 12px;\n  color: #909399;\n}\n\n.alarm-details {\n  padding: 10px 0;\n}\n\n.alarm-description {\n  margin: 0 0 10px 0;\n  color: #606266;\n  line-height: 1.5;\n}\n\n.alarm-location {\n  margin: 10px 0;\n  color: #909399;\n  font-size: 14px;\n}\n\n.alarm-location i {\n  margin-right: 5px;\n}\n\n.alarm-image {\n  margin: 15px 0;\n}\n\n.alarm-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n  margin-top: 15px;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}