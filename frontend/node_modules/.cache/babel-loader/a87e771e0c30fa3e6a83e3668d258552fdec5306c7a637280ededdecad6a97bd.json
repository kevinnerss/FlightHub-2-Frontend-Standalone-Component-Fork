{"ast":null,"code":"export default {\n  name: 'VisualizationPanel',\n  props: {\n    selectedRoute: {\n      type: Object,\n      default: null\n    },\n    alarmPoints: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data() {\n    return {\n      viewMode: '3d',\n      showLayers: false\n    };\n  },\n  methods: {\n    // 更改视图模式\n    changeViewMode(mode) {\n      this.viewMode = mode;\n      this.$emit('view-mode-changed', mode);\n    },\n    // 切换图层面板\n    toggleLayersPanel() {\n      this.showLayers = !this.showLayers;\n    },\n    // 显示报警详情\n    showAlarmDetail(alarm) {\n      console.log('显示报警详情:', alarm);\n      // 这里可以实现点击报警点显示详细信息的功能\n    }\n  }\n};","map":{"version":3,"names":["name","props","selectedRoute","type","Object","default","alarmPoints","Array","data","viewMode","showLayers","methods","changeViewMode","mode","$emit","toggleLayersPanel","showAlarmDetail","alarm","console","log"],"sources":["D:\\projects\\FlightHub-2-Frontend-Standalone-Component\\frontend\\src\\components\\VisualizationPanel.vue"],"sourcesContent":["<template>\n  <div class=\"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden h-full flex flex-col\">\n    <!-- 标题栏 -->\n    <div class=\"p-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600 flex justify-between items-center\">\n      <h3 class=\"text-lg font-semibold text-gray-900 dark:text-white flex items-center\">\n        <i class=\"fa fa-cubes text-blue-500 mr-2\"></i>\n        3D可视化\n        <span v-if=\"selectedRoute\" class=\"ml-2 text-xs px-2 py-0.5 rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300\">\n          {{ selectedRoute.name }}\n        </span>\n      </h3>\n      \n      <!-- 视图控制 -->\n      <div class=\"flex items-center space-x-3\">\n        <!-- 视图模式切换 -->\n        <div class=\"flex rounded-md shadow-sm\">\n          <button \n            class=\"inline-flex items-center px-3 py-1 text-sm font-medium border border-gray-300 dark:border-gray-600 rounded-l-md bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\"\n            @click=\"changeViewMode('top')\"\n            :class=\"{ 'bg-blue-50 text-blue-700 dark:bg-blue-900/50 dark:text-blue-300 border-blue-300 dark:border-blue-500': viewMode === 'top' }\"\n          >\n            <i class=\"fa fa-arrow-down mr-1\"></i>顶视图\n          </button>\n          <button \n            class=\"inline-flex items-center px-3 py-1 text-sm font-medium border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\"\n            @click=\"changeViewMode('side')\"\n            :class=\"{ 'bg-blue-50 text-blue-700 dark:bg-blue-900/50 dark:text-blue-300 border-blue-300 dark:border-blue-500': viewMode === 'side' }\"\n          >\n            <i class=\"fa fa-arrow-right mr-1\"></i>侧视图\n          </button>\n          <button \n            class=\"inline-flex items-center px-3 py-1 text-sm font-medium border border-gray-300 dark:border-gray-600 rounded-r-md bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700\"\n            @click=\"changeViewMode('3d')\"\n            :class=\"{ 'bg-blue-50 text-blue-700 dark:bg-blue-900/50 dark:text-blue-300 border-blue-300 dark:border-blue-500': viewMode === '3d' }\"\n          >\n            <i class=\"fa fa-cube mr-1\"></i>3D视图\n          </button>\n        </div>\n        \n        <!-- 图层控制 -->\n        <button class=\"p-1 text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400\" @click=\"toggleLayersPanel\">\n          <i class=\"fa fa-layers\"></i>\n        </button>\n        \n        <!-- 缩放控制 -->\n        <div class=\"flex flex-col bg-gray-200 dark:bg-gray-700 rounded\">\n          <button class=\"p-1 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-t\">\n            <i class=\"fa fa-search-plus\"></i>\n          </button>\n          <button class=\"p-1 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-b\">\n            <i class=\"fa fa-search-minus\"></i>\n          </button>\n        </div>\n      </div>\n    </div>\n    \n    <!-- 3D 可视化区域 -->\n    <div class=\"flex-grow relative bg-gray-900\">\n      <!-- 模拟3D场景 -->\n      <div class=\"absolute inset-0 flex items-center justify-center\">\n        <div class=\"text-center\">\n          <i class=\"fa fa-cube text-gray-700 text-6xl mb-4\"></i>\n          <p class=\"text-gray-500\">3D场景加载中...</p>\n          <p class=\"text-xs text-gray-600 mt-1\">选择航线以显示3D模型</p>\n        </div>\n      </div>\n      \n      <!-- 报警标记点 -->\n      <div v-for=\"alarm in alarmPoints\" :key=\"alarm.id\" class=\"absolute\" style=\"left: 30%; top: 40%;\">\n        <div class=\"relative\">\n          <div \n            class=\"w-4 h-4 rounded-full cursor-pointer animate-pulse\"\n            :class=\"{\n              'bg-red-500': alarm.severity === '高',\n              'bg-yellow-500': alarm.severity === '中',\n              'bg-blue-500': alarm.severity === '低'\n            }\"\n            @click=\"showAlarmDetail(alarm)\"\n            title=\"{{ alarm.title }}\"\n          ></div>\n          <div \n            class=\"absolute -inset-4 rounded-full\"\n            :class=\"{\n              'bg-red-500/20': alarm.severity === '高',\n              'bg-yellow-500/20': alarm.severity === '中',\n              'bg-blue-500/20': alarm.severity === '低'\n            }\"\n            animate-ping\n          ></div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- 底部信息栏 -->\n    <div class=\"p-3 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600 flex justify-between items-center\">\n      <div class=\"text-sm text-gray-600 dark:text-gray-400\">\n        <span>比例: 1:1000</span>\n        <span class=\"mx-2\">|</span>\n        <span>高程: 50m</span>\n      </div>\n      <div class=\"text-sm text-gray-600 dark:text-gray-400\">\n        <span>坐标: (23.124, 113.235)</span>\n      </div>\n    </div>\n    \n    <!-- 图层控制面板 (隐藏状态) -->\n    <div v-if=\"showLayers\" class=\"absolute top-20 right-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-600 p-3 w-64\">\n      <h4 class=\"text-sm font-semibold mb-2 text-gray-900 dark:text-white\">图层控制</h4>\n      <div class=\"space-y-2 text-sm\">\n        <label class=\"flex items-center\">\n          <input type=\"checkbox\" class=\"rounded text-blue-600\" checked>\n          <span class=\"ml-2 text-gray-700 dark:text-gray-300\">地形</span>\n        </label>\n        <label class=\"flex items-center\">\n          <input type=\"checkbox\" class=\"rounded text-blue-600\" checked>\n          <span class=\"ml-2 text-gray-700 dark:text-gray-300\">建筑</span>\n        </label>\n        <label class=\"flex items-center\">\n          <input type=\"checkbox\" class=\"rounded text-blue-600\" checked>\n          <span class=\"ml-2 text-gray-700 dark:text-gray-300\">电力设施</span>\n        </label>\n        <label class=\"flex items-center\">\n          <input type=\"checkbox\" class=\"rounded text-blue-600\" checked>\n          <span class=\"ml-2 text-gray-700 dark:text-gray-300\">航线</span>\n        </label>\n        <label class=\"flex items-center\">\n          <input type=\"checkbox\" class=\"rounded text-blue-600\" checked>\n          <span class=\"ml-2 text-gray-700 dark:text-gray-300\">报警点</span>\n        </label>\n        <label class=\"flex items-center\">\n          <input type=\"checkbox\" class=\"rounded text-blue-600\">\n          <span class=\"ml-2 text-gray-700 dark:text-gray-300\">标注</span>\n        </label>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'VisualizationPanel',\n  props: {\n    selectedRoute: {\n      type: Object,\n      default: null\n    },\n    alarmPoints: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data() {\n    return {\n      viewMode: '3d',\n      showLayers: false\n    }\n  },\n  methods: {\n    // 更改视图模式\n    changeViewMode(mode) {\n      this.viewMode = mode\n      this.$emit('view-mode-changed', mode)\n    },\n    \n    // 切换图层面板\n    toggleLayersPanel() {\n      this.showLayers = !this.showLayers\n    },\n    \n    // 显示报警详情\n    showAlarmDetail(alarm) {\n      console.log('显示报警详情:', alarm)\n      // 这里可以实现点击报警点显示详细信息的功能\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* 动画效果 */\n@keyframes ping {\n  0% {\n    transform: scale(1);\n    opacity: 1;\n  }\n  75%, 100% {\n    transform: scale(2);\n    opacity: 0;\n  }\n}\n\n.animate-ping {\n  animation: ping 2s cubic-bezier(0, 0, 0.2, 1) infinite;\n}\n\n.animate-pulse {\n  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n}\n\n@keyframes pulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.5;\n  }\n}\n\n/* 图层面板淡入淡出 */\n.absolute {\n  animation: fadeIn 0.2s ease-in-out;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n</style>"],"mappings":"AA2IA,eAAe;EACbA,IAAI,EAAE,oBAAoB;EAC1BC,KAAK,EAAE;IACLC,aAAa,EAAE;MACbC,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE;IACX,CAAC;IACDC,WAAW,EAAE;MACXH,IAAI,EAAEI,KAAK;MACXF,OAAO,EAAEA,CAAA,KAAM;IACjB;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,IAAI;MACdC,UAAU,EAAE;IACd;EACF,CAAC;EACDC,OAAO,EAAE;IACP;IACAC,cAAcA,CAACC,IAAI,EAAE;MACnB,IAAI,CAACJ,QAAO,GAAII,IAAG;MACnB,IAAI,CAACC,KAAK,CAAC,mBAAmB,EAAED,IAAI;IACtC,CAAC;IAED;IACAE,iBAAiBA,CAAA,EAAG;MAClB,IAAI,CAACL,UAAS,GAAI,CAAC,IAAI,CAACA,UAAS;IACnC,CAAC;IAED;IACAM,eAAeA,CAACC,KAAK,EAAE;MACrBC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEF,KAAK;MAC5B;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}