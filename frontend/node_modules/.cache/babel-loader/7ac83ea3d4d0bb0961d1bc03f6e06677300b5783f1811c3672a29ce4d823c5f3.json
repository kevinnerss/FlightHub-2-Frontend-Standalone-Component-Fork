{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"alarm-panel h-full flex flex-col\"\n};\nconst _hoisted_2 = {\n  class: \"panel-header flex justify-between items-center p-2 border-b\"\n};\nconst _hoisted_3 = {\n  class: \"flex items-center gap-2\"\n};\nconst _hoisted_4 = {\n  class: \"alarm-list flex-grow overflow-y-auto p-2\"\n};\nconst _hoisted_5 = {\n  class: \"flex justify-between items-start mb-2\"\n};\nconst _hoisted_6 = {\n  class: \"font-medium text-gray-900\"\n};\nconst _hoisted_7 = {\n  class: \"text-sm text-gray-500 mb-2\"\n};\nconst _hoisted_8 = {\n  class: \"text-sm text-gray-600 mb-3\"\n};\nconst _hoisted_9 = {\n  key: 0,\n  class: \"mt-3 mb-3\"\n};\nconst _hoisted_10 = {\n  class: \"flex justify-end gap-2\"\n};\nexport function render(_ctx, _cache) {\n  const _component_el_badge = _resolveComponent(\"el-badge\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_empty = _resolveComponent(\"el-empty\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_image = _resolveComponent(\"el-image\");\n  const _component_ArrowRight = _resolveComponent(\"ArrowRight\");\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_el_timeline_item = _resolveComponent(\"el-timeline-item\");\n  const _component_el_timeline = _resolveComponent(\"el-timeline\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 面板标题 \"), _createElementVNode(\"div\", _hoisted_2, [_cache[2] || (_cache[2] = _createElementVNode(\"h3\", {\n    class: \"font-medium text-gray-900\"\n  }, \"报警信息\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_3, [_ctx.alarms.length > 0 ? (_openBlock(), _createBlock(_component_el_badge, {\n    key: 0,\n    value: _ctx.alarms.length,\n    type: \"danger\",\n    size: \"small\"\n  }, null, 8 /* PROPS */, [\"value\"])) : _createCommentVNode(\"v-if\", true), _createVNode(_component_el_button, {\n    size: \"small\",\n    icon: \"Refresh\",\n    onClick: _ctx.handleRefresh,\n    plain: \"\"\n  }, {\n    default: _withCtx(() => [...(_cache[0] || (_cache[0] = [_createTextVNode(\" 刷新 \", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"]), _ctx.alarms.length > 0 ? (_openBlock(), _createBlock(_component_el_button, {\n    key: 1,\n    size: \"small\",\n    type: \"primary\",\n    plain: \"\",\n    onClick: _ctx.markAllAsProcessed\n  }, {\n    default: _withCtx(() => [...(_cache[1] || (_cache[1] = [_createTextVNode(\" 全部处理 \", -1 /* CACHED */)]))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"])) : _createCommentVNode(\"v-if\", true)])]), _createCommentVNode(\" 报警列表 \"), _createElementVNode(\"div\", _hoisted_4, [_ctx.alarms.length === 0 ? (_openBlock(), _createBlock(_component_el_empty, {\n    key: 0,\n    description: \"暂无报警信息\",\n    class: \"py-4\"\n  })) : _createCommentVNode(\"v-if\", true), _createVNode(_component_el_timeline, {\n    reverse: false\n  }, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.alarms, alarm => {\n      return _openBlock(), _createBlock(_component_el_timeline_item, {\n        key: alarm.id,\n        timestamp: _ctx.formatTime(alarm.timestamp),\n        type: _ctx.getAlarmType(alarm.severity),\n        icon: _ctx.getAlarmIcon(alarm.severity),\n        placement: \"top\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_card, {\n          shadow: 'hover',\n          class: \"alarm-card\"\n        }, {\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"h4\", _hoisted_6, _toDisplayString(alarm.title), 1 /* TEXT */), _createVNode(_component_el_tag, {\n            size: \"small\",\n            type: _ctx.getAlarmType(alarm.severity),\n            effect: \"dark\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString(alarm.severity) + \"级 \", 1 /* TEXT */)]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"type\"])]), _createElementVNode(\"div\", _hoisted_7, _toDisplayString(alarm.location), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_8, _toDisplayString(alarm.description), 1 /* TEXT */), _createCommentVNode(\" 报警图片 \"), alarm.imageUrl ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_createVNode(_component_el_image, {\n            src: alarm.imageUrl,\n            \"preview-src-list\": [alarm.imageUrl],\n            class: \"w-full h-40 object-cover rounded\",\n            fit: \"cover\"\n          }, null, 8 /* PROPS */, [\"src\", \"preview-src-list\"])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_10, [_createVNode(_component_el_button, {\n            size: \"small\",\n            type: \"danger\",\n            onClick: $event => _ctx.$emit('alarm-processed', alarm.id)\n          }, {\n            default: _withCtx(() => [...(_cache[3] || (_cache[3] = [_createTextVNode(\" 标记已处理 \", -1 /* CACHED */)]))]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_button, {\n            size: \"small\",\n            type: \"primary\",\n            onClick: $event => _ctx.showAlarmDetail(alarm)\n          }, {\n            default: _withCtx(() => [_cache[4] || (_cache[4] = _createTextVNode(\" 查看详情 \", -1 /* CACHED */)), _createVNode(_component_el_icon, null, {\n              default: _withCtx(() => [_createVNode(_component_ArrowRight)]),\n              _: 1 /* STABLE */\n            })]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"onClick\"])])]),\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */)]),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"timestamp\", \"type\", \"icon\"]);\n    }), 128 /* KEYED_FRAGMENT */))]),\n    _: 1 /* STABLE */\n  })])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","_ctx","alarms","length","_createBlock","_component_el_badge","value","type","size","_createVNode","_component_el_button","icon","onClick","handleRefresh","plain","_cache","markAllAsProcessed","_hoisted_4","_component_el_empty","description","_component_el_timeline","reverse","_Fragment","_renderList","alarm","_component_el_timeline_item","key","id","timestamp","formatTime","getAlarmType","severity","getAlarmIcon","placement","_component_el_card","shadow","_hoisted_5","_hoisted_6","_toDisplayString","title","_component_el_tag","effect","_hoisted_7","location","_hoisted_8","imageUrl","_hoisted_9","_component_el_image","src","fit","_hoisted_10","$event","$emit","showAlarmDetail","_component_el_icon","_component_ArrowRight"],"sources":["D:\\projects\\FlightHub-2-Frontend-Standalone-Component\\frontend\\src\\components\\AlarmPanel.vue"],"sourcesContent":["<template>\n  <div class=\"alarm-panel h-full flex flex-col\">\n    <!-- 面板标题 -->\n    <div class=\"panel-header flex justify-between items-center p-2 border-b\">\n      <h3 class=\"font-medium text-gray-900\">报警信息</h3>\n      <div class=\"flex items-center gap-2\">\n        <el-badge \n          v-if=\"alarms.length > 0\" \n          :value=\"alarms.length\" \n          type=\"danger\" \n          size=\"small\"\n        />\n        <el-button \n          size=\"small\" \n          icon=\"Refresh\" \n          @click=\"handleRefresh\" \n          plain\n        >\n          刷新\n        </el-button>\n        <el-button \n          v-if=\"alarms.length > 0\" \n          size=\"small\" \n          type=\"primary\" \n          plain\n          @click=\"markAllAsProcessed\"\n        >\n          全部处理\n        </el-button>\n      </div>\n    </div>\n    \n    <!-- 报警列表 -->\n    <div class=\"alarm-list flex-grow overflow-y-auto p-2\">\n      <el-empty v-if=\"alarms.length === 0\" description=\"暂无报警信息\" class=\"py-4\" />\n      \n      <el-timeline :reverse=\"false\">\n        <el-timeline-item\n          v-for=\"alarm in alarms\"\n          :key=\"alarm.id\"\n          :timestamp=\"formatTime(alarm.timestamp)\"\n          :type=\"getAlarmType(alarm.severity)\"\n          :icon=\"getAlarmIcon(alarm.severity)\"\n          placement=\"top\"\n        >\n          <el-card :shadow=\"'hover'\" class=\"alarm-card\">\n            <div class=\"flex justify-between items-start mb-2\">\n              <h4 class=\"font-medium text-gray-900\">{{ alarm.title }}</h4>\n              <el-tag \n                size=\"small\" \n                :type=\"getAlarmType(alarm.severity)\"\n                effect=\"dark\"\n              >\n                {{ alarm.severity }}级\n              </el-tag>\n            </div>\n            <div class=\"text-sm text-gray-500 mb-2\">{{ alarm.location }}</div>\n            <p class=\"text-sm text-gray-600 mb-3\">{{ alarm.description }}</p>\n            \n            <!-- 报警图片 -->\n            <div v-if=\"alarm.imageUrl\" class=\"mt-3 mb-3\">\n              <el-image\n                :src=\"alarm.imageUrl\"\n                :preview-src-list=\"[alarm.imageUrl]\"\n                class=\"w-full h-40 object-cover rounded\"\n                fit=\"cover\"\n              ></el-image>\n            </div>\n            \n            <div class=\"flex justify-end gap-2\">\n              <el-button \n                size=\"small\" \n                type=\"danger\" \n                @click=\"$emit('alarm-processed', alarm.id)\"\n              >\n                标记已处理\n              </el-button>\n              <el-button \n                size=\"small\" \n                type=\"primary\" \n                @click=\"showAlarmDetail(alarm)\"\n              >\n                查看详情\n                <el-icon><ArrowRight /></el-icon>\n              </el-button>\n            </div>\n          </el-card>\n        </el-timeline-item>\n      </el-timeline>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { BellFilled, Refresh, CircleCheck, Close, ArrowRight, Warning, InfoFilled, Danger } from '@element-plus/icons-vue'\n\nexport default {\n  name: 'AlarmPanel',\n  components: {\n    BellFilled,\n    Refresh,\n    CircleCheck,\n    Close,\n    ArrowRight,\n    Warning,\n    InfoFilled,\n    Danger\n  },\n  props: {\n    alarms: {\n      type: Array,\n      default: () => []\n    }\n  },\n    methods: {\n      // 刷新报警列表\n      handleRefresh() {\n        // 这里可以添加刷新逻辑\n        console.log('刷新报警列表')\n        this.$message.info('报警列表已刷新')\n      },\n      \n      // 格式化日期时间\n      formatTime(timestamp) {\n        if (!timestamp) return ''\n        const date = new Date(timestamp)\n        return date.toLocaleString('zh-CN', {\n          month: '2-digit',\n          day: '2-digit',\n          hour: '2-digit',\n          minute: '2-digit',\n          second: '2-digit'\n        })\n      },\n    \n    // 处理刷新\n    handleRefresh() {\n      console.log('刷新报警列表')\n      // 这里可以添加刷新逻辑\n    },\n    \n    // 显示报警详情\n    showAlarmDetail(alarm) {\n      console.log('查看报警详情:', alarm)\n      // 这里可以打开详情对话框\n    },\n    \n    // 标记单个报警为已处理\n    markAsProcessed(alarmId) {\n      this.$emit('alarm-processed', alarmId)\n      this.$message.success('报警已标记为已处理')\n    },\n    \n    // 标记所有报警为已处理\n    markAllAsProcessed() {\n      this.$confirm('确定要标记所有报警为已处理吗？', '确认操作', {\n        confirmButtonText: '确认',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.alarms.forEach(alarm => {\n          this.$emit('alarm-processed', alarm.id)\n        })\n        this.$message.success('所有报警已标记为已处理')\n      }).catch(() => {\n        this.$message.info('已取消操作')\n      })\n    },\n    \n    // 获取报警类型样式\n    getAlarmType(severity) {\n      switch(severity) {\n        case '高':\n          return 'danger'\n        case '中':\n          return 'warning'\n        case '低':\n          return 'info'\n        default:\n          return 'info'\n      }\n    },\n    \n    // 获取报警图标\n    getAlarmIcon(severity) {\n      switch(severity) {\n        case '高':\n          return <Danger />;\n        case '中':\n          return <Warning />;\n        case '低':\n          return <InfoFilled />;\n        default:\n          return <InfoFilled />;\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.alarm-panel {\n  border: 1px solid #e2e8f0;\n  border-radius: 6px;\n  background-color: #ffffff;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n/* 滚动条样式 */\n.alarm-list {\n  flex-grow: 1;\n  overflow-y: auto;\n}\n\n.alarm-list ::v-deep(.el-scrollbar__wrap) {\n  overflow-x: hidden;\n}\n\n/* 卡片样式 */\n.alarm-card {\n  margin-bottom: 10px;\n  animation: slideIn 0.3s ease-out;\n  transition: all 0.2s ease;\n}\n\n.alarm-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n\n/* 时间线样式调整 */\n::v-deep(.el-timeline) {\n  padding: 0;\n}\n\n::v-deep(.el-timeline-item) {\n  padding-bottom: 20px;\n}\n\n::v-deep(.el-timeline-item__timestamp) {\n  top: 2px;\n  font-size: 12px;\n  color: #909399;\n}\n\n/* 标题栏样式 */\n.panel-header {\n  border-bottom: 1px solid #ebeef5;\n  padding: 10px 15px;\n  background-color: #fafafa;\n  border-top-left-radius: 6px;\n  border-top-right-radius: 6px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n/* 卡片内边距调整 */\n::v-deep(.el-card__body) {\n  padding: 15px;\n}\n\n/* 按钮样式优化 */\n.el-button--small {\n  font-size: 12px;\n  padding: 6px 12px;\n}\n\n/* 高优先级报警闪烁效果 */\n::v-deep(.el-timeline-item__node--danger) {\n  animation: pulse 2s infinite;\n}\n\n@keyframes pulse {\n  0% {\n    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4);\n  }\n  70% {\n    box-shadow: 0 0 0 10px rgba(239, 68, 68, 0);\n  }\n  100% {\n    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0);\n  }\n}\n\n/* 动画效果 */\n@keyframes slideIn {\n  from {\n    opacity: 0;\n    transform: translateX(-20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n\n/* 响应式调整 */\n@media (max-width: 768px) {\n  .alarm-panel {\n    border-radius: 0;\n    border-left: none;\n    border-right: none;\n  }\n  \n  ::v-deep(.el-timeline-item__timestamp) {\n    position: static;\n    margin-bottom: 5px;\n  }\n  \n  ::v-deep(.el-timeline-item__wrapper) {\n    flex-direction: column;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}