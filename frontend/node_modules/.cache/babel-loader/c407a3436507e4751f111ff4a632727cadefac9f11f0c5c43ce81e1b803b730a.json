{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport createGuid from \"../Core/createGuid.js\";\nimport Frozen from \"../Core/Frozen.js\";\nimport defined from \"../Core/defined.js\";\nimport destroyObject from \"../Core/destroyObject.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport Event from \"../Core/Event.js\";\n\n/**\n * A collection of primitives.  This is most often used with {@link Scene#primitives},\n * but <code>PrimitiveCollection</code> is also a primitive itself so collections can\n * be added to collections forming a hierarchy.\n *\n * @alias PrimitiveCollection\n * @constructor\n *\n * @param {object} [options] Object with the following properties:\n * @param {boolean} [options.show=true] Determines if the primitives in the collection will be shown.\n * @param {boolean} [options.destroyPrimitives=true] Determines if primitives in the collection are destroyed when they are removed.\n * @privateParam {boolean} [options.countReferences=false] Specifies whether adding and removing primitives from this collection alters their reference counts. If so, adding a\n * primitive to this collection increments its reference count. Removing the primitive decrements its reference count and - if the count reaches zero **and** destroyPrimitives is true - destroys the primitive.\n * This permits primitives to be shared between multiple collections.\n *\n * @example\n * const billboards = new Cesium.BillboardCollection();\n * const labels = new Cesium.LabelCollection();\n *\n * const collection = new Cesium.PrimitiveCollection();\n * collection.add(billboards);\n *\n * scene.primitives.add(collection);  // Add collection\n * scene.primitives.add(labels);      // Add regular primitive\n */\nfunction PrimitiveCollection(options) {\n  options = options ?? Frozen.EMPTY_OBJECT;\n  this._primitives = [];\n  this._guid = createGuid();\n  this._primitiveAdded = new Event();\n  this._primitiveRemoved = new Event();\n\n  // Used by the OrderedGroundPrimitiveCollection\n  this._zIndex = undefined;\n\n  /**\n   * Determines if primitives in this collection will be shown.\n   *\n   * @type {boolean}\n   * @default true\n   */\n  this.show = options.show ?? true;\n\n  /**\n   * Determines if primitives in the collection are destroyed when they are removed by\n   * {@link PrimitiveCollection#destroy} or  {@link PrimitiveCollection#remove} or implicitly\n   * by {@link PrimitiveCollection#removeAll}.\n   *\n   * @type {boolean}\n   * @default true\n   *\n   * @example\n   * // Example 1. Primitives are destroyed by default.\n   * const primitives = new Cesium.PrimitiveCollection();\n   * const labels = primitives.add(new Cesium.LabelCollection());\n   * primitives = primitives.destroy();\n   * const b = labels.isDestroyed(); // true\n   *\n   * @example\n   * // Example 2. Do not destroy primitives in a collection.\n   * const primitives = new Cesium.PrimitiveCollection();\n   * primitives.destroyPrimitives = false;\n   * const labels = primitives.add(new Cesium.LabelCollection());\n   * primitives = primitives.destroy();\n   * const b = labels.isDestroyed(); // false\n   * labels = labels.destroy();    // explicitly destroy\n   */\n  this.destroyPrimitives = options.destroyPrimitives ?? true;\n  this._countReferences = options.countReferences ?? false;\n}\nObject.defineProperties(PrimitiveCollection.prototype, {\n  /**\n   * Gets the number of primitives in the collection.\n   *\n   * @memberof PrimitiveCollection.prototype\n   *\n   * @type {number}\n   * @readonly\n   */\n  length: {\n    get: function () {\n      return this._primitives.length;\n    }\n  },\n  /**\n   * An event that is raised when a primitive is added to the collection.\n   * Event handlers are passed the primitive that was added.\n   * @memberof PrimitiveCollection.prototype\n   * @type {Event}\n   * @readonly\n   */\n  primitiveAdded: {\n    get: function () {\n      return this._primitiveAdded;\n    }\n  },\n  /**\n   * An event that is raised when a primitive is removed from the collection.\n   * Event handlers are passed the primitive that was removed.\n   * <p>\n   * Note: Depending on the destroyPrimitives constructor option, the primitive may already be destroyed.\n   * </p>\n   * @memberof PrimitiveCollection.prototype\n   * @type {Event}\n   * @readonly\n   */\n  primitiveRemoved: {\n    get: function () {\n      return this._primitiveRemoved;\n    }\n  }\n});\n\n/**\n * Adds a primitive to the collection.\n *\n * @param {object} primitive The primitive to add.\n * @param {number} [index] The index to add the layer at.  If omitted, the primitive will be added at the bottom of all existing primitives.\n * @returns {object} The primitive added to the collection.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n * @example\n * const billboards = scene.primitives.add(new Cesium.BillboardCollection());\n */\nPrimitiveCollection.prototype.add = function (primitive, index) {\n  const hasIndex = defined(index);\n\n  //>>includeStart('debug', pragmas.debug);\n  if (!defined(primitive)) {\n    throw new DeveloperError(\"primitive is required.\");\n  }\n  if (hasIndex) {\n    if (index < 0) {\n      throw new DeveloperError(\"index must be greater than or equal to zero.\");\n    } else if (index > this._primitives.length) {\n      throw new DeveloperError(\"index must be less than or equal to the number of primitives.\");\n    }\n  }\n  //>>includeEnd('debug');\n\n  const external = primitive._external = primitive._external || {};\n  const composites = external._composites = external._composites || {};\n  composites[this._guid] = {\n    collection: this\n  };\n  if (!hasIndex) {\n    this._primitives.push(primitive);\n  } else {\n    this._primitives.splice(index, 0, primitive);\n  }\n  if (this._countReferences) {\n    if (!defined(external._referenceCount)) {\n      external._referenceCount = 1;\n    } else {\n      ++external._referenceCount;\n    }\n  }\n  this._primitiveAdded.raiseEvent(primitive);\n  return primitive;\n};\n\n/**\n * Removes a primitive from the collection.\n *\n * @param {object} [primitive] The primitive to remove.\n * @returns {boolean} <code>true</code> if the primitive was removed; <code>false</code> if the primitive is <code>undefined</code> or was not found in the collection.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n *\n * @example\n * const billboards = scene.primitives.add(new Cesium.BillboardCollection());\n * scene.primitives.remove(billboards);  // Returns true\n *\n * @see PrimitiveCollection#destroyPrimitives\n */\nPrimitiveCollection.prototype.remove = function (primitive) {\n  // PERFORMANCE_IDEA:  We can obviously make this a lot faster.\n  if (this.contains(primitive)) {\n    const index = this._primitives.indexOf(primitive);\n    if (index !== -1) {\n      this._primitives.splice(index, 1);\n      delete primitive._external._composites[this._guid];\n      if (this._countReferences) {\n        primitive._external._referenceCount--;\n      }\n      if (this.destroyPrimitives && (!this._countReferences || primitive._external._referenceCount <= 0)) {\n        primitive.destroy();\n      }\n      this._primitiveRemoved.raiseEvent(primitive);\n      return true;\n    }\n    // else ... this is not possible, I swear.\n  }\n  return false;\n};\n\n/**\n * Removes and destroys a primitive, regardless of destroyPrimitives or countReferences setting.\n * @private\n */\nPrimitiveCollection.prototype.removeAndDestroy = function (primitive) {\n  const removed = this.remove(primitive);\n  if (removed && !this.destroyPrimitives) {\n    primitive.destroy();\n  }\n  return removed;\n};\n\n/**\n * Removes all primitives in the collection.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n * @see PrimitiveCollection#destroyPrimitives\n */\nPrimitiveCollection.prototype.removeAll = function () {\n  const primitives = this._primitives;\n  const length = primitives.length;\n  for (let i = 0; i < length; ++i) {\n    const primitive = primitives[i];\n    delete primitive._external._composites[this._guid];\n    if (this._countReferences) {\n      primitive._external._referenceCount--;\n    }\n    if (this.destroyPrimitives && (!this._countReferences || primitive._external._referenceCount <= 0)) {\n      primitive.destroy();\n    }\n    this._primitiveRemoved.raiseEvent(primitive);\n  }\n  this._primitives = [];\n};\n\n/**\n * Determines if this collection contains a primitive.\n *\n * @param {object} [primitive] The primitive to check for.\n * @returns {boolean} <code>true</code> if the primitive is in the collection; <code>false</code> if the primitive is <code>undefined</code> or was not found in the collection.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n * @see PrimitiveCollection#get\n */\nPrimitiveCollection.prototype.contains = function (primitive) {\n  return !!(defined(primitive) && primitive._external && primitive._external._composites && primitive._external._composites[this._guid]);\n};\nfunction getPrimitiveIndex(compositePrimitive, primitive) {\n  //>>includeStart('debug', pragmas.debug);\n  if (!compositePrimitive.contains(primitive)) {\n    throw new DeveloperError(\"primitive is not in this collection.\");\n  }\n  //>>includeEnd('debug');\n\n  return compositePrimitive._primitives.indexOf(primitive);\n}\n\n/**\n * Raises a primitive \"up one\" in the collection.  If all primitives in the collection are drawn\n * on the globe surface, this visually moves the primitive up one.\n *\n * @param {object} [primitive] The primitive to raise.\n *\n * @exception {DeveloperError} primitive is not in this collection.\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n * @see PrimitiveCollection#raiseToTop\n * @see PrimitiveCollection#lower\n * @see PrimitiveCollection#lowerToBottom\n */\nPrimitiveCollection.prototype.raise = function (primitive) {\n  if (defined(primitive)) {\n    const index = getPrimitiveIndex(this, primitive);\n    const primitives = this._primitives;\n    if (index !== primitives.length - 1) {\n      const p = primitives[index];\n      primitives[index] = primitives[index + 1];\n      primitives[index + 1] = p;\n    }\n  }\n};\n\n/**\n * Raises a primitive to the \"top\" of the collection.  If all primitives in the collection are drawn\n * on the globe surface, this visually moves the primitive to the top.\n *\n * @param {object} [primitive] The primitive to raise the top.\n *\n * @exception {DeveloperError} primitive is not in this collection.\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n * @see PrimitiveCollection#raise\n * @see PrimitiveCollection#lower\n * @see PrimitiveCollection#lowerToBottom\n */\nPrimitiveCollection.prototype.raiseToTop = function (primitive) {\n  if (defined(primitive)) {\n    const index = getPrimitiveIndex(this, primitive);\n    const primitives = this._primitives;\n    if (index !== primitives.length - 1) {\n      // PERFORMANCE_IDEA:  Could be faster\n      primitives.splice(index, 1);\n      primitives.push(primitive);\n    }\n  }\n};\n\n/**\n * Lowers a primitive \"down one\" in the collection.  If all primitives in the collection are drawn\n * on the globe surface, this visually moves the primitive down one.\n *\n * @param {object} [primitive] The primitive to lower.\n *\n * @exception {DeveloperError} primitive is not in this collection.\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n * @see PrimitiveCollection#lowerToBottom\n * @see PrimitiveCollection#raise\n * @see PrimitiveCollection#raiseToTop\n */\nPrimitiveCollection.prototype.lower = function (primitive) {\n  if (defined(primitive)) {\n    const index = getPrimitiveIndex(this, primitive);\n    const primitives = this._primitives;\n    if (index !== 0) {\n      const p = primitives[index];\n      primitives[index] = primitives[index - 1];\n      primitives[index - 1] = p;\n    }\n  }\n};\n\n/**\n * Lowers a primitive to the \"bottom\" of the collection.  If all primitives in the collection are drawn\n * on the globe surface, this visually moves the primitive to the bottom.\n *\n * @param {object} [primitive] The primitive to lower to the bottom.\n *\n * @exception {DeveloperError} primitive is not in this collection.\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n * @see PrimitiveCollection#lower\n * @see PrimitiveCollection#raise\n * @see PrimitiveCollection#raiseToTop\n */\nPrimitiveCollection.prototype.lowerToBottom = function (primitive) {\n  if (defined(primitive)) {\n    const index = getPrimitiveIndex(this, primitive);\n    const primitives = this._primitives;\n    if (index !== 0) {\n      // PERFORMANCE_IDEA:  Could be faster\n      primitives.splice(index, 1);\n      primitives.unshift(primitive);\n    }\n  }\n};\n\n/**\n * Returns the primitive in the collection at the specified index.\n *\n * @param {number} index The zero-based index of the primitive to return.\n * @returns {object} The primitive at the <code>index</code>.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n *\n * @example\n * // Toggle the show property of every primitive in the collection.\n * const primitives = scene.primitives;\n * const length = primitives.length;\n * for (let i = 0; i < length; ++i) {\n *   const p = primitives.get(i);\n *   p.show = !p.show;\n * }\n *\n * @see PrimitiveCollection#length\n */\nPrimitiveCollection.prototype.get = function (index) {\n  //>>includeStart('debug', pragmas.debug);\n  if (!defined(index)) {\n    throw new DeveloperError(\"index is required.\");\n  }\n  //>>includeEnd('debug');\n\n  return this._primitives[index];\n};\n\n/**\n * @private\n */\nPrimitiveCollection.prototype.update = function (frameState) {\n  if (!this.show) {\n    return;\n  }\n  const primitives = this._primitives;\n  // Using primitives.length in the loop is a temporary workaround\n  // to allow quadtree updates to add and remove primitives in\n  // update().  This will be changed to manage added and removed lists.\n  for (let i = 0; i < primitives.length; ++i) {\n    primitives[i].update(frameState);\n  }\n};\n\n/**\n * @private\n */\nPrimitiveCollection.prototype.prePassesUpdate = function (frameState) {\n  const primitives = this._primitives;\n  // Using primitives.length in the loop is a temporary workaround\n  // to allow quadtree updates to add and remove primitives in\n  // update().  This will be changed to manage added and removed lists.\n  for (let i = 0; i < primitives.length; ++i) {\n    const primitive = primitives[i];\n    if (defined(primitive.prePassesUpdate)) {\n      primitive.prePassesUpdate(frameState);\n    }\n  }\n};\n\n/**\n * @private\n */\nPrimitiveCollection.prototype.updateForPass = function (frameState, passState) {\n  const primitives = this._primitives;\n  // Using primitives.length in the loop is a temporary workaround\n  // to allow quadtree updates to add and remove primitives in\n  // update().  This will be changed to manage added and removed lists.\n  for (let i = 0; i < primitives.length; ++i) {\n    const primitive = primitives[i];\n    if (defined(primitive.updateForPass)) {\n      primitive.updateForPass(frameState, passState);\n    }\n  }\n};\n\n/**\n * @private\n */\nPrimitiveCollection.prototype.postPassesUpdate = function (frameState) {\n  const primitives = this._primitives;\n  // Using primitives.length in the loop is a temporary workaround\n  // to allow quadtree updates to add and remove primitives in\n  // update().  This will be changed to manage added and removed lists.\n  for (let i = 0; i < primitives.length; ++i) {\n    const primitive = primitives[i];\n    if (defined(primitive.postPassesUpdate)) {\n      primitive.postPassesUpdate(frameState);\n    }\n  }\n};\n\n/**\n * Returns true if this object was destroyed; otherwise, false.\n * <br /><br />\n * If this object was destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.\n *\n * @returns {boolean} True if this object was destroyed; otherwise, false.\n *\n * @see PrimitiveCollection#destroy\n */\nPrimitiveCollection.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the WebGL resources held by each primitive in this collection.  Explicitly destroying this\n * collection allows for deterministic release of WebGL resources, instead of relying on the garbage\n * collector to destroy this collection.\n * <br /><br />\n * Since destroying a collection destroys all the contained primitives, only destroy a collection\n * when you are sure no other code is still using any of the contained primitives.\n * <br /><br />\n * Once this collection is destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.  Therefore,\n * assign the return value (<code>undefined</code>) to the object as done in the example.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n *\n * @example\n * primitives = primitives && primitives.destroy();\n *\n * @see PrimitiveCollection#isDestroyed\n */\nPrimitiveCollection.prototype.destroy = function () {\n  this.removeAll();\n  return destroyObject(this);\n};\nexport default PrimitiveCollection;","map":{"version":3,"names":["createGuid","Frozen","defined","destroyObject","DeveloperError","Event","PrimitiveCollection","options","EMPTY_OBJECT","_primitives","_guid","_primitiveAdded","_primitiveRemoved","_zIndex","undefined","show","destroyPrimitives","_countReferences","countReferences","Object","defineProperties","prototype","length","get","primitiveAdded","primitiveRemoved","add","primitive","index","hasIndex","external","_external","composites","_composites","collection","push","splice","_referenceCount","raiseEvent","remove","contains","indexOf","destroy","removeAndDestroy","removed","removeAll","primitives","i","getPrimitiveIndex","compositePrimitive","raise","p","raiseToTop","lower","lowerToBottom","unshift","update","frameState","prePassesUpdate","updateForPass","passState","postPassesUpdate","isDestroyed"],"sources":["D:/projects/FlightHub-2-Frontend-Standalone-Component/frontend/node_modules/@cesium/engine/Source/Scene/PrimitiveCollection.js"],"sourcesContent":["import createGuid from \"../Core/createGuid.js\";\nimport Frozen from \"../Core/Frozen.js\";\nimport defined from \"../Core/defined.js\";\nimport destroyObject from \"../Core/destroyObject.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport Event from \"../Core/Event.js\";\n\n/**\n * A collection of primitives.  This is most often used with {@link Scene#primitives},\n * but <code>PrimitiveCollection</code> is also a primitive itself so collections can\n * be added to collections forming a hierarchy.\n *\n * @alias PrimitiveCollection\n * @constructor\n *\n * @param {object} [options] Object with the following properties:\n * @param {boolean} [options.show=true] Determines if the primitives in the collection will be shown.\n * @param {boolean} [options.destroyPrimitives=true] Determines if primitives in the collection are destroyed when they are removed.\n * @privateParam {boolean} [options.countReferences=false] Specifies whether adding and removing primitives from this collection alters their reference counts. If so, adding a\n * primitive to this collection increments its reference count. Removing the primitive decrements its reference count and - if the count reaches zero **and** destroyPrimitives is true - destroys the primitive.\n * This permits primitives to be shared between multiple collections.\n *\n * @example\n * const billboards = new Cesium.BillboardCollection();\n * const labels = new Cesium.LabelCollection();\n *\n * const collection = new Cesium.PrimitiveCollection();\n * collection.add(billboards);\n *\n * scene.primitives.add(collection);  // Add collection\n * scene.primitives.add(labels);      // Add regular primitive\n */\nfunction PrimitiveCollection(options) {\n  options = options ?? Frozen.EMPTY_OBJECT;\n\n  this._primitives = [];\n  this._guid = createGuid();\n  this._primitiveAdded = new Event();\n  this._primitiveRemoved = new Event();\n\n  // Used by the OrderedGroundPrimitiveCollection\n  this._zIndex = undefined;\n\n  /**\n   * Determines if primitives in this collection will be shown.\n   *\n   * @type {boolean}\n   * @default true\n   */\n  this.show = options.show ?? true;\n\n  /**\n   * Determines if primitives in the collection are destroyed when they are removed by\n   * {@link PrimitiveCollection#destroy} or  {@link PrimitiveCollection#remove} or implicitly\n   * by {@link PrimitiveCollection#removeAll}.\n   *\n   * @type {boolean}\n   * @default true\n   *\n   * @example\n   * // Example 1. Primitives are destroyed by default.\n   * const primitives = new Cesium.PrimitiveCollection();\n   * const labels = primitives.add(new Cesium.LabelCollection());\n   * primitives = primitives.destroy();\n   * const b = labels.isDestroyed(); // true\n   *\n   * @example\n   * // Example 2. Do not destroy primitives in a collection.\n   * const primitives = new Cesium.PrimitiveCollection();\n   * primitives.destroyPrimitives = false;\n   * const labels = primitives.add(new Cesium.LabelCollection());\n   * primitives = primitives.destroy();\n   * const b = labels.isDestroyed(); // false\n   * labels = labels.destroy();    // explicitly destroy\n   */\n  this.destroyPrimitives = options.destroyPrimitives ?? true;\n\n  this._countReferences = options.countReferences ?? false;\n}\n\nObject.defineProperties(PrimitiveCollection.prototype, {\n  /**\n   * Gets the number of primitives in the collection.\n   *\n   * @memberof PrimitiveCollection.prototype\n   *\n   * @type {number}\n   * @readonly\n   */\n  length: {\n    get: function () {\n      return this._primitives.length;\n    },\n  },\n\n  /**\n   * An event that is raised when a primitive is added to the collection.\n   * Event handlers are passed the primitive that was added.\n   * @memberof PrimitiveCollection.prototype\n   * @type {Event}\n   * @readonly\n   */\n  primitiveAdded: {\n    get: function () {\n      return this._primitiveAdded;\n    },\n  },\n\n  /**\n   * An event that is raised when a primitive is removed from the collection.\n   * Event handlers are passed the primitive that was removed.\n   * <p>\n   * Note: Depending on the destroyPrimitives constructor option, the primitive may already be destroyed.\n   * </p>\n   * @memberof PrimitiveCollection.prototype\n   * @type {Event}\n   * @readonly\n   */\n  primitiveRemoved: {\n    get: function () {\n      return this._primitiveRemoved;\n    },\n  },\n});\n\n/**\n * Adds a primitive to the collection.\n *\n * @param {object} primitive The primitive to add.\n * @param {number} [index] The index to add the layer at.  If omitted, the primitive will be added at the bottom of all existing primitives.\n * @returns {object} The primitive added to the collection.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n * @example\n * const billboards = scene.primitives.add(new Cesium.BillboardCollection());\n */\nPrimitiveCollection.prototype.add = function (primitive, index) {\n  const hasIndex = defined(index);\n\n  //>>includeStart('debug', pragmas.debug);\n  if (!defined(primitive)) {\n    throw new DeveloperError(\"primitive is required.\");\n  }\n  if (hasIndex) {\n    if (index < 0) {\n      throw new DeveloperError(\"index must be greater than or equal to zero.\");\n    } else if (index > this._primitives.length) {\n      throw new DeveloperError(\n        \"index must be less than or equal to the number of primitives.\",\n      );\n    }\n  }\n  //>>includeEnd('debug');\n\n  const external = (primitive._external = primitive._external || {});\n  const composites = (external._composites = external._composites || {});\n  composites[this._guid] = {\n    collection: this,\n  };\n\n  if (!hasIndex) {\n    this._primitives.push(primitive);\n  } else {\n    this._primitives.splice(index, 0, primitive);\n  }\n\n  if (this._countReferences) {\n    if (!defined(external._referenceCount)) {\n      external._referenceCount = 1;\n    } else {\n      ++external._referenceCount;\n    }\n  }\n\n  this._primitiveAdded.raiseEvent(primitive);\n\n  return primitive;\n};\n\n/**\n * Removes a primitive from the collection.\n *\n * @param {object} [primitive] The primitive to remove.\n * @returns {boolean} <code>true</code> if the primitive was removed; <code>false</code> if the primitive is <code>undefined</code> or was not found in the collection.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n *\n * @example\n * const billboards = scene.primitives.add(new Cesium.BillboardCollection());\n * scene.primitives.remove(billboards);  // Returns true\n *\n * @see PrimitiveCollection#destroyPrimitives\n */\nPrimitiveCollection.prototype.remove = function (primitive) {\n  // PERFORMANCE_IDEA:  We can obviously make this a lot faster.\n  if (this.contains(primitive)) {\n    const index = this._primitives.indexOf(primitive);\n    if (index !== -1) {\n      this._primitives.splice(index, 1);\n\n      delete primitive._external._composites[this._guid];\n      if (this._countReferences) {\n        primitive._external._referenceCount--;\n      }\n\n      if (\n        this.destroyPrimitives &&\n        (!this._countReferences || primitive._external._referenceCount <= 0)\n      ) {\n        primitive.destroy();\n      }\n\n      this._primitiveRemoved.raiseEvent(primitive);\n\n      return true;\n    }\n    // else ... this is not possible, I swear.\n  }\n\n  return false;\n};\n\n/**\n * Removes and destroys a primitive, regardless of destroyPrimitives or countReferences setting.\n * @private\n */\nPrimitiveCollection.prototype.removeAndDestroy = function (primitive) {\n  const removed = this.remove(primitive);\n  if (removed && !this.destroyPrimitives) {\n    primitive.destroy();\n  }\n  return removed;\n};\n\n/**\n * Removes all primitives in the collection.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n * @see PrimitiveCollection#destroyPrimitives\n */\nPrimitiveCollection.prototype.removeAll = function () {\n  const primitives = this._primitives;\n  const length = primitives.length;\n  for (let i = 0; i < length; ++i) {\n    const primitive = primitives[i];\n    delete primitive._external._composites[this._guid];\n    if (this._countReferences) {\n      primitive._external._referenceCount--;\n    }\n\n    if (\n      this.destroyPrimitives &&\n      (!this._countReferences || primitive._external._referenceCount <= 0)\n    ) {\n      primitive.destroy();\n    }\n\n    this._primitiveRemoved.raiseEvent(primitive);\n  }\n  this._primitives = [];\n};\n\n/**\n * Determines if this collection contains a primitive.\n *\n * @param {object} [primitive] The primitive to check for.\n * @returns {boolean} <code>true</code> if the primitive is in the collection; <code>false</code> if the primitive is <code>undefined</code> or was not found in the collection.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n * @see PrimitiveCollection#get\n */\nPrimitiveCollection.prototype.contains = function (primitive) {\n  return !!(\n    defined(primitive) &&\n    primitive._external &&\n    primitive._external._composites &&\n    primitive._external._composites[this._guid]\n  );\n};\n\nfunction getPrimitiveIndex(compositePrimitive, primitive) {\n  //>>includeStart('debug', pragmas.debug);\n  if (!compositePrimitive.contains(primitive)) {\n    throw new DeveloperError(\"primitive is not in this collection.\");\n  }\n  //>>includeEnd('debug');\n\n  return compositePrimitive._primitives.indexOf(primitive);\n}\n\n/**\n * Raises a primitive \"up one\" in the collection.  If all primitives in the collection are drawn\n * on the globe surface, this visually moves the primitive up one.\n *\n * @param {object} [primitive] The primitive to raise.\n *\n * @exception {DeveloperError} primitive is not in this collection.\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n * @see PrimitiveCollection#raiseToTop\n * @see PrimitiveCollection#lower\n * @see PrimitiveCollection#lowerToBottom\n */\nPrimitiveCollection.prototype.raise = function (primitive) {\n  if (defined(primitive)) {\n    const index = getPrimitiveIndex(this, primitive);\n    const primitives = this._primitives;\n\n    if (index !== primitives.length - 1) {\n      const p = primitives[index];\n      primitives[index] = primitives[index + 1];\n      primitives[index + 1] = p;\n    }\n  }\n};\n\n/**\n * Raises a primitive to the \"top\" of the collection.  If all primitives in the collection are drawn\n * on the globe surface, this visually moves the primitive to the top.\n *\n * @param {object} [primitive] The primitive to raise the top.\n *\n * @exception {DeveloperError} primitive is not in this collection.\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n * @see PrimitiveCollection#raise\n * @see PrimitiveCollection#lower\n * @see PrimitiveCollection#lowerToBottom\n */\nPrimitiveCollection.prototype.raiseToTop = function (primitive) {\n  if (defined(primitive)) {\n    const index = getPrimitiveIndex(this, primitive);\n    const primitives = this._primitives;\n\n    if (index !== primitives.length - 1) {\n      // PERFORMANCE_IDEA:  Could be faster\n      primitives.splice(index, 1);\n      primitives.push(primitive);\n    }\n  }\n};\n\n/**\n * Lowers a primitive \"down one\" in the collection.  If all primitives in the collection are drawn\n * on the globe surface, this visually moves the primitive down one.\n *\n * @param {object} [primitive] The primitive to lower.\n *\n * @exception {DeveloperError} primitive is not in this collection.\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n * @see PrimitiveCollection#lowerToBottom\n * @see PrimitiveCollection#raise\n * @see PrimitiveCollection#raiseToTop\n */\nPrimitiveCollection.prototype.lower = function (primitive) {\n  if (defined(primitive)) {\n    const index = getPrimitiveIndex(this, primitive);\n    const primitives = this._primitives;\n\n    if (index !== 0) {\n      const p = primitives[index];\n      primitives[index] = primitives[index - 1];\n      primitives[index - 1] = p;\n    }\n  }\n};\n\n/**\n * Lowers a primitive to the \"bottom\" of the collection.  If all primitives in the collection are drawn\n * on the globe surface, this visually moves the primitive to the bottom.\n *\n * @param {object} [primitive] The primitive to lower to the bottom.\n *\n * @exception {DeveloperError} primitive is not in this collection.\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n * @see PrimitiveCollection#lower\n * @see PrimitiveCollection#raise\n * @see PrimitiveCollection#raiseToTop\n */\nPrimitiveCollection.prototype.lowerToBottom = function (primitive) {\n  if (defined(primitive)) {\n    const index = getPrimitiveIndex(this, primitive);\n    const primitives = this._primitives;\n\n    if (index !== 0) {\n      // PERFORMANCE_IDEA:  Could be faster\n      primitives.splice(index, 1);\n      primitives.unshift(primitive);\n    }\n  }\n};\n\n/**\n * Returns the primitive in the collection at the specified index.\n *\n * @param {number} index The zero-based index of the primitive to return.\n * @returns {object} The primitive at the <code>index</code>.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n *\n * @example\n * // Toggle the show property of every primitive in the collection.\n * const primitives = scene.primitives;\n * const length = primitives.length;\n * for (let i = 0; i < length; ++i) {\n *   const p = primitives.get(i);\n *   p.show = !p.show;\n * }\n *\n * @see PrimitiveCollection#length\n */\nPrimitiveCollection.prototype.get = function (index) {\n  //>>includeStart('debug', pragmas.debug);\n  if (!defined(index)) {\n    throw new DeveloperError(\"index is required.\");\n  }\n  //>>includeEnd('debug');\n\n  return this._primitives[index];\n};\n\n/**\n * @private\n */\nPrimitiveCollection.prototype.update = function (frameState) {\n  if (!this.show) {\n    return;\n  }\n\n  const primitives = this._primitives;\n  // Using primitives.length in the loop is a temporary workaround\n  // to allow quadtree updates to add and remove primitives in\n  // update().  This will be changed to manage added and removed lists.\n  for (let i = 0; i < primitives.length; ++i) {\n    primitives[i].update(frameState);\n  }\n};\n\n/**\n * @private\n */\nPrimitiveCollection.prototype.prePassesUpdate = function (frameState) {\n  const primitives = this._primitives;\n  // Using primitives.length in the loop is a temporary workaround\n  // to allow quadtree updates to add and remove primitives in\n  // update().  This will be changed to manage added and removed lists.\n  for (let i = 0; i < primitives.length; ++i) {\n    const primitive = primitives[i];\n    if (defined(primitive.prePassesUpdate)) {\n      primitive.prePassesUpdate(frameState);\n    }\n  }\n};\n\n/**\n * @private\n */\nPrimitiveCollection.prototype.updateForPass = function (frameState, passState) {\n  const primitives = this._primitives;\n  // Using primitives.length in the loop is a temporary workaround\n  // to allow quadtree updates to add and remove primitives in\n  // update().  This will be changed to manage added and removed lists.\n  for (let i = 0; i < primitives.length; ++i) {\n    const primitive = primitives[i];\n    if (defined(primitive.updateForPass)) {\n      primitive.updateForPass(frameState, passState);\n    }\n  }\n};\n\n/**\n * @private\n */\nPrimitiveCollection.prototype.postPassesUpdate = function (frameState) {\n  const primitives = this._primitives;\n  // Using primitives.length in the loop is a temporary workaround\n  // to allow quadtree updates to add and remove primitives in\n  // update().  This will be changed to manage added and removed lists.\n  for (let i = 0; i < primitives.length; ++i) {\n    const primitive = primitives[i];\n    if (defined(primitive.postPassesUpdate)) {\n      primitive.postPassesUpdate(frameState);\n    }\n  }\n};\n\n/**\n * Returns true if this object was destroyed; otherwise, false.\n * <br /><br />\n * If this object was destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.\n *\n * @returns {boolean} True if this object was destroyed; otherwise, false.\n *\n * @see PrimitiveCollection#destroy\n */\nPrimitiveCollection.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the WebGL resources held by each primitive in this collection.  Explicitly destroying this\n * collection allows for deterministic release of WebGL resources, instead of relying on the garbage\n * collector to destroy this collection.\n * <br /><br />\n * Since destroying a collection destroys all the contained primitives, only destroy a collection\n * when you are sure no other code is still using any of the contained primitives.\n * <br /><br />\n * Once this collection is destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.  Therefore,\n * assign the return value (<code>undefined</code>) to the object as done in the example.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n *\n *\n * @example\n * primitives = primitives && primitives.destroy();\n *\n * @see PrimitiveCollection#isDestroyed\n */\nPrimitiveCollection.prototype.destroy = function () {\n  this.removeAll();\n  return destroyObject(this);\n};\nexport default PrimitiveCollection;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}