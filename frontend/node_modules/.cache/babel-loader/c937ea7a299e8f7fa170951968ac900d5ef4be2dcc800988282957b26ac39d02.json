{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport { Cartesian3, Check, defined, destroyObject, HeadingPitchRoll, Math as CesiumMath, Matrix3, Matrix4, CustomShader, VoxelShapeType } from \"@cesium/engine\";\nimport knockout from \"../ThirdParty/knockout.js\";\nfunction formatShaderString(str) {\n  // This function:\n  // A) removes whitespace lines at the beginning of the string\n  // B) removes unnecessary spaces from the beginning of each line\n\n  const lines = str.split(\"\\n\");\n  let firstLineIdx;\n  for (firstLineIdx = 0; firstLineIdx < lines.length; firstLineIdx++) {\n    if (lines[firstLineIdx].match(/\\S/)) {\n      // Found the first line that's not entirely whitespace\n      break;\n    }\n  }\n  if (firstLineIdx === lines.length) {\n    // All lines are empty\n    return \"\";\n  }\n  let finalStr = \"\";\n  const pattern = /^\\s*/;\n  const firstLine = lines[firstLineIdx];\n  const spacesInFrontOfFirstLine = firstLine.match(pattern)[0].length;\n  for (let i = firstLineIdx; i < lines.length; i++) {\n    let line = lines[i];\n    const spacesInFront = line.match(pattern)[0].length;\n    if (spacesInFront >= spacesInFrontOfFirstLine) {\n      line = line.slice(spacesInFrontOfFirstLine);\n    }\n    finalStr += `${line}\\n`;\n  }\n  return finalStr;\n}\n\n/**\n * The view model for {@link VoxelInspector}.\n * @alias VoxelInspectorViewModel\n * @constructor\n *\n * @param {Scene} scene The scene instance to use.\n */\nfunction VoxelInspectorViewModel(scene) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.object(\"scene\", scene);\n  //>>includeEnd('debug');\n\n  this._scene = scene;\n  this._voxelPrimitive = undefined;\n  this._customShaderCompilationRemoveCallback = undefined;\n  this._definedProperties = [];\n  this._getPrimitiveFunctions = [];\n  this._modelMatrixReady = false;\n  const that = this;\n  function addProperty(options) {\n    const {\n      name,\n      initialValue\n    } = options;\n    that._definedProperties.push(name);\n    let setPrimitiveFunction = options.setPrimitiveFunction;\n    if (setPrimitiveFunction === true) {\n      setPrimitiveFunction = function (value) {\n        that._voxelPrimitive[name] = value;\n      };\n    }\n    let getPrimitiveFunction = options.getPrimitiveFunction;\n    if (getPrimitiveFunction === true) {\n      getPrimitiveFunction = function () {\n        that[name] = that._voxelPrimitive[name];\n      };\n    }\n    if (defined(getPrimitiveFunction)) {\n      that._getPrimitiveFunctions.push(getPrimitiveFunction);\n    }\n    const knock = knockout.observable();\n    knockout.defineProperty(that, name, {\n      get: function () {\n        return knock();\n      },\n      set: function (value) {\n        // Convert input values to the correct type\n        if (typeof initialValue === \"number\" && typeof value === \"string\") {\n          value = Number(value);\n          if (isNaN(value)) {\n            value = initialValue;\n          }\n        }\n        if (typeof initialValue === \"boolean\" && typeof value === \"number\") {\n          value = value === 1 ? true : false;\n        }\n        knock(value);\n        if (defined(setPrimitiveFunction) && defined(that._voxelPrimitive)) {\n          setPrimitiveFunction(value);\n          scene.requestRender();\n        }\n      }\n    });\n    that[name] = initialValue;\n    return knock;\n  }\n  function getBoundSetter(boundKey, component) {\n    return function (value) {\n      const bound = that._voxelPrimitive[boundKey].clone();\n      bound[component] = value;\n      that._voxelPrimitive[boundKey] = bound;\n    };\n  }\n  addProperty({\n    name: \"inspectorVisible\",\n    initialValue: true\n  });\n  addProperty({\n    name: \"displayVisible\",\n    initialValue: false\n  });\n  addProperty({\n    name: \"transformVisible\",\n    initialValue: false\n  });\n  addProperty({\n    name: \"boundsVisible\",\n    initialValue: false\n  });\n  addProperty({\n    name: \"clippingVisible\",\n    initialValue: false\n  });\n  addProperty({\n    name: \"shaderVisible\",\n    initialValue: false\n  });\n  addProperty({\n    name: \"shaderString\",\n    initialValue: \"\",\n    getPrimitiveFunction: function () {\n      const shaderString = that._voxelPrimitive.customShader.fragmentShaderText;\n      that.shaderString = formatShaderString(shaderString);\n    }\n  });\n  addProperty({\n    name: \"shaderCompilationMessage\",\n    initialValue: \"\"\n  });\n  addProperty({\n    name: \"shaderCompilationSuccess\",\n    initialValue: true\n  });\n  addProperty({\n    name: \"depthTest\",\n    initialValue: false,\n    setPrimitiveFunction: true,\n    getPrimitiveFunction: true\n  });\n  addProperty({\n    name: \"show\",\n    initialValue: true,\n    setPrimitiveFunction: true,\n    getPrimitiveFunction: true\n  });\n  addProperty({\n    name: \"disableUpdate\",\n    initialValue: false,\n    setPrimitiveFunction: true,\n    getPrimitiveFunction: true\n  });\n  addProperty({\n    name: \"debugDraw\",\n    initialValue: false,\n    setPrimitiveFunction: true,\n    getPrimitiveFunction: true\n  });\n  addProperty({\n    name: \"jitter\",\n    initialValue: true,\n    setPrimitiveFunction: true,\n    getPrimitiveFunction: true\n  });\n  addProperty({\n    name: \"nearestSampling\",\n    initialValue: true,\n    setPrimitiveFunction: true,\n    getPrimitiveFunction: true\n  });\n  addProperty({\n    name: \"screenSpaceError\",\n    initialValue: 4.0,\n    setPrimitiveFunction: true,\n    getPrimitiveFunction: true\n  });\n  addProperty({\n    name: \"stepSize\",\n    initialValue: 1.0,\n    setPrimitiveFunction: true,\n    getPrimitiveFunction: true\n  });\n  addProperty({\n    name: \"shapeIsBox\",\n    getPrimitiveFunction: function () {\n      const shapeType = that._voxelPrimitive.shape;\n      that.shapeIsBox = shapeType === VoxelShapeType.BOX;\n    }\n  });\n  addProperty({\n    name: \"shapeIsEllipsoid\",\n    getPrimitiveFunction: function () {\n      const shapeType = that._voxelPrimitive.shape;\n      that.shapeIsEllipsoid = shapeType === VoxelShapeType.ELLIPSOID;\n    }\n  });\n  addProperty({\n    name: \"shapeIsCylinder\",\n    getPrimitiveFunction: function () {\n      const shapeType = that._voxelPrimitive.shape;\n      that.shapeIsCylinder = shapeType === VoxelShapeType.CYLINDER;\n    }\n  });\n  addProperty({\n    name: \"clippingBoxMaxXMin\",\n    initialValue: 0.0,\n    getPrimitiveFunction: function () {\n      that.clippingBoxMaxXMin = that._voxelPrimitive.minBounds.x;\n    }\n  });\n  addProperty({\n    name: \"clippingBoxMaxXMax\",\n    initialValue: 1.0,\n    getPrimitiveFunction: function () {\n      that.clippingBoxMaxXMax = that._voxelPrimitive.maxBounds.x;\n    }\n  });\n  addProperty({\n    name: \"clippingBoxMaxX\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"maxClippingBounds\", \"x\"),\n    getPrimitiveFunction: function () {\n      that.clippingBoxMaxX = that._voxelPrimitive.maxClippingBounds.x;\n    }\n  });\n  addProperty({\n    name: \"clippingBoxMinXMin\",\n    initialValue: 0.0,\n    getPrimitiveFunction: function () {\n      that.clippingBoxMinXMin = that._voxelPrimitive.minBounds.x;\n    }\n  });\n  addProperty({\n    name: \"clippingBoxMinXMax\",\n    initialValue: 1.0,\n    getPrimitiveFunction: function () {\n      that.clippingBoxMinXMax = that._voxelPrimitive.maxBounds.x;\n    }\n  });\n  addProperty({\n    name: \"clippingBoxMinX\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"minClippingBounds\", \"x\"),\n    getPrimitiveFunction: function () {\n      that.clippingBoxMinX = that._voxelPrimitive.minClippingBounds.x;\n    }\n  });\n  addProperty({\n    name: \"clippingBoxMaxYMin\",\n    initialValue: 0.0,\n    getPrimitiveFunction: function () {\n      that.clippingBoxMaxYMin = that._voxelPrimitive.minBounds.y;\n    }\n  });\n  addProperty({\n    name: \"clippingBoxMaxYMax\",\n    initialValue: 1.0,\n    getPrimitiveFunction: function () {\n      that.clippingBoxMaxYMax = that._voxelPrimitive.maxBounds.y;\n    }\n  });\n  addProperty({\n    name: \"clippingBoxMaxY\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"maxClippingBounds\", \"y\"),\n    getPrimitiveFunction: function () {\n      that.clippingBoxMaxY = that._voxelPrimitive.maxClippingBounds.y;\n    }\n  });\n  addProperty({\n    name: \"clippingBoxMinYMin\",\n    initialValue: 0.0,\n    getPrimitiveFunction: function () {\n      that.clippingBoxMinYMin = that._voxelPrimitive.minBounds.y;\n    }\n  });\n  addProperty({\n    name: \"clippingBoxMinYMax\",\n    initialValue: 1.0,\n    getPrimitiveFunction: function () {\n      that.clippingBoxMinYMax = that._voxelPrimitive.maxBounds.y;\n    }\n  });\n  addProperty({\n    name: \"clippingBoxMinY\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"minClippingBounds\", \"y\"),\n    getPrimitiveFunction: function () {\n      that.clippingBoxMinY = that._voxelPrimitive.minClippingBounds.y;\n    }\n  });\n  addProperty({\n    name: \"clippingBoxMaxZMin\",\n    initialValue: 0.0,\n    getPrimitiveFunction: function () {\n      that.clippingBoxMaxZMin = that._voxelPrimitive.minBounds.z;\n    }\n  });\n  addProperty({\n    name: \"clippingBoxMaxZMax\",\n    initialValue: 1.0,\n    getPrimitiveFunction: function () {\n      that.clippingBoxMaxZMax = that._voxelPrimitive.maxBounds.z;\n    }\n  });\n  addProperty({\n    name: \"clippingBoxMaxZ\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"maxClippingBounds\", \"z\"),\n    getPrimitiveFunction: function () {\n      that.clippingBoxMaxZ = that._voxelPrimitive.maxClippingBounds.z;\n    }\n  });\n  addProperty({\n    name: \"clippingBoxMinZMin\",\n    initialValue: 0.0,\n    getPrimitiveFunction: function () {\n      that.clippingBoxMinZMin = that._voxelPrimitive.minBounds.z;\n    }\n  });\n  addProperty({\n    name: \"clippingBoxMinZMax\",\n    initialValue: 1.0,\n    getPrimitiveFunction: function () {\n      that.clippingBoxMinZMax = that._voxelPrimitive.maxBounds.z;\n    }\n  });\n  addProperty({\n    name: \"clippingBoxMinZ\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"minClippingBounds\", \"z\"),\n    getPrimitiveFunction: function () {\n      that.clippingBoxMinZ = that._voxelPrimitive.minClippingBounds.z;\n    }\n  });\n  addProperty({\n    name: \"clippingEllipsoidMaxLongitudeMin\",\n    initialValue: -CesiumMath.PI,\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMaxLongitudeMin = that._voxelPrimitive.minBounds.x;\n    }\n  });\n  addProperty({\n    name: \"clippingEllipsoidMaxLongitudeMax\",\n    initialValue: CesiumMath.PI,\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMaxLongitudeMax = that._voxelPrimitive.maxBounds.x;\n    }\n  });\n  addProperty({\n    name: \"clippingEllipsoidMaxLongitude\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"maxClippingBounds\", \"x\"),\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMaxLongitude = that._voxelPrimitive.maxClippingBounds.x;\n    }\n  });\n  addProperty({\n    name: \"clippingEllipsoidMinLongitudeMin\",\n    initialValue: -CesiumMath.PI,\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMinLongitudeMin = that._voxelPrimitive.minBounds.x;\n    }\n  });\n  addProperty({\n    name: \"clippingEllipsoidMinLongitudeMax\",\n    initialValue: CesiumMath.PI,\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMinLongitudeMax = that._voxelPrimitive.maxBounds.x;\n    }\n  });\n  addProperty({\n    name: \"clippingEllipsoidMinLongitude\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"minClippingBounds\", \"x\"),\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMinLongitude = that._voxelPrimitive.minClippingBounds.x;\n    }\n  });\n  addProperty({\n    name: \"clippingEllipsoidMaxLatitudeMin\",\n    initialValue: -CesiumMath.PI_OVER_TWO,\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMaxLatitudeMin = that._voxelPrimitive.minBounds.y;\n    }\n  });\n  addProperty({\n    name: \"clippingEllipsoidMaxLatitudeMax\",\n    initialValue: CesiumMath.PI_OVER_TWO,\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMaxLatitudeMax = that._voxelPrimitive.maxBounds.y;\n    }\n  });\n  addProperty({\n    name: \"clippingEllipsoidMaxLatitude\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"maxClippingBounds\", \"y\"),\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMaxLatitude = that._voxelPrimitive.maxClippingBounds.y;\n    }\n  });\n  addProperty({\n    name: \"clippingEllipsoidMinLatitudeMin\",\n    initialValue: -CesiumMath.PI_OVER_TWO,\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMinLatitudeMin = that._voxelPrimitive.minBounds.y;\n    }\n  });\n  addProperty({\n    name: \"clippingEllipsoidMinLatitudeMax\",\n    initialValue: CesiumMath.PI_OVER_TWO,\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMinLatitudeMax = that._voxelPrimitive.maxBounds.y;\n    }\n  });\n  addProperty({\n    name: \"clippingEllipsoidMinLatitude\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"minClippingBounds\", \"y\"),\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMinLatitude = that._voxelPrimitive.minClippingBounds.y;\n    }\n  });\n  addProperty({\n    name: \"clippingEllipsoidMaxHeightMin\",\n    initialValue: 0.0,\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMaxHeightMin = that._voxelPrimitive.minBounds.z;\n    }\n  });\n  addProperty({\n    name: \"clippingEllipsoidMaxHeightMax\",\n    initialValue: 100000.0,\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMaxHeightMax = that._voxelPrimitive.maxBounds.z;\n    }\n  });\n  addProperty({\n    name: \"clippingEllipsoidMaxHeight\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"maxClippingBounds\", \"z\"),\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMaxHeight = that._voxelPrimitive.maxClippingBounds.z;\n    }\n  });\n  addProperty({\n    name: \"clippingEllipsoidMinHeightMin\",\n    initialValue: -100000.0,\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMinHeightMin = that._voxelPrimitive.minBounds.z;\n    }\n  });\n  addProperty({\n    name: \"clippingEllipsoidMinHeightMax\",\n    initialValue: 0.0,\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMinHeightMax = that._voxelPrimitive.maxBounds.z;\n    }\n  });\n  addProperty({\n    name: \"clippingEllipsoidMinHeight\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"minClippingBounds\", \"z\"),\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMinHeight = that._voxelPrimitive.minClippingBounds.z;\n    }\n  });\n  addProperty({\n    name: \"clippingCylinderMaxRadiusMin\",\n    initialValue: 0.0,\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMaxRadiusMin = that._voxelPrimitive.minBounds.x;\n    }\n  });\n  addProperty({\n    name: \"clippingCylinderMaxRadiusMax\",\n    initialValue: 1.0,\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMaxRadiusMax = that._voxelPrimitive.maxBounds.x;\n    }\n  });\n  addProperty({\n    name: \"clippingCylinderMaxRadius\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"maxClippingBounds\", \"x\"),\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMaxRadius = that._voxelPrimitive.maxClippingBounds.x;\n    }\n  });\n  addProperty({\n    name: \"clippingCylinderMinRadiusMin\",\n    initialValue: 0.0,\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMinRadiusMin = that._voxelPrimitive.minBounds.x;\n    }\n  });\n  addProperty({\n    name: \"clippingCylinderMinRadiusMax\",\n    initialValue: 1.0,\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMinRadiusMax = that._voxelPrimitive.maxBounds.x;\n    }\n  });\n  addProperty({\n    name: \"clippingCylinderMinRadius\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"minClippingBounds\", \"x\"),\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMinRadius = that._voxelPrimitive.minClippingBounds.x;\n    }\n  });\n  addProperty({\n    name: \"clippingCylinderMaxAngleMin\",\n    initialValue: -CesiumMath.PI,\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMaxAngleMin = that._voxelPrimitive.minBounds.y;\n    }\n  });\n  addProperty({\n    name: \"clippingCylinderMaxAngleMax\",\n    initialValue: CesiumMath.PI,\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMaxAngleMax = that._voxelPrimitive.maxBounds.y;\n    }\n  });\n  addProperty({\n    name: \"clippingCylinderMaxAngle\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"maxClippingBounds\", \"y\"),\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMaxAngle = that._voxelPrimitive.maxClippingBounds.y;\n    }\n  });\n  addProperty({\n    name: \"clippingCylinderMinAngleMin\",\n    initialValue: -CesiumMath.PI\n  });\n  addProperty({\n    name: \"clippingCylinderMinAngleMax\",\n    initialValue: CesiumMath.PI\n  });\n  addProperty({\n    name: \"clippingCylinderMinAngle\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"minClippingBounds\", \"y\"),\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMinAngle = that._voxelPrimitive.minClippingBounds.y;\n    }\n  });\n  addProperty({\n    name: \"clippingCylinderMaxHeightMin\",\n    initialValue: -1.0,\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMaxHeightMin = that._voxelPrimitive.minBounds.z;\n    }\n  });\n  addProperty({\n    name: \"clippingCylinderMaxHeightMax\",\n    initialValue: 1.0,\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMaxHeightMax = that._voxelPrimitive.maxBounds.z;\n    }\n  });\n  addProperty({\n    name: \"clippingCylinderMaxHeight\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"maxClippingBounds\", \"z\"),\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMaxHeight = that._voxelPrimitive.maxClippingBounds.z;\n    }\n  });\n  addProperty({\n    name: \"clippingCylinderMinHeightMin\",\n    initialValue: -1.0,\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMinHeightMin = that._voxelPrimitive.minBounds.z;\n    }\n  });\n  addProperty({\n    name: \"clippingCylinderMinHeightMax\",\n    initialValue: 1.0,\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMinHeightMax = that._voxelPrimitive.maxBounds.z;\n    }\n  });\n  addProperty({\n    name: \"clippingCylinderMinHeight\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"minClippingBounds\", \"z\"),\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMinHeight = that._voxelPrimitive.minClippingBounds.z;\n    }\n  });\n  addProperty({\n    name: \"translationX\",\n    initialValue: 0.0,\n    setPrimitiveFunction: function () {\n      if (that._modelMatrixReady) {\n        setModelMatrix(that);\n      }\n    },\n    getPrimitiveFunction: function () {\n      that.translationX = Matrix4.getTranslation(that._voxelPrimitive.modelMatrix, new Cartesian3()).x;\n    }\n  });\n  addProperty({\n    name: \"translationY\",\n    initialValue: 0.0,\n    setPrimitiveFunction: function () {\n      if (that._modelMatrixReady) {\n        setModelMatrix(that);\n      }\n    },\n    getPrimitiveFunction: function () {\n      that.translationY = Matrix4.getTranslation(that._voxelPrimitive.modelMatrix, new Cartesian3()).y;\n    }\n  });\n  addProperty({\n    name: \"translationZ\",\n    initialValue: 0.0,\n    setPrimitiveFunction: function () {\n      if (that._modelMatrixReady) {\n        setModelMatrix(that);\n      }\n    },\n    getPrimitiveFunction: function () {\n      that.translationZ = Matrix4.getTranslation(that._voxelPrimitive.modelMatrix, new Cartesian3()).z;\n    }\n  });\n  addProperty({\n    name: \"scaleX\",\n    initialValue: 1.0,\n    setPrimitiveFunction: function () {\n      if (that._modelMatrixReady) {\n        setModelMatrix(that);\n      }\n    },\n    getPrimitiveFunction: function () {\n      that.scaleX = Matrix4.getScale(that._voxelPrimitive.modelMatrix, new Cartesian3()).x;\n    }\n  });\n  addProperty({\n    name: \"scaleY\",\n    initialValue: 1.0,\n    setPrimitiveFunction: function () {\n      if (that._modelMatrixReady) {\n        setModelMatrix(that);\n      }\n    },\n    getPrimitiveFunction: function () {\n      that.scaleY = Matrix4.getScale(that._voxelPrimitive.modelMatrix, new Cartesian3()).y;\n    }\n  });\n  addProperty({\n    name: \"scaleZ\",\n    initialValue: 1.0,\n    setPrimitiveFunction: function () {\n      if (that._modelMatrixReady) {\n        setModelMatrix(that);\n      }\n    },\n    getPrimitiveFunction: function () {\n      that.scaleZ = Matrix4.getScale(that._voxelPrimitive.modelMatrix, new Cartesian3()).z;\n    }\n  });\n  addProperty({\n    name: \"angleX\",\n    initialValue: 0.0,\n    setPrimitiveFunction: function () {\n      if (that._modelMatrixReady) {\n        setModelMatrix(that);\n      }\n    }\n  });\n  addProperty({\n    name: \"angleY\",\n    initialValue: 0.0,\n    setPrimitiveFunction: function () {\n      if (that._modelMatrixReady) {\n        setModelMatrix(that);\n      }\n    }\n  });\n  addProperty({\n    name: \"angleZ\",\n    initialValue: 0.0,\n    setPrimitiveFunction: function () {\n      if (that._modelMatrixReady) {\n        setModelMatrix(that);\n      }\n    }\n  });\n}\nconst scratchTranslation = new Cartesian3();\nconst scratchScale = new Cartesian3();\nconst scratchHeadingPitchRoll = new HeadingPitchRoll();\nconst scratchRotation = new Matrix3();\nfunction setModelMatrix(viewModel) {\n  const translation = Cartesian3.fromElements(viewModel.translationX, viewModel.translationY, viewModel.translationZ, scratchTranslation);\n  const scale = Cartesian3.fromElements(viewModel.scaleX, viewModel.scaleY, viewModel.scaleZ, scratchScale);\n  const hpr = scratchHeadingPitchRoll;\n  hpr.heading = viewModel.angleX;\n  hpr.pitch = viewModel.angleY;\n  hpr.roll = viewModel.angleZ;\n  const rotation = Matrix3.fromHeadingPitchRoll(hpr, scratchRotation);\n  const rotationScale = Matrix3.multiplyByScale(rotation, scale, rotation);\n  viewModel._voxelPrimitive.modelMatrix = Matrix4.fromRotationTranslation(rotationScale, translation, viewModel._voxelPrimitive.modelMatrix);\n}\nObject.defineProperties(VoxelInspectorViewModel.prototype, {\n  /**\n   * Gets the scene\n   * @memberof VoxelInspectorViewModel.prototype\n   * @type {Scene}\n   * @readonly\n   */\n  scene: {\n    get: function () {\n      return this._scene;\n    }\n  },\n  /**\n   * Gets or sets the primitive of the view model.\n   * @memberof VoxelInspectorViewModel.prototype\n   * @type {VoxelPrimitive}\n   */\n  voxelPrimitive: {\n    get: function () {\n      return this._voxelPrimitive;\n    },\n    set: function (voxelPrimitive) {\n      if (defined(this._customShaderCompilationRemoveCallback)) {\n        this._customShaderCompilationRemoveCallback();\n      }\n\n      // Update properties from the new primitive\n      if (!defined(voxelPrimitive)) {\n        return;\n      }\n      this._voxelPrimitive = voxelPrimitive;\n      const that = this;\n      that._customShaderCompilationRemoveCallback = that._voxelPrimitive.customShaderCompilationEvent.addEventListener(function (error) {\n        const shaderString = that._voxelPrimitive.customShader.fragmentShaderText;\n        that.shaderString = formatShaderString(shaderString);\n        if (!defined(error)) {\n          that.shaderCompilationMessage = \"Shader compiled successfully!\";\n          that.shaderCompilationSuccess = true;\n        } else {\n          that.shaderCompilationMessage = error.message;\n          that.shaderCompilationSuccess = false;\n        }\n      });\n      that._modelMatrixReady = false;\n      for (let i = 0; i < that._getPrimitiveFunctions.length; i++) {\n        that._getPrimitiveFunctions[i]();\n      }\n      that._modelMatrixReady = true;\n      setModelMatrix(that);\n    }\n  }\n});\n\n/**\n * Toggles the inspector visibility\n */\nVoxelInspectorViewModel.prototype.toggleInspector = function () {\n  this.inspectorVisible = !this.inspectorVisible;\n};\n\n/**\n * Toggles the visibility of the display section\n */\nVoxelInspectorViewModel.prototype.toggleDisplay = function () {\n  this.displayVisible = !this.displayVisible;\n};\n\n/**\n * Toggles the visibility of the transform section\n */\nVoxelInspectorViewModel.prototype.toggleTransform = function () {\n  this.transformVisible = !this.transformVisible;\n};\n\n/**\n * Toggles the visibility of the bounds section\n */\nVoxelInspectorViewModel.prototype.toggleBounds = function () {\n  this.boundsVisible = !this.boundsVisible;\n};\n\n/**\n * Toggles the visibility of the clipping section\n */\nVoxelInspectorViewModel.prototype.toggleClipping = function () {\n  this.clippingVisible = !this.clippingVisible;\n};\n\n/**\n * Toggles the visibility of the shader section\n */\nVoxelInspectorViewModel.prototype.toggleShader = function () {\n  this.shaderVisible = !this.shaderVisible;\n};\n\n/**\n * Compiles the shader in the shader editor.\n */\nVoxelInspectorViewModel.prototype.compileShader = function () {\n  if (defined(this._voxelPrimitive)) {\n    // It's assumed that the same uniforms are going to be used regardless of edits.\n    this._voxelPrimitive.customShader = new CustomShader({\n      fragmentShaderText: this.shaderString,\n      uniforms: this._voxelPrimitive.customShader.uniforms\n    });\n  }\n};\n\n/**\n * Handles key press events on the shader editor.\n */\nVoxelInspectorViewModel.prototype.shaderEditorKeyPress = function (sender, event) {\n  if (event.keyCode === 9) {\n    //tab\n    event.preventDefault();\n    const textArea = event.target;\n    const start = textArea.selectionStart;\n    const end = textArea.selectionEnd;\n    let newEnd = end;\n    const selected = textArea.value.slice(start, end);\n    const lines = selected.split(\"\\n\");\n    const length = lines.length;\n    let i;\n    if (!event.shiftKey) {\n      for (i = 0; i < length; ++i) {\n        lines[i] = `  ${lines[i]}`;\n        newEnd += 2;\n      }\n    } else {\n      for (i = 0; i < length; ++i) {\n        if (lines[i][0] === \" \") {\n          if (lines[i][1] === \" \") {\n            lines[i] = lines[i].substr(2);\n            newEnd -= 2;\n          } else {\n            lines[i] = lines[i].substr(1);\n            newEnd -= 1;\n          }\n        }\n      }\n    }\n    const newText = lines.join(\"\\n\");\n    textArea.value = textArea.value.slice(0, start) + newText + textArea.value.slice(end);\n    textArea.selectionStart = start !== end ? start : newEnd;\n    textArea.selectionEnd = newEnd;\n  } else if (event.ctrlKey && (event.keyCode === 10 || event.keyCode === 13)) {\n    //ctrl + enter\n    this.compileShader();\n  }\n  return true;\n};\n\n/**\n * @returns {boolean} true if the object has been destroyed, false otherwise.\n */\nVoxelInspectorViewModel.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the widget.  Should be called if permanently\n * removing the widget from layout.\n */\nVoxelInspectorViewModel.prototype.destroy = function () {\n  const that = this;\n  this._definedProperties.forEach(function (property) {\n    knockout.getObservable(that, property).dispose();\n  });\n  return destroyObject(this);\n};\nexport default VoxelInspectorViewModel;","map":{"version":3,"names":["Cartesian3","Check","defined","destroyObject","HeadingPitchRoll","Math","CesiumMath","Matrix3","Matrix4","CustomShader","VoxelShapeType","knockout","formatShaderString","str","lines","split","firstLineIdx","length","match","finalStr","pattern","firstLine","spacesInFrontOfFirstLine","i","line","spacesInFront","slice","VoxelInspectorViewModel","scene","typeOf","object","_scene","_voxelPrimitive","undefined","_customShaderCompilationRemoveCallback","_definedProperties","_getPrimitiveFunctions","_modelMatrixReady","that","addProperty","options","name","initialValue","push","setPrimitiveFunction","value","getPrimitiveFunction","knock","observable","defineProperty","get","set","Number","isNaN","requestRender","getBoundSetter","boundKey","component","bound","clone","shaderString","customShader","fragmentShaderText","shapeType","shape","shapeIsBox","BOX","shapeIsEllipsoid","ELLIPSOID","shapeIsCylinder","CYLINDER","clippingBoxMaxXMin","minBounds","x","clippingBoxMaxXMax","maxBounds","clippingBoxMaxX","maxClippingBounds","clippingBoxMinXMin","clippingBoxMinXMax","clippingBoxMinX","minClippingBounds","clippingBoxMaxYMin","y","clippingBoxMaxYMax","clippingBoxMaxY","clippingBoxMinYMin","clippingBoxMinYMax","clippingBoxMinY","clippingBoxMaxZMin","z","clippingBoxMaxZMax","clippingBoxMaxZ","clippingBoxMinZMin","clippingBoxMinZMax","clippingBoxMinZ","PI","clippingEllipsoidMaxLongitudeMin","clippingEllipsoidMaxLongitudeMax","clippingEllipsoidMaxLongitude","clippingEllipsoidMinLongitudeMin","clippingEllipsoidMinLongitudeMax","clippingEllipsoidMinLongitude","PI_OVER_TWO","clippingEllipsoidMaxLatitudeMin","clippingEllipsoidMaxLatitudeMax","clippingEllipsoidMaxLatitude","clippingEllipsoidMinLatitudeMin","clippingEllipsoidMinLatitudeMax","clippingEllipsoidMinLatitude","clippingEllipsoidMaxHeightMin","clippingEllipsoidMaxHeightMax","clippingEllipsoidMaxHeight","clippingEllipsoidMinHeightMin","clippingEllipsoidMinHeightMax","clippingEllipsoidMinHeight","clippingCylinderMaxRadiusMin","clippingCylinderMaxRadiusMax","clippingCylinderMaxRadius","clippingCylinderMinRadiusMin","clippingCylinderMinRadiusMax","clippingCylinderMinRadius","clippingCylinderMaxAngleMin","clippingCylinderMaxAngleMax","clippingCylinderMaxAngle","clippingCylinderMinAngle","clippingCylinderMaxHeightMin","clippingCylinderMaxHeightMax","clippingCylinderMaxHeight","clippingCylinderMinHeightMin","clippingCylinderMinHeightMax","clippingCylinderMinHeight","setModelMatrix","translationX","getTranslation","modelMatrix","translationY","translationZ","scaleX","getScale","scaleY","scaleZ","scratchTranslation","scratchScale","scratchHeadingPitchRoll","scratchRotation","viewModel","translation","fromElements","scale","hpr","heading","angleX","pitch","angleY","roll","angleZ","rotation","fromHeadingPitchRoll","rotationScale","multiplyByScale","fromRotationTranslation","Object","defineProperties","prototype","voxelPrimitive","customShaderCompilationEvent","addEventListener","error","shaderCompilationMessage","shaderCompilationSuccess","message","toggleInspector","inspectorVisible","toggleDisplay","displayVisible","toggleTransform","transformVisible","toggleBounds","boundsVisible","toggleClipping","clippingVisible","toggleShader","shaderVisible","compileShader","uniforms","shaderEditorKeyPress","sender","event","keyCode","preventDefault","textArea","target","start","selectionStart","end","selectionEnd","newEnd","selected","shiftKey","substr","newText","join","ctrlKey","isDestroyed","destroy","forEach","property","getObservable","dispose"],"sources":["D:/projects/FlightHub-2-Frontend-Standalone-Component/frontend/node_modules/@cesium/widgets/Source/VoxelInspector/VoxelInspectorViewModel.js"],"sourcesContent":["import {\n  Cartesian3,\n  Check,\n  defined,\n  destroyObject,\n  HeadingPitchRoll,\n  Math as CesiumMath,\n  Matrix3,\n  Matrix4,\n  CustomShader,\n  VoxelShapeType,\n} from \"@cesium/engine\";\nimport knockout from \"../ThirdParty/knockout.js\";\n\nfunction formatShaderString(str) {\n  // This function:\n  // A) removes whitespace lines at the beginning of the string\n  // B) removes unnecessary spaces from the beginning of each line\n\n  const lines = str.split(\"\\n\");\n  let firstLineIdx;\n  for (firstLineIdx = 0; firstLineIdx < lines.length; firstLineIdx++) {\n    if (lines[firstLineIdx].match(/\\S/)) {\n      // Found the first line that's not entirely whitespace\n      break;\n    }\n  }\n  if (firstLineIdx === lines.length) {\n    // All lines are empty\n    return \"\";\n  }\n\n  let finalStr = \"\";\n  const pattern = /^\\s*/;\n  const firstLine = lines[firstLineIdx];\n  const spacesInFrontOfFirstLine = firstLine.match(pattern)[0].length;\n  for (let i = firstLineIdx; i < lines.length; i++) {\n    let line = lines[i];\n    const spacesInFront = line.match(pattern)[0].length;\n    if (spacesInFront >= spacesInFrontOfFirstLine) {\n      line = line.slice(spacesInFrontOfFirstLine);\n    }\n    finalStr += `${line}\\n`;\n  }\n  return finalStr;\n}\n\n/**\n * The view model for {@link VoxelInspector}.\n * @alias VoxelInspectorViewModel\n * @constructor\n *\n * @param {Scene} scene The scene instance to use.\n */\nfunction VoxelInspectorViewModel(scene) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.object(\"scene\", scene);\n  //>>includeEnd('debug');\n\n  this._scene = scene;\n  this._voxelPrimitive = undefined;\n  this._customShaderCompilationRemoveCallback = undefined;\n\n  this._definedProperties = [];\n  this._getPrimitiveFunctions = [];\n  this._modelMatrixReady = false;\n\n  const that = this;\n  function addProperty(options) {\n    const { name, initialValue } = options;\n\n    that._definedProperties.push(name);\n\n    let setPrimitiveFunction = options.setPrimitiveFunction;\n    if (setPrimitiveFunction === true) {\n      setPrimitiveFunction = function (value) {\n        that._voxelPrimitive[name] = value;\n      };\n    }\n\n    let getPrimitiveFunction = options.getPrimitiveFunction;\n    if (getPrimitiveFunction === true) {\n      getPrimitiveFunction = function () {\n        that[name] = that._voxelPrimitive[name];\n      };\n    }\n    if (defined(getPrimitiveFunction)) {\n      that._getPrimitiveFunctions.push(getPrimitiveFunction);\n    }\n\n    const knock = knockout.observable();\n    knockout.defineProperty(that, name, {\n      get: function () {\n        return knock();\n      },\n      set: function (value) {\n        // Convert input values to the correct type\n        if (typeof initialValue === \"number\" && typeof value === \"string\") {\n          value = Number(value);\n          if (isNaN(value)) {\n            value = initialValue;\n          }\n        }\n        if (typeof initialValue === \"boolean\" && typeof value === \"number\") {\n          value = value === 1 ? true : false;\n        }\n        knock(value);\n        if (defined(setPrimitiveFunction) && defined(that._voxelPrimitive)) {\n          setPrimitiveFunction(value);\n          scene.requestRender();\n        }\n      },\n    });\n\n    that[name] = initialValue;\n\n    return knock;\n  }\n\n  function getBoundSetter(boundKey, component) {\n    return function (value) {\n      const bound = that._voxelPrimitive[boundKey].clone();\n      bound[component] = value;\n      that._voxelPrimitive[boundKey] = bound;\n    };\n  }\n\n  addProperty({\n    name: \"inspectorVisible\",\n    initialValue: true,\n  });\n\n  addProperty({\n    name: \"displayVisible\",\n    initialValue: false,\n  });\n\n  addProperty({\n    name: \"transformVisible\",\n    initialValue: false,\n  });\n\n  addProperty({\n    name: \"boundsVisible\",\n    initialValue: false,\n  });\n\n  addProperty({\n    name: \"clippingVisible\",\n    initialValue: false,\n  });\n\n  addProperty({\n    name: \"shaderVisible\",\n    initialValue: false,\n  });\n\n  addProperty({\n    name: \"shaderString\",\n    initialValue: \"\",\n    getPrimitiveFunction: function () {\n      const shaderString = that._voxelPrimitive.customShader.fragmentShaderText;\n      that.shaderString = formatShaderString(shaderString);\n    },\n  });\n  addProperty({\n    name: \"shaderCompilationMessage\",\n    initialValue: \"\",\n  });\n  addProperty({\n    name: \"shaderCompilationSuccess\",\n    initialValue: true,\n  });\n  addProperty({\n    name: \"depthTest\",\n    initialValue: false,\n    setPrimitiveFunction: true,\n    getPrimitiveFunction: true,\n  });\n  addProperty({\n    name: \"show\",\n    initialValue: true,\n    setPrimitiveFunction: true,\n    getPrimitiveFunction: true,\n  });\n  addProperty({\n    name: \"disableUpdate\",\n    initialValue: false,\n    setPrimitiveFunction: true,\n    getPrimitiveFunction: true,\n  });\n  addProperty({\n    name: \"debugDraw\",\n    initialValue: false,\n    setPrimitiveFunction: true,\n    getPrimitiveFunction: true,\n  });\n  addProperty({\n    name: \"jitter\",\n    initialValue: true,\n    setPrimitiveFunction: true,\n    getPrimitiveFunction: true,\n  });\n  addProperty({\n    name: \"nearestSampling\",\n    initialValue: true,\n    setPrimitiveFunction: true,\n    getPrimitiveFunction: true,\n  });\n  addProperty({\n    name: \"screenSpaceError\",\n    initialValue: 4.0,\n    setPrimitiveFunction: true,\n    getPrimitiveFunction: true,\n  });\n  addProperty({\n    name: \"stepSize\",\n    initialValue: 1.0,\n    setPrimitiveFunction: true,\n    getPrimitiveFunction: true,\n  });\n  addProperty({\n    name: \"shapeIsBox\",\n    getPrimitiveFunction: function () {\n      const shapeType = that._voxelPrimitive.shape;\n      that.shapeIsBox = shapeType === VoxelShapeType.BOX;\n    },\n  });\n  addProperty({\n    name: \"shapeIsEllipsoid\",\n    getPrimitiveFunction: function () {\n      const shapeType = that._voxelPrimitive.shape;\n      that.shapeIsEllipsoid = shapeType === VoxelShapeType.ELLIPSOID;\n    },\n  });\n  addProperty({\n    name: \"shapeIsCylinder\",\n    getPrimitiveFunction: function () {\n      const shapeType = that._voxelPrimitive.shape;\n      that.shapeIsCylinder = shapeType === VoxelShapeType.CYLINDER;\n    },\n  });\n  addProperty({\n    name: \"clippingBoxMaxXMin\",\n    initialValue: 0.0,\n    getPrimitiveFunction: function () {\n      that.clippingBoxMaxXMin = that._voxelPrimitive.minBounds.x;\n    },\n  });\n  addProperty({\n    name: \"clippingBoxMaxXMax\",\n    initialValue: 1.0,\n    getPrimitiveFunction: function () {\n      that.clippingBoxMaxXMax = that._voxelPrimitive.maxBounds.x;\n    },\n  });\n  addProperty({\n    name: \"clippingBoxMaxX\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"maxClippingBounds\", \"x\"),\n    getPrimitiveFunction: function () {\n      that.clippingBoxMaxX = that._voxelPrimitive.maxClippingBounds.x;\n    },\n  });\n  addProperty({\n    name: \"clippingBoxMinXMin\",\n    initialValue: 0.0,\n    getPrimitiveFunction: function () {\n      that.clippingBoxMinXMin = that._voxelPrimitive.minBounds.x;\n    },\n  });\n  addProperty({\n    name: \"clippingBoxMinXMax\",\n    initialValue: 1.0,\n    getPrimitiveFunction: function () {\n      that.clippingBoxMinXMax = that._voxelPrimitive.maxBounds.x;\n    },\n  });\n  addProperty({\n    name: \"clippingBoxMinX\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"minClippingBounds\", \"x\"),\n    getPrimitiveFunction: function () {\n      that.clippingBoxMinX = that._voxelPrimitive.minClippingBounds.x;\n    },\n  });\n  addProperty({\n    name: \"clippingBoxMaxYMin\",\n    initialValue: 0.0,\n    getPrimitiveFunction: function () {\n      that.clippingBoxMaxYMin = that._voxelPrimitive.minBounds.y;\n    },\n  });\n  addProperty({\n    name: \"clippingBoxMaxYMax\",\n    initialValue: 1.0,\n    getPrimitiveFunction: function () {\n      that.clippingBoxMaxYMax = that._voxelPrimitive.maxBounds.y;\n    },\n  });\n  addProperty({\n    name: \"clippingBoxMaxY\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"maxClippingBounds\", \"y\"),\n    getPrimitiveFunction: function () {\n      that.clippingBoxMaxY = that._voxelPrimitive.maxClippingBounds.y;\n    },\n  });\n  addProperty({\n    name: \"clippingBoxMinYMin\",\n    initialValue: 0.0,\n    getPrimitiveFunction: function () {\n      that.clippingBoxMinYMin = that._voxelPrimitive.minBounds.y;\n    },\n  });\n  addProperty({\n    name: \"clippingBoxMinYMax\",\n    initialValue: 1.0,\n    getPrimitiveFunction: function () {\n      that.clippingBoxMinYMax = that._voxelPrimitive.maxBounds.y;\n    },\n  });\n  addProperty({\n    name: \"clippingBoxMinY\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"minClippingBounds\", \"y\"),\n    getPrimitiveFunction: function () {\n      that.clippingBoxMinY = that._voxelPrimitive.minClippingBounds.y;\n    },\n  });\n  addProperty({\n    name: \"clippingBoxMaxZMin\",\n    initialValue: 0.0,\n    getPrimitiveFunction: function () {\n      that.clippingBoxMaxZMin = that._voxelPrimitive.minBounds.z;\n    },\n  });\n  addProperty({\n    name: \"clippingBoxMaxZMax\",\n    initialValue: 1.0,\n    getPrimitiveFunction: function () {\n      that.clippingBoxMaxZMax = that._voxelPrimitive.maxBounds.z;\n    },\n  });\n  addProperty({\n    name: \"clippingBoxMaxZ\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"maxClippingBounds\", \"z\"),\n    getPrimitiveFunction: function () {\n      that.clippingBoxMaxZ = that._voxelPrimitive.maxClippingBounds.z;\n    },\n  });\n  addProperty({\n    name: \"clippingBoxMinZMin\",\n    initialValue: 0.0,\n    getPrimitiveFunction: function () {\n      that.clippingBoxMinZMin = that._voxelPrimitive.minBounds.z;\n    },\n  });\n  addProperty({\n    name: \"clippingBoxMinZMax\",\n    initialValue: 1.0,\n    getPrimitiveFunction: function () {\n      that.clippingBoxMinZMax = that._voxelPrimitive.maxBounds.z;\n    },\n  });\n  addProperty({\n    name: \"clippingBoxMinZ\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"minClippingBounds\", \"z\"),\n    getPrimitiveFunction: function () {\n      that.clippingBoxMinZ = that._voxelPrimitive.minClippingBounds.z;\n    },\n  });\n  addProperty({\n    name: \"clippingEllipsoidMaxLongitudeMin\",\n    initialValue: -CesiumMath.PI,\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMaxLongitudeMin = that._voxelPrimitive.minBounds.x;\n    },\n  });\n  addProperty({\n    name: \"clippingEllipsoidMaxLongitudeMax\",\n    initialValue: CesiumMath.PI,\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMaxLongitudeMax = that._voxelPrimitive.maxBounds.x;\n    },\n  });\n  addProperty({\n    name: \"clippingEllipsoidMaxLongitude\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"maxClippingBounds\", \"x\"),\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMaxLongitude =\n        that._voxelPrimitive.maxClippingBounds.x;\n    },\n  });\n  addProperty({\n    name: \"clippingEllipsoidMinLongitudeMin\",\n    initialValue: -CesiumMath.PI,\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMinLongitudeMin = that._voxelPrimitive.minBounds.x;\n    },\n  });\n  addProperty({\n    name: \"clippingEllipsoidMinLongitudeMax\",\n    initialValue: CesiumMath.PI,\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMinLongitudeMax = that._voxelPrimitive.maxBounds.x;\n    },\n  });\n  addProperty({\n    name: \"clippingEllipsoidMinLongitude\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"minClippingBounds\", \"x\"),\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMinLongitude =\n        that._voxelPrimitive.minClippingBounds.x;\n    },\n  });\n  addProperty({\n    name: \"clippingEllipsoidMaxLatitudeMin\",\n    initialValue: -CesiumMath.PI_OVER_TWO,\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMaxLatitudeMin = that._voxelPrimitive.minBounds.y;\n    },\n  });\n  addProperty({\n    name: \"clippingEllipsoidMaxLatitudeMax\",\n    initialValue: CesiumMath.PI_OVER_TWO,\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMaxLatitudeMax = that._voxelPrimitive.maxBounds.y;\n    },\n  });\n  addProperty({\n    name: \"clippingEllipsoidMaxLatitude\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"maxClippingBounds\", \"y\"),\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMaxLatitude =\n        that._voxelPrimitive.maxClippingBounds.y;\n    },\n  });\n  addProperty({\n    name: \"clippingEllipsoidMinLatitudeMin\",\n    initialValue: -CesiumMath.PI_OVER_TWO,\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMinLatitudeMin = that._voxelPrimitive.minBounds.y;\n    },\n  });\n  addProperty({\n    name: \"clippingEllipsoidMinLatitudeMax\",\n    initialValue: CesiumMath.PI_OVER_TWO,\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMinLatitudeMax = that._voxelPrimitive.maxBounds.y;\n    },\n  });\n  addProperty({\n    name: \"clippingEllipsoidMinLatitude\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"minClippingBounds\", \"y\"),\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMinLatitude =\n        that._voxelPrimitive.minClippingBounds.y;\n    },\n  });\n  addProperty({\n    name: \"clippingEllipsoidMaxHeightMin\",\n    initialValue: 0.0,\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMaxHeightMin = that._voxelPrimitive.minBounds.z;\n    },\n  });\n  addProperty({\n    name: \"clippingEllipsoidMaxHeightMax\",\n    initialValue: 100000.0,\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMaxHeightMax = that._voxelPrimitive.maxBounds.z;\n    },\n  });\n  addProperty({\n    name: \"clippingEllipsoidMaxHeight\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"maxClippingBounds\", \"z\"),\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMaxHeight =\n        that._voxelPrimitive.maxClippingBounds.z;\n    },\n  });\n  addProperty({\n    name: \"clippingEllipsoidMinHeightMin\",\n    initialValue: -100000.0,\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMinHeightMin = that._voxelPrimitive.minBounds.z;\n    },\n  });\n  addProperty({\n    name: \"clippingEllipsoidMinHeightMax\",\n    initialValue: 0.0,\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMinHeightMax = that._voxelPrimitive.maxBounds.z;\n    },\n  });\n  addProperty({\n    name: \"clippingEllipsoidMinHeight\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"minClippingBounds\", \"z\"),\n    getPrimitiveFunction: function () {\n      that.clippingEllipsoidMinHeight =\n        that._voxelPrimitive.minClippingBounds.z;\n    },\n  });\n  addProperty({\n    name: \"clippingCylinderMaxRadiusMin\",\n    initialValue: 0.0,\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMaxRadiusMin = that._voxelPrimitive.minBounds.x;\n    },\n  });\n  addProperty({\n    name: \"clippingCylinderMaxRadiusMax\",\n    initialValue: 1.0,\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMaxRadiusMax = that._voxelPrimitive.maxBounds.x;\n    },\n  });\n  addProperty({\n    name: \"clippingCylinderMaxRadius\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"maxClippingBounds\", \"x\"),\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMaxRadius = that._voxelPrimitive.maxClippingBounds.x;\n    },\n  });\n  addProperty({\n    name: \"clippingCylinderMinRadiusMin\",\n    initialValue: 0.0,\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMinRadiusMin = that._voxelPrimitive.minBounds.x;\n    },\n  });\n  addProperty({\n    name: \"clippingCylinderMinRadiusMax\",\n    initialValue: 1.0,\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMinRadiusMax = that._voxelPrimitive.maxBounds.x;\n    },\n  });\n  addProperty({\n    name: \"clippingCylinderMinRadius\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"minClippingBounds\", \"x\"),\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMinRadius = that._voxelPrimitive.minClippingBounds.x;\n    },\n  });\n  addProperty({\n    name: \"clippingCylinderMaxAngleMin\",\n    initialValue: -CesiumMath.PI,\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMaxAngleMin = that._voxelPrimitive.minBounds.y;\n    },\n  });\n  addProperty({\n    name: \"clippingCylinderMaxAngleMax\",\n    initialValue: CesiumMath.PI,\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMaxAngleMax = that._voxelPrimitive.maxBounds.y;\n    },\n  });\n  addProperty({\n    name: \"clippingCylinderMaxAngle\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"maxClippingBounds\", \"y\"),\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMaxAngle = that._voxelPrimitive.maxClippingBounds.y;\n    },\n  });\n  addProperty({\n    name: \"clippingCylinderMinAngleMin\",\n    initialValue: -CesiumMath.PI,\n  });\n  addProperty({\n    name: \"clippingCylinderMinAngleMax\",\n    initialValue: CesiumMath.PI,\n  });\n  addProperty({\n    name: \"clippingCylinderMinAngle\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"minClippingBounds\", \"y\"),\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMinAngle = that._voxelPrimitive.minClippingBounds.y;\n    },\n  });\n  addProperty({\n    name: \"clippingCylinderMaxHeightMin\",\n    initialValue: -1.0,\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMaxHeightMin = that._voxelPrimitive.minBounds.z;\n    },\n  });\n  addProperty({\n    name: \"clippingCylinderMaxHeightMax\",\n    initialValue: 1.0,\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMaxHeightMax = that._voxelPrimitive.maxBounds.z;\n    },\n  });\n  addProperty({\n    name: \"clippingCylinderMaxHeight\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"maxClippingBounds\", \"z\"),\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMaxHeight = that._voxelPrimitive.maxClippingBounds.z;\n    },\n  });\n  addProperty({\n    name: \"clippingCylinderMinHeightMin\",\n    initialValue: -1.0,\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMinHeightMin = that._voxelPrimitive.minBounds.z;\n    },\n  });\n  addProperty({\n    name: \"clippingCylinderMinHeightMax\",\n    initialValue: 1.0,\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMinHeightMax = that._voxelPrimitive.maxBounds.z;\n    },\n  });\n  addProperty({\n    name: \"clippingCylinderMinHeight\",\n    initialValue: 0.0,\n    setPrimitiveFunction: getBoundSetter(\"minClippingBounds\", \"z\"),\n    getPrimitiveFunction: function () {\n      that.clippingCylinderMinHeight = that._voxelPrimitive.minClippingBounds.z;\n    },\n  });\n\n  addProperty({\n    name: \"translationX\",\n    initialValue: 0.0,\n    setPrimitiveFunction: function () {\n      if (that._modelMatrixReady) {\n        setModelMatrix(that);\n      }\n    },\n    getPrimitiveFunction: function () {\n      that.translationX = Matrix4.getTranslation(\n        that._voxelPrimitive.modelMatrix,\n        new Cartesian3(),\n      ).x;\n    },\n  });\n  addProperty({\n    name: \"translationY\",\n    initialValue: 0.0,\n    setPrimitiveFunction: function () {\n      if (that._modelMatrixReady) {\n        setModelMatrix(that);\n      }\n    },\n    getPrimitiveFunction: function () {\n      that.translationY = Matrix4.getTranslation(\n        that._voxelPrimitive.modelMatrix,\n        new Cartesian3(),\n      ).y;\n    },\n  });\n  addProperty({\n    name: \"translationZ\",\n    initialValue: 0.0,\n    setPrimitiveFunction: function () {\n      if (that._modelMatrixReady) {\n        setModelMatrix(that);\n      }\n    },\n    getPrimitiveFunction: function () {\n      that.translationZ = Matrix4.getTranslation(\n        that._voxelPrimitive.modelMatrix,\n        new Cartesian3(),\n      ).z;\n    },\n  });\n\n  addProperty({\n    name: \"scaleX\",\n    initialValue: 1.0,\n    setPrimitiveFunction: function () {\n      if (that._modelMatrixReady) {\n        setModelMatrix(that);\n      }\n    },\n    getPrimitiveFunction: function () {\n      that.scaleX = Matrix4.getScale(\n        that._voxelPrimitive.modelMatrix,\n        new Cartesian3(),\n      ).x;\n    },\n  });\n  addProperty({\n    name: \"scaleY\",\n    initialValue: 1.0,\n    setPrimitiveFunction: function () {\n      if (that._modelMatrixReady) {\n        setModelMatrix(that);\n      }\n    },\n    getPrimitiveFunction: function () {\n      that.scaleY = Matrix4.getScale(\n        that._voxelPrimitive.modelMatrix,\n        new Cartesian3(),\n      ).y;\n    },\n  });\n  addProperty({\n    name: \"scaleZ\",\n    initialValue: 1.0,\n    setPrimitiveFunction: function () {\n      if (that._modelMatrixReady) {\n        setModelMatrix(that);\n      }\n    },\n    getPrimitiveFunction: function () {\n      that.scaleZ = Matrix4.getScale(\n        that._voxelPrimitive.modelMatrix,\n        new Cartesian3(),\n      ).z;\n    },\n  });\n\n  addProperty({\n    name: \"angleX\",\n    initialValue: 0.0,\n    setPrimitiveFunction: function () {\n      if (that._modelMatrixReady) {\n        setModelMatrix(that);\n      }\n    },\n  });\n\n  addProperty({\n    name: \"angleY\",\n    initialValue: 0.0,\n    setPrimitiveFunction: function () {\n      if (that._modelMatrixReady) {\n        setModelMatrix(that);\n      }\n    },\n  });\n\n  addProperty({\n    name: \"angleZ\",\n    initialValue: 0.0,\n    setPrimitiveFunction: function () {\n      if (that._modelMatrixReady) {\n        setModelMatrix(that);\n      }\n    },\n  });\n}\n\nconst scratchTranslation = new Cartesian3();\nconst scratchScale = new Cartesian3();\nconst scratchHeadingPitchRoll = new HeadingPitchRoll();\nconst scratchRotation = new Matrix3();\n\nfunction setModelMatrix(viewModel) {\n  const translation = Cartesian3.fromElements(\n    viewModel.translationX,\n    viewModel.translationY,\n    viewModel.translationZ,\n    scratchTranslation,\n  );\n  const scale = Cartesian3.fromElements(\n    viewModel.scaleX,\n    viewModel.scaleY,\n    viewModel.scaleZ,\n    scratchScale,\n  );\n  const hpr = scratchHeadingPitchRoll;\n  hpr.heading = viewModel.angleX;\n  hpr.pitch = viewModel.angleY;\n  hpr.roll = viewModel.angleZ;\n  const rotation = Matrix3.fromHeadingPitchRoll(hpr, scratchRotation);\n  const rotationScale = Matrix3.multiplyByScale(rotation, scale, rotation);\n  viewModel._voxelPrimitive.modelMatrix = Matrix4.fromRotationTranslation(\n    rotationScale,\n    translation,\n    viewModel._voxelPrimitive.modelMatrix,\n  );\n}\n\nObject.defineProperties(VoxelInspectorViewModel.prototype, {\n  /**\n   * Gets the scene\n   * @memberof VoxelInspectorViewModel.prototype\n   * @type {Scene}\n   * @readonly\n   */\n  scene: {\n    get: function () {\n      return this._scene;\n    },\n  },\n\n  /**\n   * Gets or sets the primitive of the view model.\n   * @memberof VoxelInspectorViewModel.prototype\n   * @type {VoxelPrimitive}\n   */\n  voxelPrimitive: {\n    get: function () {\n      return this._voxelPrimitive;\n    },\n    set: function (voxelPrimitive) {\n      if (defined(this._customShaderCompilationRemoveCallback)) {\n        this._customShaderCompilationRemoveCallback();\n      }\n\n      // Update properties from the new primitive\n      if (!defined(voxelPrimitive)) {\n        return;\n      }\n      this._voxelPrimitive = voxelPrimitive;\n\n      const that = this;\n      that._customShaderCompilationRemoveCallback =\n        that._voxelPrimitive.customShaderCompilationEvent.addEventListener(\n          function (error) {\n            const shaderString =\n              that._voxelPrimitive.customShader.fragmentShaderText;\n            that.shaderString = formatShaderString(shaderString);\n\n            if (!defined(error)) {\n              that.shaderCompilationMessage = \"Shader compiled successfully!\";\n              that.shaderCompilationSuccess = true;\n            } else {\n              that.shaderCompilationMessage = error.message;\n              that.shaderCompilationSuccess = false;\n            }\n          },\n        );\n      that._modelMatrixReady = false;\n      for (let i = 0; i < that._getPrimitiveFunctions.length; i++) {\n        that._getPrimitiveFunctions[i]();\n      }\n      that._modelMatrixReady = true;\n      setModelMatrix(that);\n    },\n  },\n});\n\n/**\n * Toggles the inspector visibility\n */\nVoxelInspectorViewModel.prototype.toggleInspector = function () {\n  this.inspectorVisible = !this.inspectorVisible;\n};\n\n/**\n * Toggles the visibility of the display section\n */\nVoxelInspectorViewModel.prototype.toggleDisplay = function () {\n  this.displayVisible = !this.displayVisible;\n};\n\n/**\n * Toggles the visibility of the transform section\n */\nVoxelInspectorViewModel.prototype.toggleTransform = function () {\n  this.transformVisible = !this.transformVisible;\n};\n\n/**\n * Toggles the visibility of the bounds section\n */\nVoxelInspectorViewModel.prototype.toggleBounds = function () {\n  this.boundsVisible = !this.boundsVisible;\n};\n\n/**\n * Toggles the visibility of the clipping section\n */\nVoxelInspectorViewModel.prototype.toggleClipping = function () {\n  this.clippingVisible = !this.clippingVisible;\n};\n\n/**\n * Toggles the visibility of the shader section\n */\nVoxelInspectorViewModel.prototype.toggleShader = function () {\n  this.shaderVisible = !this.shaderVisible;\n};\n\n/**\n * Compiles the shader in the shader editor.\n */\nVoxelInspectorViewModel.prototype.compileShader = function () {\n  if (defined(this._voxelPrimitive)) {\n    // It's assumed that the same uniforms are going to be used regardless of edits.\n    this._voxelPrimitive.customShader = new CustomShader({\n      fragmentShaderText: this.shaderString,\n      uniforms: this._voxelPrimitive.customShader.uniforms,\n    });\n  }\n};\n\n/**\n * Handles key press events on the shader editor.\n */\nVoxelInspectorViewModel.prototype.shaderEditorKeyPress = function (\n  sender,\n  event,\n) {\n  if (event.keyCode === 9) {\n    //tab\n    event.preventDefault();\n    const textArea = event.target;\n    const start = textArea.selectionStart;\n    const end = textArea.selectionEnd;\n    let newEnd = end;\n    const selected = textArea.value.slice(start, end);\n    const lines = selected.split(\"\\n\");\n    const length = lines.length;\n    let i;\n    if (!event.shiftKey) {\n      for (i = 0; i < length; ++i) {\n        lines[i] = `  ${lines[i]}`;\n        newEnd += 2;\n      }\n    } else {\n      for (i = 0; i < length; ++i) {\n        if (lines[i][0] === \" \") {\n          if (lines[i][1] === \" \") {\n            lines[i] = lines[i].substr(2);\n            newEnd -= 2;\n          } else {\n            lines[i] = lines[i].substr(1);\n            newEnd -= 1;\n          }\n        }\n      }\n    }\n    const newText = lines.join(\"\\n\");\n    textArea.value =\n      textArea.value.slice(0, start) + newText + textArea.value.slice(end);\n    textArea.selectionStart = start !== end ? start : newEnd;\n    textArea.selectionEnd = newEnd;\n  } else if (event.ctrlKey && (event.keyCode === 10 || event.keyCode === 13)) {\n    //ctrl + enter\n    this.compileShader();\n  }\n  return true;\n};\n\n/**\n * @returns {boolean} true if the object has been destroyed, false otherwise.\n */\nVoxelInspectorViewModel.prototype.isDestroyed = function () {\n  return false;\n};\n\n/**\n * Destroys the widget.  Should be called if permanently\n * removing the widget from layout.\n */\nVoxelInspectorViewModel.prototype.destroy = function () {\n  const that = this;\n  this._definedProperties.forEach(function (property) {\n    knockout.getObservable(that, property).dispose();\n  });\n\n  return destroyObject(this);\n};\n\nexport default VoxelInspectorViewModel;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}