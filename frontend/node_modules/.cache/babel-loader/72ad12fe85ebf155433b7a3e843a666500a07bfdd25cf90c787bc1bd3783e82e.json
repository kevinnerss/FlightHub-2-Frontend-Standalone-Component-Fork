{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.every.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport Cesium3DTileset from \"./Cesium3DTileset.js\";\nimport defined from \"../Core/defined.js\";\nimport Resource from \"../Core/Resource.js\";\nimport ITwinPlatform from \"../Core/ITwinPlatform.js\";\nimport RuntimeError from \"../Core/RuntimeError.js\";\nimport Check from \"../Core/Check.js\";\nimport KmlDataSource from \"../DataSources/KmlDataSource.js\";\nimport GeoJsonDataSource from \"../DataSources/GeoJsonDataSource.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\n\n/**\n * Methods for loading iTwin platform data into CesiumJS\n *\n * @experimental This feature is not final and is subject to change without Cesium's standard deprecation policy.\n *\n * @see ITwinPlatform\n * @namespace ITwinData\n */\nconst ITwinData = {};\n\n/**\n * Create a {@link Cesium3DTileset} for the given iModel id using iTwin's Mesh Export API.\n *\n * If there is not a completed export available for the given iModel id, the returned promise will resolve to <code>undefined</code>.\n * We recommend waiting 10-20 seconds and trying to load the tileset again.\n * If all exports are Invalid this will throw an error.\n *\n * See the {@link https://developer.bentley.com/apis/mesh-export/overview/|iTwin Platform Mesh Export API documentation} for more information on request parameters\n *\n * @example\n * const tileset = await Cesium.ITwinData.createTilesetFromIModelId({ iModelId });\n * if (Cesium.defined(tileset)) {\n *   viewer.scene.primitives.add(tileset);\n * }\n *\n * @experimental This feature is not final and is subject to change without Cesium's standard deprecation policy.\n *\n * @param {Object} options\n * @param {string} options.iModelId The id of the iModel to load\n * @param {Cesium3DTileset.ConstructorOptions} [options.tilesetOptions] Object containing options to pass to the internally created {@link Cesium3DTileset}.\n * @param {string} [options.changesetId] The id of the changeset to load, if not provided the latest changesets will be used\n * @returns {Promise<Cesium3DTileset | undefined>} A promise that will resolve to the created 3D tileset or <code>undefined</code> if there is no completed export for the given iModel id\n *\n * @throws {RuntimeError} If all exports for the given iModel are Invalid\n * @throws {RuntimeError} If the iTwin API request is not successful\n */\nITwinData.createTilesetFromIModelId = async function ({\n  iModelId,\n  changesetId,\n  tilesetOptions\n}) {\n  const {\n    exports\n  } = await ITwinPlatform.getExports(iModelId, changesetId);\n  if (exports.length > 0 && exports.every(exportObj => {\n    return exportObj.status === ITwinPlatform.ExportStatus.Invalid;\n  })) {\n    throw new RuntimeError(`All exports for this iModel are Invalid: ${iModelId}`);\n  }\n  const completeExport = exports.find(exportObj => {\n    return exportObj.status === ITwinPlatform.ExportStatus.Complete;\n  });\n  if (!defined(completeExport)) {\n    return;\n  }\n\n  // Convert the link to the tileset url while preserving the search paramaters\n  // This link is only valid 1 hour\n  const baseUrl = new URL(completeExport._links.mesh.href);\n  baseUrl.pathname = `${baseUrl.pathname}/tileset.json`;\n  const tilesetUrl = baseUrl.toString();\n  const resource = new Resource({\n    url: tilesetUrl\n  });\n  return Cesium3DTileset.fromUrl(resource, tilesetOptions);\n};\n\n/**\n * Create a tileset for the specified reality data id. This function only works\n * with 3D Tiles meshes and point clouds.\n *\n * If the <code>type</code> or <code>rootDocument</code> are not provided this function\n * will first request the full metadata for the specified reality data to fill these values.\n *\n * The <code>maximumScreenSpaceError</code> of the resulting tileset will default to 4,\n * unless it is explicitly overridden with the given tileset options.\n *\n * @experimental This feature is not final and is subject to change without Cesium's standard deprecation policy.\n *\n * @param {Object} options\n * @param {string} options.iTwinId The id of the iTwin to load data from\n * @param {string} options.realityDataId The id of the reality data to load\n * @param {ITwinPlatform.RealityDataType} [options.type] The type of this reality data\n * @param {string} [options.rootDocument] The path of the root document for this reality data\n * @param {Cesium3DTileset.ConstructorOptions} [options.tilesetOptions] Object containing\n * options to pass to the internally created {@link Cesium3DTileset}.\n * @returns {Promise<Cesium3DTileset>}\n *\n * @throws {RuntimeError} if the type of reality data is not supported by this function\n */\nITwinData.createTilesetForRealityDataId = async function ({\n  iTwinId,\n  realityDataId,\n  type,\n  rootDocument,\n  tilesetOptions\n}) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.string(\"iTwinId\", iTwinId);\n  Check.typeOf.string(\"realityDataId\", realityDataId);\n  if (defined(type)) {\n    Check.typeOf.string(\"type\", type);\n  }\n  if (defined(rootDocument)) {\n    Check.typeOf.string(\"rootDocument\", rootDocument);\n  }\n  //>>includeEnd('debug');\n\n  if (!defined(type) || !defined(rootDocument)) {\n    const metadata = await ITwinPlatform.getRealityDataMetadata(iTwinId, realityDataId);\n    rootDocument = metadata.rootDocument;\n    type = metadata.type;\n  }\n  const supportedRealityDataTypes = [ITwinPlatform.RealityDataType.Cesium3DTiles, ITwinPlatform.RealityDataType.PNTS, ITwinPlatform.RealityDataType.RealityMesh3DTiles, ITwinPlatform.RealityDataType.Terrain3DTiles];\n  if (!supportedRealityDataTypes.includes(type)) {\n    throw new RuntimeError(`Reality data type is not a mesh type: ${type}`);\n  }\n  const tilesetAccessUrl = await ITwinPlatform.getRealityDataURL(iTwinId, realityDataId, rootDocument);\n\n  // The maximum screen space error was defined to default to 4 for\n  // reality data tilesets, because they did not show the expected\n  // amount of detail with the default value of 16. Values that are\n  // given in the tilesetOptions should still override that default.\n  const internalTilesetOptions = {\n    maximumScreenSpaceError: 4,\n    ...tilesetOptions\n  };\n  return Cesium3DTileset.fromUrl(tilesetAccessUrl, internalTilesetOptions);\n};\n\n/**\n * Create a data source of the correct type for the specified reality data id.\n * This function only works for KML and GeoJSON type data.\n *\n * If the <code>type</code> or <code>rootDocument</code> are not provided this function\n * will first request the full metadata for the specified reality data to fill these values.\n *\n * @param {Object} options\n * @param {string} options.iTwinId The id of the iTwin to load data from\n * @param {string} options.realityDataId The id of the reality data to load\n * @param {ITwinPlatform.RealityDataType} [options.type] The type of this reality data\n * @param {string} [options.rootDocument] The path of the root document for this reality data\n * @returns {Promise<GeoJsonDataSource | KmlDataSource>}\n *\n * @throws {RuntimeError} if the type of reality data is not supported by this function\n */\nITwinData.createDataSourceForRealityDataId = async function ({\n  iTwinId,\n  realityDataId,\n  type,\n  rootDocument\n}) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.string(\"iTwinId\", iTwinId);\n  Check.typeOf.string(\"realityDataId\", realityDataId);\n  if (defined(type)) {\n    Check.typeOf.string(\"type\", type);\n  }\n  if (defined(rootDocument)) {\n    Check.typeOf.string(\"rootDocument\", rootDocument);\n  }\n  //>>includeEnd('debug');\n\n  if (!defined(type) || !defined(rootDocument)) {\n    const metadata = await ITwinPlatform.getRealityDataMetadata(iTwinId, realityDataId);\n    rootDocument = metadata.rootDocument;\n    type = metadata.type;\n  }\n  const supportedRealityDataTypes = [ITwinPlatform.RealityDataType.KML, ITwinPlatform.RealityDataType.GeoJSON];\n  if (!supportedRealityDataTypes.includes(type)) {\n    throw new RuntimeError(`Reality data type is not a data source type: ${type}`);\n  }\n  const tilesetAccessUrl = await ITwinPlatform.getRealityDataURL(iTwinId, realityDataId, rootDocument);\n  if (type === ITwinPlatform.RealityDataType.GeoJSON) {\n    return GeoJsonDataSource.load(tilesetAccessUrl);\n  }\n\n  // If we get here it's guaranteed to be a KML type\n  return KmlDataSource.load(tilesetAccessUrl);\n};\n\n/**\n * Load data from the Geospatial Features API as GeoJSON.\n *\n * @param {Object} options\n * @param {string} options.iTwinId The id of the iTwin to load data from\n * @param {string} options.collectionId The id of the data collection to load\n * @param {number} [options.limit=10000] number of items per page, must be between 1 and 10,000 inclusive\n * @returns {Promise<GeoJsonDataSource>}\n */\nITwinData.loadGeospatialFeatures = async function ({\n  iTwinId,\n  collectionId,\n  limit\n}) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.string(\"iTwinId\", iTwinId);\n  Check.typeOf.string(\"collectionId\", collectionId);\n  if (defined(limit)) {\n    Check.typeOf.number(\"limit\", limit);\n    Check.typeOf.number.lessThanOrEquals(\"limit\", limit, 10000);\n    Check.typeOf.number.greaterThanOrEquals(\"limit\", limit, 1);\n  }\n  if (!defined(ITwinPlatform.defaultAccessToken) && !defined(ITwinPlatform.defaultShareKey)) {\n    throw new DeveloperError(\"Must set ITwinPlatform.defaultAccessToken or ITwinPlatform.defaultShareKey first\");\n  }\n  //>>includeEnd('debug');\n\n  const pageLimit = limit ?? 10000;\n  const tilesetUrl = `${ITwinPlatform.apiEndpoint}geospatial-features/itwins/${iTwinId}/ogc/collections/${collectionId}/items`;\n  const resource = new Resource({\n    url: tilesetUrl,\n    headers: {\n      Authorization: ITwinPlatform._getAuthorizationHeader(),\n      Accept: \"application/vnd.bentley.itwin-platform.v1+json\"\n    },\n    queryParameters: {\n      limit: pageLimit,\n      client: \"CesiumJS\"\n    }\n  });\n  return GeoJsonDataSource.load(resource);\n};\nexport default ITwinData;","map":{"version":3,"names":["Cesium3DTileset","defined","Resource","ITwinPlatform","RuntimeError","Check","KmlDataSource","GeoJsonDataSource","DeveloperError","ITwinData","createTilesetFromIModelId","iModelId","changesetId","tilesetOptions","exports","getExports","length","every","exportObj","status","ExportStatus","Invalid","completeExport","find","Complete","baseUrl","URL","_links","mesh","href","pathname","tilesetUrl","toString","resource","url","fromUrl","createTilesetForRealityDataId","iTwinId","realityDataId","type","rootDocument","typeOf","string","metadata","getRealityDataMetadata","supportedRealityDataTypes","RealityDataType","Cesium3DTiles","PNTS","RealityMesh3DTiles","Terrain3DTiles","includes","tilesetAccessUrl","getRealityDataURL","internalTilesetOptions","maximumScreenSpaceError","createDataSourceForRealityDataId","KML","GeoJSON","load","loadGeospatialFeatures","collectionId","limit","number","lessThanOrEquals","greaterThanOrEquals","defaultAccessToken","defaultShareKey","pageLimit","apiEndpoint","headers","Authorization","_getAuthorizationHeader","Accept","queryParameters","client"],"sources":["D:/projects/FlightHub-2-Frontend-Standalone-Component/frontend/node_modules/@cesium/engine/Source/Scene/ITwinData.js"],"sourcesContent":["import Cesium3DTileset from \"./Cesium3DTileset.js\";\nimport defined from \"../Core/defined.js\";\nimport Resource from \"../Core/Resource.js\";\nimport ITwinPlatform from \"../Core/ITwinPlatform.js\";\nimport RuntimeError from \"../Core/RuntimeError.js\";\nimport Check from \"../Core/Check.js\";\nimport KmlDataSource from \"../DataSources/KmlDataSource.js\";\nimport GeoJsonDataSource from \"../DataSources/GeoJsonDataSource.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\n\n/**\n * Methods for loading iTwin platform data into CesiumJS\n *\n * @experimental This feature is not final and is subject to change without Cesium's standard deprecation policy.\n *\n * @see ITwinPlatform\n * @namespace ITwinData\n */\nconst ITwinData = {};\n\n/**\n * Create a {@link Cesium3DTileset} for the given iModel id using iTwin's Mesh Export API.\n *\n * If there is not a completed export available for the given iModel id, the returned promise will resolve to <code>undefined</code>.\n * We recommend waiting 10-20 seconds and trying to load the tileset again.\n * If all exports are Invalid this will throw an error.\n *\n * See the {@link https://developer.bentley.com/apis/mesh-export/overview/|iTwin Platform Mesh Export API documentation} for more information on request parameters\n *\n * @example\n * const tileset = await Cesium.ITwinData.createTilesetFromIModelId({ iModelId });\n * if (Cesium.defined(tileset)) {\n *   viewer.scene.primitives.add(tileset);\n * }\n *\n * @experimental This feature is not final and is subject to change without Cesium's standard deprecation policy.\n *\n * @param {Object} options\n * @param {string} options.iModelId The id of the iModel to load\n * @param {Cesium3DTileset.ConstructorOptions} [options.tilesetOptions] Object containing options to pass to the internally created {@link Cesium3DTileset}.\n * @param {string} [options.changesetId] The id of the changeset to load, if not provided the latest changesets will be used\n * @returns {Promise<Cesium3DTileset | undefined>} A promise that will resolve to the created 3D tileset or <code>undefined</code> if there is no completed export for the given iModel id\n *\n * @throws {RuntimeError} If all exports for the given iModel are Invalid\n * @throws {RuntimeError} If the iTwin API request is not successful\n */\nITwinData.createTilesetFromIModelId = async function ({\n  iModelId,\n  changesetId,\n  tilesetOptions,\n}) {\n  const { exports } = await ITwinPlatform.getExports(iModelId, changesetId);\n\n  if (\n    exports.length > 0 &&\n    exports.every((exportObj) => {\n      return exportObj.status === ITwinPlatform.ExportStatus.Invalid;\n    })\n  ) {\n    throw new RuntimeError(\n      `All exports for this iModel are Invalid: ${iModelId}`,\n    );\n  }\n\n  const completeExport = exports.find((exportObj) => {\n    return exportObj.status === ITwinPlatform.ExportStatus.Complete;\n  });\n\n  if (!defined(completeExport)) {\n    return;\n  }\n\n  // Convert the link to the tileset url while preserving the search paramaters\n  // This link is only valid 1 hour\n  const baseUrl = new URL(completeExport._links.mesh.href);\n  baseUrl.pathname = `${baseUrl.pathname}/tileset.json`;\n  const tilesetUrl = baseUrl.toString();\n\n  const resource = new Resource({\n    url: tilesetUrl,\n  });\n\n  return Cesium3DTileset.fromUrl(resource, tilesetOptions);\n};\n\n/**\n * Create a tileset for the specified reality data id. This function only works\n * with 3D Tiles meshes and point clouds.\n *\n * If the <code>type</code> or <code>rootDocument</code> are not provided this function\n * will first request the full metadata for the specified reality data to fill these values.\n *\n * The <code>maximumScreenSpaceError</code> of the resulting tileset will default to 4,\n * unless it is explicitly overridden with the given tileset options.\n *\n * @experimental This feature is not final and is subject to change without Cesium's standard deprecation policy.\n *\n * @param {Object} options\n * @param {string} options.iTwinId The id of the iTwin to load data from\n * @param {string} options.realityDataId The id of the reality data to load\n * @param {ITwinPlatform.RealityDataType} [options.type] The type of this reality data\n * @param {string} [options.rootDocument] The path of the root document for this reality data\n * @param {Cesium3DTileset.ConstructorOptions} [options.tilesetOptions] Object containing\n * options to pass to the internally created {@link Cesium3DTileset}.\n * @returns {Promise<Cesium3DTileset>}\n *\n * @throws {RuntimeError} if the type of reality data is not supported by this function\n */\nITwinData.createTilesetForRealityDataId = async function ({\n  iTwinId,\n  realityDataId,\n  type,\n  rootDocument,\n  tilesetOptions,\n}) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.string(\"iTwinId\", iTwinId);\n  Check.typeOf.string(\"realityDataId\", realityDataId);\n  if (defined(type)) {\n    Check.typeOf.string(\"type\", type);\n  }\n  if (defined(rootDocument)) {\n    Check.typeOf.string(\"rootDocument\", rootDocument);\n  }\n  //>>includeEnd('debug');\n\n  if (!defined(type) || !defined(rootDocument)) {\n    const metadata = await ITwinPlatform.getRealityDataMetadata(\n      iTwinId,\n      realityDataId,\n    );\n    rootDocument = metadata.rootDocument;\n    type = metadata.type;\n  }\n\n  const supportedRealityDataTypes = [\n    ITwinPlatform.RealityDataType.Cesium3DTiles,\n    ITwinPlatform.RealityDataType.PNTS,\n    ITwinPlatform.RealityDataType.RealityMesh3DTiles,\n    ITwinPlatform.RealityDataType.Terrain3DTiles,\n  ];\n\n  if (!supportedRealityDataTypes.includes(type)) {\n    throw new RuntimeError(`Reality data type is not a mesh type: ${type}`);\n  }\n\n  const tilesetAccessUrl = await ITwinPlatform.getRealityDataURL(\n    iTwinId,\n    realityDataId,\n    rootDocument,\n  );\n\n  // The maximum screen space error was defined to default to 4 for\n  // reality data tilesets, because they did not show the expected\n  // amount of detail with the default value of 16. Values that are\n  // given in the tilesetOptions should still override that default.\n  const internalTilesetOptions = {\n    maximumScreenSpaceError: 4,\n    ...tilesetOptions,\n  };\n\n  return Cesium3DTileset.fromUrl(tilesetAccessUrl, internalTilesetOptions);\n};\n\n/**\n * Create a data source of the correct type for the specified reality data id.\n * This function only works for KML and GeoJSON type data.\n *\n * If the <code>type</code> or <code>rootDocument</code> are not provided this function\n * will first request the full metadata for the specified reality data to fill these values.\n *\n * @param {Object} options\n * @param {string} options.iTwinId The id of the iTwin to load data from\n * @param {string} options.realityDataId The id of the reality data to load\n * @param {ITwinPlatform.RealityDataType} [options.type] The type of this reality data\n * @param {string} [options.rootDocument] The path of the root document for this reality data\n * @returns {Promise<GeoJsonDataSource | KmlDataSource>}\n *\n * @throws {RuntimeError} if the type of reality data is not supported by this function\n */\nITwinData.createDataSourceForRealityDataId = async function ({\n  iTwinId,\n  realityDataId,\n  type,\n  rootDocument,\n}) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.string(\"iTwinId\", iTwinId);\n  Check.typeOf.string(\"realityDataId\", realityDataId);\n  if (defined(type)) {\n    Check.typeOf.string(\"type\", type);\n  }\n  if (defined(rootDocument)) {\n    Check.typeOf.string(\"rootDocument\", rootDocument);\n  }\n  //>>includeEnd('debug');\n\n  if (!defined(type) || !defined(rootDocument)) {\n    const metadata = await ITwinPlatform.getRealityDataMetadata(\n      iTwinId,\n      realityDataId,\n    );\n    rootDocument = metadata.rootDocument;\n    type = metadata.type;\n  }\n\n  const supportedRealityDataTypes = [\n    ITwinPlatform.RealityDataType.KML,\n    ITwinPlatform.RealityDataType.GeoJSON,\n  ];\n\n  if (!supportedRealityDataTypes.includes(type)) {\n    throw new RuntimeError(\n      `Reality data type is not a data source type: ${type}`,\n    );\n  }\n\n  const tilesetAccessUrl = await ITwinPlatform.getRealityDataURL(\n    iTwinId,\n    realityDataId,\n    rootDocument,\n  );\n\n  if (type === ITwinPlatform.RealityDataType.GeoJSON) {\n    return GeoJsonDataSource.load(tilesetAccessUrl);\n  }\n\n  // If we get here it's guaranteed to be a KML type\n  return KmlDataSource.load(tilesetAccessUrl);\n};\n\n/**\n * Load data from the Geospatial Features API as GeoJSON.\n *\n * @param {Object} options\n * @param {string} options.iTwinId The id of the iTwin to load data from\n * @param {string} options.collectionId The id of the data collection to load\n * @param {number} [options.limit=10000] number of items per page, must be between 1 and 10,000 inclusive\n * @returns {Promise<GeoJsonDataSource>}\n */\nITwinData.loadGeospatialFeatures = async function ({\n  iTwinId,\n  collectionId,\n  limit,\n}) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.string(\"iTwinId\", iTwinId);\n  Check.typeOf.string(\"collectionId\", collectionId);\n  if (defined(limit)) {\n    Check.typeOf.number(\"limit\", limit);\n    Check.typeOf.number.lessThanOrEquals(\"limit\", limit, 10000);\n    Check.typeOf.number.greaterThanOrEquals(\"limit\", limit, 1);\n  }\n  if (\n    !defined(ITwinPlatform.defaultAccessToken) &&\n    !defined(ITwinPlatform.defaultShareKey)\n  ) {\n    throw new DeveloperError(\n      \"Must set ITwinPlatform.defaultAccessToken or ITwinPlatform.defaultShareKey first\",\n    );\n  }\n  //>>includeEnd('debug');\n\n  const pageLimit = limit ?? 10000;\n\n  const tilesetUrl = `${ITwinPlatform.apiEndpoint}geospatial-features/itwins/${iTwinId}/ogc/collections/${collectionId}/items`;\n\n  const resource = new Resource({\n    url: tilesetUrl,\n    headers: {\n      Authorization: ITwinPlatform._getAuthorizationHeader(),\n      Accept: \"application/vnd.bentley.itwin-platform.v1+json\",\n    },\n    queryParameters: {\n      limit: pageLimit,\n      client: \"CesiumJS\",\n    },\n  });\n\n  return GeoJsonDataSource.load(resource);\n};\n\nexport default ITwinData;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}