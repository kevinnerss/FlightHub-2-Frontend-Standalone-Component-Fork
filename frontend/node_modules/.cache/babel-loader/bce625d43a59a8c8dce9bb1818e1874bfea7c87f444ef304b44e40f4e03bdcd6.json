{"ast":null,"code":"import axios from 'axios';\n\n// 创建axios实例\nconst api = axios.create({\n  baseURL: '/api/v1',\n  timeout: 10000,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// 请求拦截器\napi.interceptors.request.use(config => {\n  // 可以在这里添加token等认证信息\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n// 响应拦截器\napi.interceptors.response.use(response => {\n  return response.data;\n}, error => {\n  console.error('API请求错误:', error);\n  return Promise.reject(error);\n});\n\n// 告警信息API服务\nexport default {\n  // 获取告警列表\n  async getAlarms(params = {}) {\n    try {\n      const response = await api.get('/alarms/', {\n        params\n      });\n      return response;\n    } catch (error) {\n      console.error('获取告警列表失败:', error);\n      throw error;\n    }\n  },\n  // 获取航线列表\n  async getWaylines(params = {}) {\n    try {\n      const response = await api.get('/waylines/', {\n        params\n      });\n      return response;\n    } catch (error) {\n      console.error('获取航线列表失败:', error);\n      throw error;\n    }\n  },\n  // 获取单个告警详情\n  async getAlarmDetail(alarmId) {\n    try {\n      const response = await api.get(`/alarms/${alarmId}/`);\n      return response;\n    } catch (error) {\n      console.error('获取告警详情失败:', error);\n      throw error;\n    }\n  },\n  // 创建新告警\n  async createAlarm(alarmData) {\n    try {\n      const response = await api.post('/alarms/', alarmData);\n      return response;\n    } catch (error) {\n      console.error('创建告警失败:', error);\n      throw error;\n    }\n  },\n  // 更新告警\n  async updateAlarm(alarmId, alarmData) {\n    try {\n      const response = await api.put(`/alarms/${alarmId}/`, alarmData);\n      return response;\n    } catch (error) {\n      console.error('更新告警失败:', error);\n      throw error;\n    }\n  },\n  // 部分更新告警（如状态）\n  async patchAlarm(alarmId, alarmData) {\n    try {\n      const response = await api.patch(`/alarms/${alarmId}/`, alarmData);\n      return response;\n    } catch (error) {\n      console.error('部分更新告警失败:', error);\n      throw error;\n    }\n  },\n  // 删除告警\n  async deleteAlarm(alarmId) {\n    try {\n      const response = await api.delete(`/alarms/${alarmId}/`);\n      return response;\n    } catch (error) {\n      console.error('删除告警失败:', error);\n      throw error;\n    }\n  },\n  // 获取告警类型列表\n  async getAlarmCategories() {\n    try {\n      const response = await api.get('/alarm-categories/');\n      return response;\n    } catch (error) {\n      console.error('获取告警类型列表失败:', error);\n      throw error;\n    }\n  }\n};","map":{"version":3,"names":["axios","api","create","baseURL","timeout","headers","interceptors","request","use","config","error","Promise","reject","response","data","console","getAlarms","params","get","getWaylines","getAlarmDetail","alarmId","createAlarm","alarmData","post","updateAlarm","put","patchAlarm","patch","deleteAlarm","delete","getAlarmCategories"],"sources":["D:/projects/FlightHub-2-Frontend-Standalone-Component/frontend/src/api/alarmApi.js"],"sourcesContent":["import axios from 'axios'\r\n\r\n// 创建axios实例\r\nconst api = axios.create({\r\n  baseURL: '/api/v1',\r\n  timeout: 10000,\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n})\r\n\r\n// 请求拦截器\r\napi.interceptors.request.use(\r\n  config => {\r\n    // 可以在这里添加token等认证信息\r\n    return config\r\n  },\r\n  error => {\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// 响应拦截器\r\napi.interceptors.response.use(\r\n  response => {\r\n    return response.data\r\n  },\r\n  error => {\r\n    console.error('API请求错误:', error)\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// 告警信息API服务\r\nexport default {\r\n  // 获取告警列表\r\n  async getAlarms(params = {}) {\r\n    try {\r\n      const response = await api.get('/alarms/', { params })\r\n      return response\r\n    } catch (error) {\r\n      console.error('获取告警列表失败:', error)\r\n      throw error\r\n    }\r\n  },\r\n  \r\n  // 获取航线列表\r\n  async getWaylines(params = {}) {\r\n    try {\r\n      const response = await api.get('/waylines/', { params })\r\n      return response\r\n    } catch (error) {\r\n      console.error('获取航线列表失败:', error)\r\n      throw error\r\n    }\r\n  },\r\n  \r\n  // 获取单个告警详情\r\n  async getAlarmDetail(alarmId) {\r\n    try {\r\n      const response = await api.get(`/alarms/${alarmId}/`)\r\n      return response\r\n    } catch (error) {\r\n      console.error('获取告警详情失败:', error)\r\n      throw error\r\n    }\r\n  },\r\n  \r\n  // 创建新告警\r\n  async createAlarm(alarmData) {\r\n    try {\r\n      const response = await api.post('/alarms/', alarmData)\r\n      return response\r\n    } catch (error) {\r\n      console.error('创建告警失败:', error)\r\n      throw error\r\n    }\r\n  },\r\n  \r\n  // 更新告警\r\n  async updateAlarm(alarmId, alarmData) {\r\n    try {\r\n      const response = await api.put(`/alarms/${alarmId}/`, alarmData)\r\n      return response\r\n    } catch (error) {\r\n      console.error('更新告警失败:', error)\r\n      throw error\r\n    }\r\n  },\r\n  \r\n  // 部分更新告警（如状态）\r\n  async patchAlarm(alarmId, alarmData) {\r\n    try {\r\n      const response = await api.patch(`/alarms/${alarmId}/`, alarmData)\r\n      return response\r\n    } catch (error) {\r\n      console.error('部分更新告警失败:', error)\r\n      throw error\r\n    }\r\n  },\r\n  \r\n  // 删除告警\r\n  async deleteAlarm(alarmId) {\r\n    try {\r\n      const response = await api.delete(`/alarms/${alarmId}/`)\r\n      return response\r\n    } catch (error) {\r\n      console.error('删除告警失败:', error)\r\n      throw error\r\n    }\r\n  },\r\n  \r\n  // 获取告警类型列表\r\n  async getAlarmCategories() {\r\n    try {\r\n      const response = await api.get('/alarm-categories/')\r\n      return response\r\n    } catch (error) {\r\n      console.error('获取告警类型列表失败:', error)\r\n      throw error\r\n    }\r\n  }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}