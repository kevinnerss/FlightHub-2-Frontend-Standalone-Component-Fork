{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, toDisplayString as _toDisplayString, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex justify-between items-center\"\n};\nconst _hoisted_2 = {\n  class: \"flex items-center\"\n};\nconst _hoisted_3 = {\n  class: \"flex items-center space-x-2\"\n};\nconst _hoisted_4 = {\n  class: \"flex items-center\"\n};\nconst _hoisted_5 = {\n  class: \"relative\"\n};\nconst _hoisted_6 = {\n  class: \"aspect-video bg-gray-900 relative overflow-hidden\"\n};\nconst _hoisted_7 = [\"src\"];\nconst _hoisted_8 = {\n  key: 2,\n  class: \"w-full h-full flex flex-col items-center justify-center\"\n};\nconst _hoisted_9 = {\n  class: \"text-gray-600 text-sm\"\n};\nconst _hoisted_10 = {\n  class: \"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300\"\n};\nconst _hoisted_11 = {\n  class: \"absolute bottom-0 left-0 right-0 p-3 flex flex-col space-y-2\"\n};\nconst _hoisted_12 = {\n  class: \"text-white text-xs text-center mb-1\"\n};\nconst _hoisted_13 = {\n  class: \"p-4\"\n};\nconst _hoisted_14 = {\n  class: \"flex items-center\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_VideoCamera = _resolveComponent(\"VideoCamera\");\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n  const _component_el_badge = _resolveComponent(\"el-badge\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_skeleton = _resolveComponent(\"el-skeleton\");\n  const _component_VideoPause = _resolveComponent(\"VideoPause\");\n  const _component_el_empty = _resolveComponent(\"el-empty\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_HelpFilled = _resolveComponent(\"HelpFilled\");\n  const _component_el_tooltip = _resolveComponent(\"el-tooltip\");\n  const _component_el_col = _resolveComponent(\"el-col\");\n  const _component_el_progress = _resolveComponent(\"el-progress\");\n  const _component_ArrowUp = _resolveComponent(\"ArrowUp\");\n  const _component_el_statistic = _resolveComponent(\"el-statistic\");\n  const _component_Run = _resolveComponent(\"Run\");\n  const _component_el_row = _resolveComponent(\"el-row\");\n  return _openBlock(), _createBlock(_component_el_card, {\n    class: \"h-full\",\n    shadow: \"hover\",\n    \"body-style\": {\n      padding: 0\n    }\n  }, {\n    header: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_el_icon, {\n      class: \"mr-2 text-primary\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_VideoCamera)]),\n      _: 1\n    }), _cache[3] || (_cache[3] = _createElementVNode(\"span\", {\n      class: \"font-medium\"\n    }, \"实时监控\", -1)), $data.isRecording ? (_openBlock(), _createBlock(_component_el_badge, {\n      key: 0,\n      type: \"danger\",\n      class: \"ml-2\",\n      hidden: !$data.isRecording\n    }, {\n      default: _withCtx(() => [...(_cache[2] || (_cache[2] = [_createTextVNode(\" 录制中 \", -1)]))]),\n      _: 1\n    }, 8, [\"hidden\"])) : _createCommentVNode(\"\", true)]), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_tag, {\n      type: $props.isStreaming ? 'success' : 'danger',\n      size: \"small\",\n      effect: \"dark\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"span\", {\n        class: _normalizeClass([\"inline-block w-2 h-2 rounded-full mr-1.5 animate-pulse\", {\n          'bg-green-500': $props.isStreaming,\n          'bg-red-500': !$props.isStreaming\n        }])\n      }, null, 2), _createTextVNode(\" \" + _toDisplayString($props.isStreaming ? '直播中' : '已断开'), 1)])]),\n      _: 1\n    }, 8, [\"type\"]), _createVNode(_component_el_button, {\n      size: \"small\",\n      icon: \"Refresh\",\n      circle: \"\",\n      onClick: $options.handleRefreshStream,\n      loading: $data.isRefreshing,\n      title: \"刷新视频流\"\n    }, null, 8, [\"onClick\", \"loading\"])])])]),\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [$data.isLoadingVideo ? (_openBlock(), _createBlock(_component_el_skeleton, {\n      key: 0,\n      rows: 4,\n      animated: \"\",\n      class: \"w-full h-full absolute inset-0 bg-gray-800\"\n    })) : $options.sanitizedVideoUrl ? (_openBlock(), _createElementBlock(\"img\", {\n      key: 1,\n      src: $options.sanitizedVideoUrl,\n      alt: \"视频流\",\n      class: \"w-full h-full object-cover\",\n      onError: _cache[0] || (_cache[0] = (...args) => $options.handleImageError && $options.handleImageError(...args)),\n      onLoad: _cache[1] || (_cache[1] = (...args) => $options.handleImageLoad && $options.handleImageLoad(...args))\n    }, null, 40, _hoisted_7)) : (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_createVNode(_component_el_empty, {\n      description: \"暂无视频流\",\n      \"image-size\": 64\n    }, {\n      description: _withCtx(() => [_createElementVNode(\"p\", _hoisted_9, _toDisplayString($data.videoErrorMessage || '暂无视频流'), 1)]),\n      image: _withCtx(() => [_createVNode(_component_el_icon, {\n        class: \"text-gray-700 text-4xl\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_VideoPause)]),\n        _: 1\n      })]),\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        type: \"primary\",\n        size: \"small\",\n        onClick: $options.handleRefreshStream,\n        loading: $data.isRefreshing\n      }, {\n        default: _withCtx(() => [...(_cache[4] || (_cache[4] = [_createTextVNode(\" 重试 \", -1)]))]),\n        _: 1\n      }, 8, [\"onClick\", \"loading\"])]),\n      _: 1\n    })])), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, _toDisplayString($options.currentVideoTime), 1), _createVNode(_component_el_card, {\n      class: \"bg-black/50 backdrop-blur-sm rounded-full p-1 flex items-center justify-center space-x-2\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        size: \"small\",\n        type: \"primary\",\n        icon: \"VideoPlay\",\n        circle: \"\",\n        plain: \"\",\n        onClick: $options.togglePlayback,\n        disabled: !$options.sanitizedVideoUrl\n      }, null, 8, [\"onClick\", \"disabled\"]), _createVNode(_component_el_button, {\n        size: \"small\",\n        type: \"primary\",\n        icon: $data.isRecording ? 'VideoPause' : 'VideoCamera',\n        circle: \"\",\n        plain: \"\",\n        onClick: $options.toggleRecording,\n        disabled: !$options.sanitizedVideoUrl\n      }, null, 8, [\"icon\", \"type\", \"onClick\", \"disabled\"]), _createVNode(_component_el_button, {\n        size: \"small\",\n        type: \"primary\",\n        icon: \"ZoomIn\",\n        circle: \"\",\n        plain: \"\",\n        onClick: $options.zoomIn,\n        disabled: !$options.sanitizedVideoUrl\n      }, null, 8, [\"onClick\", \"disabled\"]), _createVNode(_component_el_button, {\n        size: \"small\",\n        type: \"primary\",\n        icon: \"FullScreen\",\n        circle: \"\",\n        plain: \"\",\n        onClick: $options.toggleFullScreen,\n        disabled: !$options.sanitizedVideoUrl\n      }, null, 8, [\"onClick\", \"disabled\"])]),\n      _: 1\n    })])])])]), _createElementVNode(\"div\", _hoisted_13, [_createVNode(_component_el_row, {\n      gutter: 20\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_col, {\n        span: 12\n      }, {\n        default: _withCtx(() => [_cache[5] || (_cache[5] = _createElementVNode(\"div\", {\n          class: \"mb-1 text-xs text-gray-500\"\n        }, \"状态\", -1)), _createElementVNode(\"div\", _hoisted_14, [_createVNode(_component_el_tag, {\n          type: $options.getStatusColor($options.safeDroneStatus),\n          size: \"small\",\n          class: \"mr-2\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString($options.safeDroneStatus), 1)]),\n          _: 1\n        }, 8, [\"type\"]), _createVNode(_component_el_tooltip, {\n          content: $options.getDetailedStatusMessage($options.safeDroneStatus),\n          placement: \"top\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_icon, {\n            class: \"text-gray-400\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_HelpFilled)]),\n            _: 1\n          })]),\n          _: 1\n        }, 8, [\"content\"])])]),\n        _: 1\n      }), _createVNode(_component_el_col, {\n        span: 12\n      }, {\n        default: _withCtx(() => [_cache[7] || (_cache[7] = _createElementVNode(\"div\", {\n          class: \"mb-1 text-xs text-gray-500\"\n        }, \"电池电量\", -1)), _createVNode(_component_el_progress, {\n          percentage: Math.min(100, Math.max(0, $options.safeBatteryLevel)),\n          status: $options.getBatteryStatus($options.safeBatteryLevel),\n          format: () => `${Math.min(100, Math.max(0, $options.safeBatteryLevel))}%`,\n          \"stroke-width\": 8,\n          color: $options.getBatteryColor($options.safeBatteryLevel),\n          size: \"small\"\n        }, null, 8, [\"percentage\", \"status\", \"format\", \"color\"]), $options.safeBatteryLevel < 30 ? (_openBlock(), _createBlock(_component_el_tooltip, {\n          key: 0,\n          content: \"电池电量低，请及时返航充电\",\n          placement: \"top\",\n          effect: \"dark\",\n          type: \"warning\"\n        }, {\n          default: _withCtx(() => [...(_cache[6] || (_cache[6] = [_createElementVNode(\"span\", {\n            class: \"text-red-500 text-xs mt-1 inline-block\"\n          }, \"电池电量低\", -1)]))]),\n          _: 1\n        })) : _createCommentVNode(\"\", true)]),\n        _: 1\n      }), _createVNode(_component_el_col, {\n        span: 12\n      }, {\n        default: _withCtx(() => [_cache[8] || (_cache[8] = _createElementVNode(\"div\", {\n          class: \"mb-1 text-xs text-gray-500\"\n        }, \"高度\", -1)), _createVNode(_component_el_statistic, {\n          value: $options.formatNumber($options.safeAltitude),\n          suffix: \"m\",\n          class: \"text-sm\",\n          precision: 1\n        }, {\n          prefix: _withCtx(() => [_createVNode(_component_el_icon, {\n            class: \"text-blue-500\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_ArrowUp)]),\n            _: 1\n          })]),\n          _: 1\n        }, 8, [\"value\"])]),\n        _: 1\n      }), _createVNode(_component_el_col, {\n        span: 12\n      }, {\n        default: _withCtx(() => [_cache[9] || (_cache[9] = _createElementVNode(\"div\", {\n          class: \"mb-1 text-xs text-gray-500\"\n        }, \"速度\", -1)), _createVNode(_component_el_statistic, {\n          value: $options.formatNumber($options.safeSpeed),\n          suffix: \"m/s\",\n          class: \"text-sm\",\n          precision: 1\n        }, {\n          prefix: _withCtx(() => [_createVNode(_component_el_icon, {\n            class: \"text-green-500\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_Run)]),\n            _: 1\n          })]),\n          _: 1\n        }, 8, [\"value\"])]),\n        _: 1\n      })]),\n      _: 1\n    })])]),\n    _: 1\n  });\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}