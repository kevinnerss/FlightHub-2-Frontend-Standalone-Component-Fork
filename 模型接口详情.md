
# 获取项目下的模型列表

## OpenAPI Specification

```yaml
openapi: 3.0.1
info:
  title: ''
  description: ''
  version: 1.0.0
paths:
  /openapi/v0.1/model:
    get:
      summary: 获取项目下的模型列表
      deprecated: false
      description: 获取项目下的模型列表。
      tags:
        - 模型管理
      parameters:
        - name: X-Request-Id
          in: header
          description: 请求唯一标识
          required: false
          example: '{{$string.uuid}}'
          schema:
            type: string
            format: uuid
            default: '{{$string.uuid}}'
        - name: X-Language
          in: header
          description: ''
          example: zh
          schema:
            type: string
            enum:
              - zh
              - en
            x-apifox-enum:
              - value: zh
                name: ''
                description: 简体中文
              - value: en
                name: ''
                description: 英文
        - name: X-Project-Uuid
          in: header
          description: 项目编号
          example: '{{X-Project-Uuid}}'
          schema:
            type: string
            default: '{{X-Project-Uuid}}'
        - name: X-User-Token
          in: header
          description: X-User-Token
          required: false
          example: '{x-user-token}'
          schema:
            type: string
            default: '{x-user-token}'
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    description: 非0代表异常
                  message:
                    type: string
                    description: 消息提示
                  data:
                    type: object
                    properties:
                      list:
                        type: array
                        items:
                          type: object
                          properties:
                            name:
                              type: string
                              description: 模型名称
                            file_type:
                              type: string
                              description: 模型类型
                              enum:
                                - model_2d
                                - model_3d
                              x-apifox-enum:
                                - value: model_2d
                                  name: 2D模型
                                  description: ''
                                - value: model_3d
                                  name: 3D模型
                                  description: ''
                            show_on_map:
                              type: boolean
                              description: 是否在地图上展示
                            size:
                              type: integer
                              description: 模型大小
                            update_at:
                              type: integer
                              description: 模型更新时间，毫秒级时间戳
                            create_at:
                              type: integer
                              description: 模型创建时间，毫秒级时间戳
                            id:
                              type: integer
                              description: 模型ID
                          required:
                            - id
                            - name
                            - file_type
                            - show_on_map
                            - size
                            - update_at
                            - create_at
                          x-apifox-orders:
                            - id
                            - name
                            - file_type
                            - show_on_map
                            - size
                            - update_at
                            - create_at
                    required:
                      - list
                    x-apifox-orders:
                      - list
                required:
                  - code
                  - message
                  - data
                x-apifox-orders:
                  - code
                  - message
                  - data
              example:
                code: 0
                message: ''
                data:
                  list:
                    - id: 9
                      name: terra_b3dms
                      show_on_map: true
                      size: 24281080
                      update_at: 1721372277002
                      create_at: 1721372276078
                      file_type: model_3d
                    - id: 10
                      name: cloud
                      show_on_map: true
                      size: 31010130
                      update_at: 1721372297000
                      create_at: 1721372296794
                      file_type: model_3d
          headers: {}
          x-apifox-name: 成功
      security: []
      x-apifox-folder: 模型管理
      x-apifox-status: developing
      x-run-in-apifox: https://app.apifox.com/web/project/5271812/apis/api-257000437-run
components:
  schemas: {}
  securitySchemes: {}
servers:
  - url: https://es-flight-api-cn.djigate.com
    description: 对外文档使用，勿动！！
security: []

```
# 模型重建

## OpenAPI Specification

```yaml
openapi: 3.0.1
info:
  title: ''
  description: ''
  version: 1.0.0
paths:
  /openapi/v0.1/model/create:
    post:
      summary: 模型重建
      deprecated: false
      description: 云端后重建
      tags:
        - 模型管理
      parameters:
        - name: X-Request-Id
          in: header
          description: 请求唯一标识
          required: false
          example: '{{$string.uuid}}'
          schema:
            type: string
            format: uuid
            default: '{{$string.uuid}}'
        - name: X-Language
          in: header
          description: ''
          example: zh
          schema:
            type: string
            enum:
              - zh
              - en
            x-apifox-enum:
              - value: zh
                name: ''
                description: 简体中文
              - value: en
                name: ''
                description: 英文
        - name: X-Project-Uuid
          in: header
          description: 项目编号
          example: '{{X-Project-Uuid}}'
          schema:
            type: string
            default: '{{X-Project-Uuid}}'
        - name: X-User-Token
          in: header
          description: X-User-Token
          required: false
          example: '{x-user-token}'
          schema:
            type: string
            default: '{x-user-token}'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: 模型名
                reconstruction_type:
                  type: array
                  items:
                    type: string
                    enum:
                      - model_2d
                      - model_3d
                    x-apifox-enum:
                      - value: model_2d
                        name: 二维
                        description: ''
                      - value: model_3d
                        name: 三维
                        description: ''
                  description: 重建类型
                simplified_factor:
                  type: number
                  description: 模型简化系数：建议设置为 0.2，以提高建图效率及建图完成后的浏览体验。
                wkt:
                  type: string
                  description: 坐标系，请参考《模型重建坐标系》文档
                quality_level:
                  type: string
                  description: 重建质量
                  enum:
                    - high
                    - medium
                    - low
                  x-apifox-enum:
                    - value: high
                      name: 高质量
                      description: ''
                    - value: medium
                      name: 中质量
                      description: ''
                    - value: low
                      name: 低质量
                      description: ''
                reconstruction_mode:
                  type: string
                  enum:
                    - normal
                    - surround
                  x-apifox-enum:
                    - value: normal
                      name: 普通模式
                      description: ''
                    - value: surround
                      name: 环绕模式
                      description: ''
                  description: 建图场景：三维重建时可选择“普通场景”或“环绕场景”。基于几何体或环绕航线进行模型重建时，建议选择环绕场景。
                generate_model_formats:
                  type: array
                  items:
                    type: string
                    enum:
                      - b3dm
                      - osgb
                      - ply
                      - obj
                      - pnts
                      - las
                      - point_ply
                      - normal_point_ply
                    x-apifox-enum:
                      - value: b3dm
                        name: mesh模型：默认生成以在司空中显示（LOD模型格式， 适合在Cesium中显示）
                        description: ''
                      - value: osgb
                        name: mesh模型：LOD模型格式
                        description: ''
                      - value: ply
                        name: mesh模型：非LOD模型格式
                        description: ''
                      - value: obj
                        name: mesh模型：非LOD模型格式
                        description: ''
                      - value: pnts
                        name: 点云模型：默认生成以在司空显示（LOD点云格式， 适合在Cesium中显示）
                        description: ''
                      - value: las
                        name: 点云模型：ASPRS LASer，三维点云格式
                        description: ''
                      - value: point_ply
                        name: 点云模型：非LOD点云格式
                        description: ''
                      - value: normal_point_ply
                        name: 点云模型：
                        description: ''
                  description: 三维 Mesh或点云模型
                predefine_area:
                  type: object
                  properties:
                    polygon_points:
                      type: array
                      items:
                        type: object
                        properties:
                          ' longitude ':
                            type: number
                            description: 经度
                            format: double
                          latitude:
                            type: number
                            description: 纬度
                            format: double
                        x-apifox-orders:
                          - ' longitude '
                          - latitude
                        required:
                          - ' longitude '
                          - latitude
                      description: 区域点
                  x-apifox-orders:
                    - polygon_points
                  description: 兴趣区域：开启后，用户可在地图界面调整兴趣区域边界，云端将在兴趣区域范围内进行模型重建，提高建模速度。
                  required:
                    - polygon_points
                task_folder_id:
                  type: integer
                  description: >+
                    飞行任务产生的资源文件夹编号，可调用`获取飞行任务信息`或者`获取飞行任务列表`接口获取
                    folder_id作为task_folder_id。

              required:
                - name
                - reconstruction_type
                - simplified_factor
                - wkt
                - quality_level
                - reconstruction_mode
                - generate_model_formats
                - task_folder_id
              x-apifox-orders:
                - name
                - reconstruction_type
                - simplified_factor
                - task_folder_id
                - wkt
                - quality_level
                - reconstruction_mode
                - generate_model_formats
                - predefine_area
            example:
              name: creat-model-test
              reconstruction_type:
                - model_3d
              simplified_factor: 0.2
              task_folder_id: 3318
              wkt: EPSG:32649
              quality_level: high
              reconstruction_mode: normal
              generate_model_formats:
                - b3dm
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    description: 非0代表异常
                  message:
                    type: string
                    description: 消息提示
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        description: 模型 ID
                    required:
                      - id
                    x-apifox-orders:
                      - id
                required:
                  - code
                  - message
                  - data
                x-apifox-orders:
                  - code
                  - message
                  - data
              example:
                code: 0
                message: ''
                data:
                  id: 4437
          headers: {}
          x-apifox-name: 成功
      security: []
      x-apifox-folder: 模型管理
      x-apifox-status: developing
      x-run-in-apifox: https://app.apifox.com/web/project/5271812/apis/api-257170077-run
components:
  schemas: {}
  securitySchemes: {}
servers:
  - url: https://es-flight-api-cn.djigate.com
    description: 对外文档使用，勿动！！
security: []

```
# 获取模型详情

## OpenAPI Specification

```yaml
openapi: 3.0.1
info:
  title: ''
  description: ''
  version: 1.0.0
paths:
  /openapi/v0.1/model/{model_id}:
    get:
      summary: 获取模型详情
      deprecated: false
      description: 获取模型详情信息。
      tags:
        - 模型管理
      parameters:
        - name: model_id
          in: path
          description: 模型ID
          required: true
          schema:
            type: string
        - name: X-Request-Id
          in: header
          description: 请求唯一标识
          required: false
          example: '{{$string.uuid}}'
          schema:
            type: string
            format: uuid
            default: '{{$string.uuid}}'
        - name: X-Language
          in: header
          description: ''
          example: zh
          schema:
            type: string
            enum:
              - zh
              - en
            x-apifox-enum:
              - value: zh
                name: ''
                description: 简体中文
              - value: en
                name: ''
                description: 英文
        - name: X-Project-Uuid
          in: header
          description: 项目编号
          example: '{{X-Project-Uuid}}'
          schema:
            type: string
            default: '{{X-Project-Uuid}}'
        - name: X-User-Token
          in: header
          description: X-User-Token
          required: false
          example: '{x-user-token}'
          schema:
            type: string
            default: '{x-user-token}'
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    description: 非0代表异常
                  message:
                    type: string
                    description: 消息提示
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        description: 模型ID
                      name:
                        type: string
                        description: 模型名称
                      user_name:
                        type: string
                        description: 用户名
                      url:
                        type: string
                        description: 下载链接
                      preview_url:
                        type: string
                        description: 预览链接
                      show_on_map:
                        type: boolean
                        description: 是否在地图上展示
                      size:
                        type: integer
                        description: 大小，单位：Byte
                      update_at:
                        type: integer
                        description: 模型更新时间，毫秒级时间戳
                      create_at:
                        type: integer
                        description: 模型创建时间，毫秒级时间戳
                      file_type:
                        type: string
                        description: 模型类型
                        enum:
                          - model_2d
                          - model_3d
                        x-apifox-enum:
                          - value: model_2d
                            name: 2D模型
                            description: ''
                          - value: model_3d
                            name: 3D模型
                            description: ''
                    required:
                      - id
                      - name
                      - user_name
                      - url
                      - preview_url
                      - show_on_map
                      - size
                      - update_at
                      - create_at
                      - file_type
                    x-apifox-orders:
                      - id
                      - name
                      - user_name
                      - url
                      - preview_url
                      - show_on_map
                      - size
                      - update_at
                      - create_at
                      - file_type
                required:
                  - code
                  - message
                  - data
                x-apifox-orders:
                  - code
                  - message
                  - data
              example:
                code: 0
                message: ''
                data:
                  id: 10
                  name: cloud
                  user_name: '1721360612003670572'
                  url: >-
                    http://127.0.0.1:30802/file-storage-privatization/8d72d542-f966-447d-85c6-c440263ca612/f8d836b0-1092-4750-88cf-3a99157c61fb/841a0559-7fb6-42e4-abb7-dd7bd0f72479/cloud.las?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=admin%2F20250124%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20250124T123113Z&X-Amz-Expires=86400&X-Amz-SignedHeaders=host&response-expires=Sat%2C%2025%20Jan%202025%2012%3A31%3A13%20GMT&x-id=GetObject&X-Amz-Signature=702a04b7e2ef7bbfb1f7d1afe6e135284b32fa5f230b4308a3391277aa622fa6
                  preview_url: >-
                    http://127.0.0.1:30802/file-storage-privatization/8d72d542-f966-447d-85c6-c440263ca612/f8d836b0-1092-4750-88cf-3a99157c61fb/5e1c1459-6706-4323-8364-c9ac1a3a7c71/cloud_capture.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=admin%2F20250124%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20250124T085904Z&X-Amz-Expires=86400&X-Amz-SignedHeaders=host&response-content-disposition=attachment%3Bfilename%3D%22cloud_capture.png.png%22&response-expires=Sat%2C%2025%20Jan%202025%2008%3A59%3A04%20GMT&x-id=GetObject&X-Amz-Signature=e5dce416b16e7dccf5b5347ec0d71534c6e6e891e96bc806a143de91b21edd45
                  show_on_map: true
                  size: 31010130
                  update_at: 1721372297000
                  create_at: 1721372296794
                  file_type: model_3d
          headers: {}
          x-apifox-name: 成功
      security: []
      x-apifox-folder: 模型管理
      x-apifox-status: developing
      x-run-in-apifox: https://app.apifox.com/web/project/5271812/apis/api-257039924-run
components:
  schemas: {}
  securitySchemes: {}
servers:
  - url: https://es-flight-api-cn.djigate.com
    description: 对外文档使用，勿动！！
security: []

```
